<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>(自用/收藏)CSS效果/CSS动画</title>
    <url>/2023/09/29/CSS%E5%8A%A8%E7%94%BB/</url>
    <content><![CDATA[<p>本文主要收藏一些有用常用的CSS语句，<br>
可以修饰文字或者炫酷的特效等。</p>
<span id="more"></span>
<div class="biankuang">
<p>边框效果</p>
</div>
<style>
.biankuang{
		font-size:30px;
		font-weight:bold;
		color: black;
		border: 5px solid;
		border-radius: 5px;
		padding: 15px;
		background-color:white;
	}
</style>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.biankuang</span>&#123;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">font-size</span>:<span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">font-weight</span>:bold;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">color</span>: black;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">border</span>: <span class="number">5px</span> solid; #厚度</span></span><br><span class="line"><span class="language-css">		<span class="attribute">border-radius</span>: <span class="number">5px</span>; #曲率</span></span><br><span class="line"><span class="language-css">		<span class="attribute">padding</span>: <span class="number">15px</span>; </span></span><br><span class="line"><span class="language-css">		<span class="attribute">background-color</span>:white;</span></span><br><span class="line"><span class="language-css">	&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<!--more-->
<div class="animate_test">
<p>边框效果</p>
</div>
<style>
.animate_test{
	animation: bounce; 
	animation-duration: 2s; 
}
</style>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;animate_test&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>边框效果<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.animate_test</span>&#123;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">animation</span>: bounce; </span></span><br><span class="line"><span class="language-css">	<span class="attribute">animation-duration</span>: <span class="number">2s</span>; </span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>前端CSS</category>
      </categories>
  </entry>
  <entry>
    <title>hexo常用的API（插件）</title>
    <url>/2023/10/01/hexo%E5%B8%B8%E7%94%A8%E7%9A%84API%EF%BC%88%E6%8F%92%E4%BB%B6%EF%BC%89/</url>
    <content><![CDATA[<p>一、前言<br>
本文主要介绍一些常用/必用插件，我用的主题主要是next，<br>
next里面有很多已经支持的API，只需要在配置文件修改。<br>
其他一部分则需要npm或者git安装。但一些API长年<br>
没有维护或者版本更新，配置发生了变化。<br>
主要说一下已经能够完成完整功能，没有出bug的插件，<br>
避一下踩过的坑</p>
<span id="more"></span>
<p>二、正文<br>
待更新----<br>
1.</p>
<h1>设置博客单词统计</h1>
<p>symbols_count_time:</p>
<h1>文章字数统计</h1>
<p>symbols: true</p>
<h1>文章阅读时间统计</h1>
<p>time: true</p>
<h1>站点总字数统计</h1>
<p>total_symbols: true</p>
<h1>站点总阅读时间统计</h1>
<p>total_time: true<br>
exclude_codeblock: false</p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
  </entry>
  <entry>
    <title>css音频波浪动画</title>
    <url>/2023/10/03/css%E9%9F%B3%E9%A2%91%E6%B3%A2%E6%B5%AA%E5%8A%A8%E7%94%BB/</url>
    <content><![CDATA[<p>如题<br>
本文主要收藏一个CSS动画，<br>
可以用来配合音乐做出音频波浪的效果。</p>
<span id="more"></span>
<p><img src="1005D_253_1.jpg" alt="1005D_253_1.jpg"></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bars_music&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar_music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bars_music</span>&#123;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">width</span>: <span class="number">60px</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span>&#123;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">background</span>: <span class="number">#FF88C2</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">border</span>:<span class="number">1px</span> solid;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">height</span>: <span class="number">3px</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">width</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">bottom</span>:<span class="number">1px</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">animation</span>: voice <span class="number">0ms</span> -<span class="number">800ms</span> linear infinite alternate;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="keyword">@keyframes</span> voice&#123;</span></span><br><span class="line"><span class="language-css">	</span></span><br><span class="line"><span class="language-css">	<span class="number">0%</span>&#123;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">height</span>: <span class="number">3px</span>;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">opacity</span>: .<span class="number">35</span>;</span></span><br><span class="line"><span class="language-css">	&#125;</span></span><br><span class="line"><span class="language-css">	<span class="number">100%</span>&#123;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">height</span>: <span class="number">24px</span>;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">opacity</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">	&#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)  &#123; <span class="attribute">left</span>: <span class="number">1px</span>; <span class="attribute">animation-duration</span>: <span class="number">474ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)  &#123; <span class="attribute">left</span>: <span class="number">6px</span>; <span class="attribute">animation-duration</span>: <span class="number">433ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)  &#123; <span class="attribute">left</span>: <span class="number">11px</span>; <span class="attribute">animation-duration</span>: <span class="number">407ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>)  &#123; <span class="attribute">left</span>: <span class="number">16px</span>; <span class="attribute">animation-duration</span>: <span class="number">458ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">5</span>)  &#123; <span class="attribute">left</span>: <span class="number">21px</span>; <span class="attribute">animation-duration</span>: <span class="number">400ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">6</span>)  &#123; <span class="attribute">left</span>: <span class="number">26px</span>; <span class="attribute">animation-duration</span>: <span class="number">427ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">7</span>)  &#123; <span class="attribute">left</span>: <span class="number">31px</span>; <span class="attribute">animation-duration</span>: <span class="number">441ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">8</span>)  &#123; <span class="attribute">left</span>: <span class="number">36px</span>; <span class="attribute">animation-duration</span>: <span class="number">419ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">9</span>)  &#123; <span class="attribute">left</span>: <span class="number">41px</span>; <span class="attribute">animation-duration</span>: <span class="number">487ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.bar_music</span><span class="selector-pseudo">:nth-child</span>(<span class="number">10</span>) &#123; <span class="attribute">left</span>: <span class="number">46px</span>; <span class="attribute">animation-duration</span>: <span class="number">442ms</span>; &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>前端CSS</category>
      </categories>
  </entry>
  <entry>
    <title>【前端Jquery】jQuery的css选择器的写法</title>
    <url>/2023/09/28/jQuery%E7%9A%84css%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E5%86%99%E6%B3%95/</url>
    <content><![CDATA[<p>前文传送门<br>
<a href="/2023/09/27/%E7%94%A8JS%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%88%B6%E4%BD%9C%E7%9A%84%E7%AE%80%E6%98%93%E7%88%AC%E8%99%AB">前文：用JS（前端）制作的简易爬虫</a></p>
<p><a href="https://www.runoob.com/jquery/jquery-install.html">参考</a></p>
<p>1.jQuery<br>
jQuery主要可以简化一部分JS写法，同时功能性也很强大<br>
笔者目前在学习阶段，对jQuery只是小有拙见，有误见谅。</p>
<span id="more"></span>
<p><img src="/image/928D_149_1.jpg" alt="1"><br>
2.jQuery的使用方法<br>
调用jQuery</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这里用了百度源，也可以用其他的</p>
<p>3.函数写法差异<br>
jQuery的写法更为简练<br>
例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;test_text&quot;</span>&gt;<span class="variable constant_">TEST</span>&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//js写法</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	<span class="keyword">var</span> text=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.test_text&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	<span class="variable language_">console</span>.<span class="title function_">log</span>(text) <span class="comment">//输出TEST</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//jquery写法</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	<span class="keyword">var</span> text=$(<span class="string">&quot;.test_text&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	<span class="variable language_">console</span>.<span class="title function_">log</span>(text) <span class="comment">//输出TEST</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>4.常用函数<br>
修改<br>
.attr(“”,“”) #属性<br>
.css({“”:“”}) #css样式<br>
.text(“”) #文本<br>
不赋值则会直接更改元素html</p>
<p>5.jQuery关于music pause的坑</p>
<figure class="highlight mel"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;&quot;</span>).get(<span class="number">0</span>).<span class="keyword">pause</span>()</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line">$(<span class="string">&quot;&quot;</span>)[<span class="number">0</span>].<span class="keyword">pause</span>()</span><br></pre></td></tr></table></figure>
<p>如果直接,会报错</p>
<figure class="highlight mel"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;&quot;</span>).<span class="keyword">pause</span>()</span><br></pre></td></tr></table></figure>
<p>jQuery关闭启动css动画：<br>
$(“”).attr(“animation-play-state”,“paused”)<br>
$(“”).attr(“animation-play-state”,“running”)</p>
]]></content>
      <categories>
        <category>前端JS</category>
      </categories>
      <tags>
        <tag>介绍</tag>
      </tags>
  </entry>
  <entry>
    <title>word测试</title>
    <url>/2023/10/11/word%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[<p>—占位—<br>
本文提供了一个ppt预览和下载功能<br>
—占位—</p>
<span id="more"></span>
<p>
<a target="_blank" href="/word/第3组项目周报（第8周）.docx" download="第3组项目周报（第8周）.docx">第3组项目周报（第8周）.docx</a>
</p>]]></content>
      <categories>
        <category>测试</category>
      </categories>
  </entry>
  <entry>
    <title>《1923》往事如酒</title>
    <url>/2023/10/28/%E3%80%8A1923%E3%80%8B%E5%BE%80%E4%BA%8B%E5%A6%82%E9%85%92/</url>
    <content><![CDATA[<p>一副史诗级宏大狂野的西部画卷<br>
18世纪末，刚从英国殖民地脱离出来的美国领土大概只有不到今天领土的三分之一，与英国进行独立战争后的美国一片焦土，对生存空间的渴望促使美国人开始了这项“开疆拓土”的运动，史称西进运动。西进运动就是说<br>
美国东部居民向西部地区迁移，听起来像搬个家一样平平无奇。但事实上整个西进运动都是伴随着血与泪进行的，无论是移民者内部的争夺厮杀还是被驱赶、屠杀的印第安人都付出了惨痛的代价。<br>
整个西进运动持续了一个多世纪，直到一战结束后的1923年西进运动才结束。1923是一个终结，标志着西部开荒的结束，它的故事徘徊在秩序与混乱的边界。在这片浪漫与血腥并存的土地上，达顿家族绵延百年的家族史<br>
伴随着左轮的枪响在列列西风中展开。<br>
<img src="%E5%9B%BE%E4%B8%80.jpg" alt="图一.jpg"><br>
故事从满头银发、拿着猎枪追杀一个受伤男人的卡拉·达顿开场，她是农场第二任女主人，雅各布·达顿的妻子。<br>
她是达顿家族的定海神针，温柔智慧又兼具坚毅。<br>
千钧一发之际她扣下扳机杀死了男人!<br>
这时树林归于平静，卡拉握着枪朝天空发出的撕心裂肺而又愤怒的哀嚎。<br>
<img src="%E5%9B%BE%E4%BA%8C.jpg" alt="图二.jpg"><br>
编剧并没有立刻向我们揭示背后发生了什么。</p>
<p>直到第三集，大家才恍然大悟，达顿家族惨遭埋伏受到重创，死伤惨重。<br>
即使面对这些，身板瘦弱的卡拉也绝不在人前流露半点哀伤。</p>
<p>面对敌人她眼神透出的坚狠劲，更是让我们看到，她本身就如这片土地一样，强韧而充满魅力</p>
<p>1923年。</p>
<p>此时的农场属于雅各布·达顿，卡拉的丈夫。</p>
<p>他是衍生剧《1883》年里詹姆斯·达顿的弟弟，詹姆斯死后，他收到詹姆斯的妻子玛格丽特的求助信，便和卡拉举家迁到这片荒野。<br>
第二年冬天他抵达的时候，玛格丽特已经被冻死，只留下两个快被寒冷和饥饿结束生命的儿子——约翰一世和斯宾塞。</p>
<p>1923年，是雅各布来到这片土地的30年后。<br>
这一年，一战刚刚结束不久，随着禁酒令的兴起，大萧条时代悄然来临。同时，灾情遍布各州，草场面临大面积干旱，牛群因蝗灾感染疫病死亡。跟随镜头，画外音是衍生剧《1883》里艾尔莎·达顿平静的声音：“他（雅各布）视两个孩子如己出，继承我父亲的梦想在这里建立一个帝国，然而，帝国崩溃了。”</p>
<p>这一年，一战刚刚结束不久，随着禁酒令的兴起，大萧条时代悄然来临。<br>
<img src="%E5%9B%BE%E4%B8%89.jpg" alt="图三.jpg"><br>
同时，灾情遍布各州，草场面临大面积干旱，牛群因蝗灾感染疫病死亡。<br>
“他（雅各布）视两个孩子如己出，继承我父亲的梦想在这里建立一个帝国，然而，帝国崩溃了。<br>
这样越是平静像是诉说别人不幸的语气，反而越显得情形的凶险与不容乐观。</p>
<p>残酷的环境与争夺就这样直白地向达顿家族袭来，连喘息的时间都没有。<br>
苏格兰牧羊人班纳破坏规矩放任自己羊群在别人的土地上吃草，结果羊被杀了，他聚集一帮牧羊人向畜牧协会的人讨要说法。</p>
<p>雅各布·达顿作为畜牧协会委员，态度非常鲜明。</p>
<p>他认为破坏别人家的草地，就等于间接杀害别人家的牛。<br>
偷草对于农场主而言，就相当于偷别人家的金子，这是不可原谅的。</p>
<p>因此他明确表示，坏了规矩导致羊群被杀只能怪班纳自己，所以他不会对杀羊的人追究任何责任。<br>
<img src="%E5%9B%BE%E5%9B%9B.jpg" alt="图四.jpg"><br>
并建议班纳，如果自己的土地养不活那么多羊，就卖掉一些。<br>
因此，班纳和达顿家族结下了梁子。</p>
<p>由于气不过、心不甘，他带着牧羊人赶着羊直接来雅各布的地盘上吃草。</p>
<p>这时候现代文明还处于萌芽阶段，法律与规则尚未完善。</p>
<p>面对欺负到自己头上的牧羊人，雅各布给予他们西部的传统——绞刑伺候。<br>
班纳也不是善茬，他死里逃生后立马召集一帮人打算狙杀达顿家族…<br>
《1923》有三条线，达顿家族的黄石牧场只是其中一条线，第二条线聚焦在雅各布的侄子斯宾塞身上。</p>
<p>他经历过一战，心灵受到战争的内创，此时他在非洲内毕罗成为职业猎人，为雇主猎杀狮子和猎豹。<br>
他邂逅了未来的妻子亚历山德拉。<br>
<img src="%E5%9B%BE%E4%BA%94.jpg" alt="图五.jpg"><br>
光看外表，亚历山德拉是那种拥有诱人的身材的芭比美人，像一个传统西部片中经常出现的美人花瓶。</p>
<p>实际上，她却集俏皮果敢、勇敢浪漫于一身，是那种做出决定后，承担此选择带来一切后果的人。<br>
虽然她和斯宾塞从相遇后，就时时刻刻处在命悬一线的边缘<br>
第三条线，是当时的神父与修女对蒙大拿原住孩子的殴打虐待，目的是想达成对土著人们的强制同化。</p>
<p>特奥娜，是被关在修道院的印第安女学生。她的父亲是雅各布绞刑班纳时，将班纳的羊赠送给印第安人的首领。</p>
<p>特奥娜在修道院时，经常受到羞辱、毒打以及各种精神摧残。</p>
<p>但她骨子里的反叛精神，使得她在面对修女的责难时，直接拳脚相向。她意识到要是一直呆在这里会死，便决定逃离这里。</p>
<p>晚上，她用圣经砸死了经常虐待自己的修女，并用刀捅死了另外一个。<br>
西部片一直吸引着我们，因为那里拥有茫茫草原，那里狂野空旷，那里有着最戏剧性、最自由的边界！<br>
<img src="%E5%9B%BE%E5%85%AD.jpg" alt="图六.jpg"><br>
我们也相信，也只有这样壮美严酷的环境与背景，才配得上一片荒蛮中秩序的艰难形成。<br>
人类的恩怨情仇可以追溯、可以报复，但在残酷的自然面前，你只能接受！就像《多情剑客无情剑》中，上来就是“冷风如刀，以大地为砧板，以众生为鱼肉。”<br>
只不过即便如此，我们爱达顿家族，可不就是爱他们爱他们的狂野浪漫；爱他们的桀骜不驯；爱他们一代一代血脉里流淌的一意孤行的不屈与反抗嘛…</p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
  </entry>
  <entry>
    <title>《人生切割数》打工人的困境与荒唐</title>
    <url>/2023/10/28/%E3%80%8A%E4%BA%BA%E7%94%9F%E5%88%87%E5%89%B2%E6%95%B0%E3%80%8B%E6%89%93%E5%B7%A5%E4%BA%BA%E7%9A%84%E5%9B%B0%E5%A2%83%E4%B8%8E%E8%8D%92%E5%94%90/</url>
    <content><![CDATA[<p>《人生切割数》打工人的困境与荒唐<br>
没有工作烦恼的人生，是不是就能变得更好？</p>
<span id="more"></span>
<p><img src="%E5%9B%BE%E4%B8%80.jpg" alt="图一.jpg"><br>
1930年，经济学家凯恩斯预言，到二十世纪末，工作时长将缩短至每周15小时。谁都没有料到，996却成为打工人的福报。<br>
《人生切割术》如当头棒喝，展现了资本与技术操控现实的另一极端：将工作与个人生活完全切割，将人格与记忆完全切割，并揭开这种“新型福报”的可怖真相：“你”并非不再需要工作，而是需要永远工作。<br>
上世纪60年代雅克·塔蒂式复古未来主义美学在剧中复现，人被压缩进冰冷机械、灰蓝色调的办公间，《玩乐时间》里整齐划一的狭小格子间，转化为庞然大物的集团办公楼。<br>
<img src="%E5%9B%BE%E4%BA%8C.jpg" alt="图二.jpg"><br>
剧中呈现的当代人不可承受的生命之重，或许并不只是存在于近未来：毫无意义的“狗屁工作”、无处不在的监视系统、形式主义的庆祝活动、让人窒息的禁闭机制······一切如此熟悉，如此令人毛骨悚然。<br>
更让人惊悚之处，不是目睹剩余价值如何被系统压榨殆尽，而是目睹人们如何在痛苦中变得顺从，在压抑中选择逃避，逐渐走向自我奴役，不再想象与渴望自由。<br>
而最后的反转，则展现了从个体反抗走向革命的企图—让我们期待第二季，受压迫者终将推翻资本家，或者，这可能又是一层自由的幻影？<br>
<img src="%E5%9B%BE%E4%B8%89.jpg" alt="图三.jpg"><br>
厌恶上班是绝大多数人类的共同烦恼。<br>
工作日的早晨醒来，虽然外面阳光明媚，但一想到今天去公司之后还要应付乱七八糟各种麻烦，心情就已经瞬间跌落到谷底。如果晚上约了朋友，或者第二天就是周末，那更加无心工作。这时候就只希望能有办法跳过上班时间，直接下班。<br>
那假如这样的幻想可以成真呢？<br>
最近刚刚完结的美剧《人生切割术》就提出了这么一个“美好愿景”—人可以切割自己的时间，把上班时间从生活中切割出去，就如同不存在一样。<br>
没有工作烦恼的人生，是不是就能变得更好？<br>
所谓的切割时间，实际上是分离记忆。人的记忆是线性流淌的，摘除一段记忆后感觉就像是发生了时空跳跃。<br>
虽然每天早上还是要去公司，但上一秒踏进大门，下一秒就直接到了下班时间，身体可能会有疲惫，但意识上不会有任何间隔。工作仿佛完全从生活中消失了。就像是一台电脑分了两个硬盘，彼此存储的内容并不共享，也无法读取对方的数据。<br>
卢蒙公司就专门提供这样的分离记忆技术。<br>
<img src="%E5%9B%BE%E5%9B%9B.jpg" alt="图四.jpg"><br>
除了极个别的高管，入职员工都需要在脑内植入分离芯片，工作和生活完全分离。美其名曰，“让工作和生活实现更高层次的平衡”。<br>
很多人都被这样的宣传所吸引。没有同事关系，没有加班熬夜，连老板是谁都不知道，业余时间完全归自己，还能按时拿工资。<br>
这也像是一种数据时代的“忘忧草”。两年前，男主角马克的妻子在车祸中丧生，为了减少痛苦，马克主动接受了记忆分离手术，入职卢蒙，希望每天至少有八小时的自己可以摆脱忧伤。<br>
但资本家画的大饼从来不会那么简单。<br>
记忆虽然被分离但并不会消失。在公司的你还是你，清醒、有意识、感受着喜怒哀乐，只是下班后就都不记得了。<br>
切割记忆，也就等同于把一个人切割成了好几份。<br>
为了便于区分，剧中把公司里的人叫做innie<br>
（里面的人），把下班后的人称为outie（外面的人）。<br>
outie的生活中没有了工作，但innie的生活只剩下了工作，再没有下班时间。<br>
除了姓名和工号，innie没有对外面世界的任何记忆，不知道自己在外面是个什么样的人，不清楚自己有没有结婚成家，有没有兄弟姐妹。innie从诞生起就完全属于公司，对世界的全部理解就是格子间、工位和同事。<br>
innie虽然每天按时下班，但走出门的下一秒就是第二天的上班时间，衣服换过了，但感觉上没有任何区别，又要继续已经重复无数遍的工作。innie没见过外面的太阳，甚至没有尝过睡觉的滋味。<br>
是不是有大厂里007的福报味儿了？但因为表面上遵循了八小时工作制，劳动法也无法生效。<br>
<img src="%E5%9B%BE%E4%BA%94.jpg" alt="图五.jpg"><br>
切割记忆的本质是赛博时代的卖身契，由当事人自己签字画押。看似是获得了工作之外的自由，实际上却是在把每天八小时的自己像牲口一样卖给公司，在剥夺记忆的情况下任由他人摆布。<br>
说到底，outie和innie仍然是同一个人，拥有同样的性格、脾气、偏好。如果outie不喜欢工作，innie又怎么可能喜欢呢？只是掩耳盗铃罢了。<br>
就像人需要疼痛感来进行自我防御，没有记忆也就没有了警惕。在那漫长的八小时里，掌握了所有主动权的公司可以为所欲为。<br>
刨除科幻成分，《人生切割术》呈现了一个后现代企业所能做到的剥削极致。<br>
首先是信息封锁。<br>
卢蒙公司对外宣称的业务是生物科技，但没有人真正知道这个神秘组织的内部架构。<br>
就说马克所在的部门，MDR，一共四个人，工作内容就是盯着电脑屏幕上无限多的数字，然后挑选出其中会让自己感觉不舒服的数字。<br>
这些数字代表了什么？innie为什么会在看到这些数字时产生没来由的恐慌感？找出并删除这些数字的意义又是什么？<br>
在高度分工的流水生产线上，个人被完全异化成工具，被日复一日的重复劳动困在信息牢笼<br>
里。螺丝钉不需要有自主意识，工作显得毫无意义和成就感，随时有被替换的危机。<br>
部门与部门之间被刻意隔离。管理人员利用虚假信息让部门之间互相仇视、猜忌，毫无交流和往来。一个人在卢蒙工作了几十年可能都不认识除自己部门和安保人员以外的其他人。<br>
工作环境也极其压抑。<br>
公司里到处都是摄像头，职员的一举一动都被高度监控。员工没有任何隐私可言。<br>
为了防止信息外泄，innie被严格禁止通过任何方式和outie交流、传递信息，无论是含在嘴里的纸条还是画在身上的字符都会被检测出来。<br>
不仅是innie，自以为已经跟工作毫无瓜葛的outie其实也在不知情的情况下被监视着动向。职员的个人信息被公司牢牢掌握，所以就算发现了问题想闹事也几乎是不可能的，一旦出现异常，公关团队立马就会出动解决问题。<br>
个体没有一丁点儿跟集团对抗的资本。更可怕的是精神控制。<br>
卢蒙公司内部是极权管理，必须绝对服从上司，必须绝对遵守规章制度。任何有违规和越界行为的人都会被送进公司“小黑屋”。<br>
当然不会有会留下痕迹的体罚，但具有更强威慑力的精神虐待足以驯服任何出头鸟。你以为自己这一周都正常上班，但在innie的时间线里，却可能是在承受40个小时连续不断的摧残。<br>
这些种种，outie都不会知道。<br>
有惩罚的“苦头”，自然也会有奖励的“甜头”。<br>
对于除了工作一无所有的innie来说，听音乐、吃加了枫糖的华夫饼就已经是最高规格的奖励了。被PUA久了，小恩小惠就足以换来极大的感恩。<br>
除此之外，大厂集团还有一个永不过时的洗脑套路：造神，搞领袖崇拜。<br>
卢蒙大楼里有一个“永恒区”，新来的员工和受奖励的员工可以获得参观权限。和极简风格的办公区不同，永恒区被装饰得富丽堂皇，里面供奉着卢蒙历届CEO的雕像。<br>
创始人基尔更是被塑造成上帝一般的圣人形象，他的语录被集结成册，像圣经一样让所有<br>
员工通读背诵。“向伟大的基尔致敬”，这是所有职员的口头禅。<br>
信息茧房、高度监控、精神操控、洗脑驯化，剧中卢蒙对职员的种种剥削行为看似夸张，其实都可以从现实中找到对应版本。这是这部剧在全球引发广泛共鸣的真正原因。<br>
那这样的职场地狱还有逃脱可能吗？<br>
按照“正规”流程，innie结束苦役的方式只有两种：退休或辞职。主动权都在outie手上，innie能做的就只有熬。<br>
剧中有场退休欢送会，同事们祝福一位老员工的离开。VCR里，outie录了段告别辞，大意是说，感谢innie这么勤勤恳恳，虽然他并不知道具体的工作是什么，感谢同事们几十年来的照顾，虽然他也并不知道这些人具体是谁。<br>
没有任何相关记忆的outie能做的只是苍白而敷衍地说些无关痛痒的场面话。旁边老员工的好友一针见血地戳穿了这个虚伪的场面：<br>
“你们是在庆祝他的死亡。”<br>
人的定义到底是什么？死亡又是什么？<br>
老员工的肉身虽然不会消亡，但他这部分灵魂，带有独立意识、自我认知和独特情感的记忆将被强行关闭、删除、不复存在，跟死亡无异。<br>
另一条路，辞职，但发生概率极低。<br>
虽然条例上写的是“全凭自愿”，可有几个outie会大发慈悲愿意主动放弃轻松逍遥的生活重新接受工作呢？况且他们也并不知晓innie真正的处境。<br>
也有过试图推翻规则的人。主角团里新加入的员工赫利性格刚硬，她无法忍受这样的剥削生活，只想迅速了结这个状态的自己。<br>
她闹事、抗议，希望outie听到她的诉求，公司勉为其难传达了，但隔天就收到了outie拒绝辞职的VCR。<br>
“听好了，做决定的人是我，不是你。我是人，你不是。”外面的赫利态度冷漠。这形成了一场自己对自己的暴政。<br>
outie不心慈手软，innie也不会乖乖就范。为<br>
了给外面的自己一个下马威，赫利选择了上吊，就在上下班进行模式切换的电梯间里。电<br>
梯门一开一合，外面的赫利在恢复意识的瞬间发现被里面的自己勒住了喉咙。<br>
对于暴政，赫利反过来实施了一场自己对自己的革命。<br>
这是《人生切割术》另一个细思极恐的点，自我奴役。<br>
韩裔德国哲学家韩炳哲在《倦怠社会》一书中提出，现代社会已经不再是福柯的规训社会，而是进入了过度积极的功绩社会。人们将规训内化后自发地行动，把成就自身视为自己的任务。<br>
“每个人都身处自己的劳动营里。这种劳动营的特殊之处在于，一个人同时是囚犯和看守、受害者和施暴者。人类以这种方式进行自我剥削。”<br>
这种自我奴役是主观上的心理活动，只是《人生切割术》以科幻方式将其具象化了。剧中会接受分离手术的人都是讨厌工作或受困于某种负面情绪的人，但为了合乎世俗要求，他们又不得不接受工作，并通过这种极端方式去剥削自己，以显示自己在保持积极生活。<br>
现实中有很多年轻人也在践行这种分离状态。<br>
<img src="%E5%9B%BE%E5%85%AD.jpg" alt="图六.jpg"><br>
前段时间豆瓣上有个话题很火：上班与下班的割裂人生。<br>
5千多条跟帖，1.5亿多浏览量。人们纷纷展示自己工作与生活两种状态的割裂。白天工程师，晚上摇滚人。上班兢兢业业打卡，下班肆无忌惮放飞。<br>
这些帖子有着高度的相似性。对上班的举例大多是大厂螺丝钉、工地蓝领，或者是公务员、教师、医护，代表了传统、稳定、中规中矩。配的也都是灰头土脸、造型朴素的照片。而对下班的举例则五花八门，嘻哈歌手、脱口秀演员、性感车模，精致打扮，甚至浓妆艳抹。<br>
在这些分享中，其实暗藏着倾向性：上班是无聊的、呆板的、心酸的，下班是有趣的、丰富的、快乐的。工作和生活的对立越突出，反差越大，越能吸引围观。<br>
年轻人们试图用五彩斑斓的下班生活对冲掉暗淡枯燥的上班工作。各种各样的广告也总是在鼓励人们下班后尽可能多地进行消费、娱乐、享受。<br>
这正贴合了韩炳哲所说的，功绩社会发展成一种“兴奋剂社会”。“正是在赤裸的、极为易逝的生活刺激下，人类变得过度活跃，以歇斯底里的状态投入工作和生产。”<br>
这当然有正面意义，但这些能够大方晒出生活瑰丽面的，都是这个功绩社会的幸存者们。在这样“一切皆有可能”的积极社会里，无法实现和协调自我的人也会难以自控地陷入自我谴责、自我攻击。<br>
“功绩社会产生抑郁症患者和厌世者。”他们是这场内在战争中的伤残者。<br>
男主角马克原本是大学教授，因为丧妻陷入抑郁。其他人的生活也或多或少存在问题，孤独、寂寞、边缘。入职卢蒙、接受分离，是为了让自己看起来像个还能继续生活的“正常人”。<br>
但分离并没有真正解决任何问题。马克依然悲痛，其他人只是切割掉了部分记忆，疼痛并不会减少。生活之苦在持续，工作剥削还变本加厉。<br>
所以分离并非答案，“上班与下班的割裂人生”也只是伪命题。多重生活不应是各个板块的分崩离析，而是恰到好处的彼此兼容。无论工作还是生活，都要以自主的、明确的、清醒的、完整的姿态去面对，不以自欺欺人的分裂剥削自己，不以追求功绩的积极奴役自己。在被过劳的疲倦吞噬之前，直面痛苦、化解焦虑，自我对抗最终需要调和出内心的平衡，找到新的出路。<br>
如韩炳哲所引用的西塞罗的话：并非积极的生活，而是沉思的生活，才能使人类获得其应有的状态。</p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
  </entry>
  <entry>
    <title>【电影】《漫长的季节》，掰不过命运，还要仰着头往前</title>
    <url>/2023/10/21/%E3%80%8A%E6%BC%AB%E9%95%BF%E7%9A%84%E5%AD%A3%E8%8A%82%E3%80%8B%EF%BC%8C%E6%8E%B0%E4%B8%8D%E8%BF%87%E5%91%BD%E8%BF%90%EF%BC%8C%E8%BF%98%E8%A6%81%E4%BB%B0%E7%9D%80%E5%A4%B4%E5%BE%80%E5%89%8D/</url>
    <content><![CDATA[<p>《漫长的季节》，掰不过命运，还要仰着头往前</p>
<p>无论何时，都要昂首挺胸地活下去。</p>
<p>桦钢厂的工人们围聚在居民楼前，警车、救护车都来了。<br>
住在一楼的拾荒老太太刚被抬走，吓晕的。几个小时前，她从垃圾箱里捡了袋生肉，回家打开后才发现，里面是被剁碎的人体组织<br>
围绕一桩碎尸案，国产剧《漫长的季节》徐徐展开，故事的起点设定在上世纪90年代面临下岗潮的东北。摇摇欲坠的钢铁集团桦钢厂，在千禧年来临前轰然崩塌，连带着千万个下岗职工的家庭悲剧。</p>
<span id="more"></span>
<p>凭借三年前《隐秘的角落》，导演辛爽把国产悬疑剧的质量整体拔高了一个水准，此次《漫长的季节》更为凶猛，豆瓣开分9.2，第12集大<br>
结局时涨到了9.5分，是近十年来国产剧口碑TOP3。<br>
<img src="m1_1.png" alt="1"><br>
鲜见地，观众们用“文学”来形容这部作品。在悬疑案与插科打诨的东北式贫嘴之外，《漫长的季节》带着深刻的人文价值关怀，极其具象写实地重现了那个在漩涡中分崩离析的时代。<br>
它关乎的，是一代人的尊严被剁碎、碾碎、踩碎，再一点点捡拾、拼凑起来，拖拽着残肢断臂在命运之路上继续前行。<br>
巨兽之死<br>
近两年的影视作品中，东北的色调都离不开黑白灰：白雪皑皑的冬季，泥泞混合着油污的黑土地，灰蒙蒙雾霾的天气，废土气息的工厂遗址，加上凋敝萧条的经济环境，东北一度成为了国产悬疑剧的“犯罪之都”。<br>
<img src="m1_2.png" alt="2"><br>
但《漫长的季节》不同，辛爽镜头下的东北是明媚的。那里不全是冰天雪地，还有清爽明亮的秋天，金灿灿的玉米地和小麦田。重工业拉动的城市曾经进步且富饶，而身处其中的工人们理所当然地认为这样的好日子会持续一辈子。<br>
范伟饰演的王响是桦钢厂的火车司机，在班组里也算是个受尊敬的人物。很多人说王响就跟自家的大爷一模一样，范伟把那个劲儿拿捏得特别准。走路昂着脖子，说话喜欢拿腔拿调，自认“治安积极分子”“环保积极分子”，邻里什么鸡毛蒜皮的事情都爱掺和，“爹味十足”地发表意见。<br>
王响很爱说自己是“根正苗红的桦钢厂子弟”，吹嘘“建厂的第一锹土就是我爸铲<br>
的”。他在这里出生、长大，在这里工作、成家，当然老婆也是桦钢的。所有人的步调都是<br>
如此，他们眼里桦钢就是自然规律，是世界本质。<br>
<img src="m1_3.png" alt="3"><br>
强大的凝聚力也意味着绝对排外。对外面的人来说，桦钢是只生人勿近的巨兽，坚硬的保护壳很难从外围突破。因此碎尸案发生后，警方的调查迟迟没有进展。<br>
桦钢有自己的运行法则。有场戏是王响在公共浴室里被几个街溜子堵了，王响特别镇定。“你们不是桦钢的吧？信不信我现在喊一嗓子就有几十个兄弟过来，那些烧锅炉的小伙子下手可不知轻重。”几个街溜子立马被吓住了。<br>
工厂与工人是共存的有机体，当工厂有一处病变，很快就会感染整个躯体，所有细胞最终会跟着巨兽一同丧命。<br>
王响的老婆罗美素心脏做过支架，日常需要药物维持，这些费用以前都由厂里报销。但随着厂里效益越来越差，手术费拖了几年没有给，后来连药都不让取了。逼得人闹，不闹就只能吃哑巴亏。<br>
后来机器大面积停工，工资发不下来，工人们堵在办公室门口要说法。女职工李巧云带头顶撞了厂办主任两句，转头主任就公报私仇，不给李巧云的保健本盖章。就这一个章的缘故，二十年后李巧云迟迟领不了退休金，因为“材料不齐”。<br>
剧中许多情节都有真实事件支持。2002年，还是新华社记者的吴晓波到沈阳铁西区调研下岗工人情况，那里曾是中国最著名的机械装备业基地，拥有全国最大的工人居住区，但在1996至1997年间，由于国有企业的大面积亏损以及随之展开的产权改造，按官方统计数据，下岗工人总量达到1500万人。<br>
下岗潮里的悲剧故事大多相似，吴晓波也记下了两个。一个是双双下岗的工人家庭，妻子被迫去洗浴中心做皮肉生意，丈夫用破自行车每天载着妻子往返，被称作“忍者神龟”。<br>
<img src="m1_4.png" alt="4"><br>
另一个是学校要开运动会，但家里给孩子买不起运动鞋，吃饭期间妻子抱怨丈夫没本事，丈夫一语不发地埋头吃饭，然后放下碗，默默走向阳台，一跃而下。<br>
奉节<br>
剧中的李巧云就是第一个故事的翻版。下岗后，她为了补贴家用去夜总会上班，年轻姑娘们都出台了，唯独剩她一个，年纪大了，没人点她。据说，丈夫默默抽烟等巧云下班的镜头最后被剪掉了，但大结局的回忆片段里，还是保留了丈夫骑自行车载她回家的镜头。<br>
在《中国工人阶级的忧伤》中，吴晓波写道：“他们没有犯过任何错误，却承担了完全不可能承受的改革代价。”<br>
身上有圈的人<br>
大批下岗工人成为闲散人员，在当时被称为“社会炸弹”。伴随而来的，是东三省犯罪率激增，非正常死亡事件频发。这些在国有体制内被长期规训的工人，缺少一技之长，也难以适应陡变的市场环境。<br>
王响还算好的，从火车司机改行到出租车司机，李巧云改做了按摩师，还有卖烧烤的，下海经商的，或者像秦昊饰演的彪子，游手好闲一事无成的。<br>
沈阳的朋友跟我说，东北卖烧烤的师傅很多都是下岗工人。沈阳最好吃的烤鸡架就在铁西区，用的是炼钢的工业煤炭，火特别旺，烤得骨头都酥脆。<br>
比下岗职工更大的不稳定因素，是下岗职工的子女们。<br>
警察到桦钢来办案，一转头发现汽车轮胎被卸了。王响知道是谁干的，在台球厅找到了那个小兔崽子。一帮桦钢小子整日游手好闲，干些偷鸡摸狗、敲诈勒索的事儿，把自己当古惑仔。除此之外，他们确实也没什么别的事可干。<br>
延续上一部作品《隐秘的角落》，辛爽依然在关注未成年人的犯罪问题，《漫长的季节》里的碎尸案跟一群“问题少年”有关。而王响追寻了二十多年的疑问是，被卷入碎尸案的儿子王阳，到底是怎么死的？<br>
王阳跟他爸一样，在厂里出生，在厂里长大，接触到的一切都跟桦钢有关。他学习不好，考不上大学，但他也无所谓，不管走哪条路，最后的结局是写定的—被安排进桦钢，完成新一轮循环。<br>
妈妈罗美素看得明白：“我们这代人啊，被安排惯了。我们身上是有个圈的，就在那儿按部就班地在圈里走着，也没人问为啥，也没人到<br>
圈外溜达过，就连踩了个线都害怕。”桦钢在崩塌，只是没有人愿意相信。<br>
汹涌的下岗潮冲击了这帮18岁上下的年轻人。如果不能像爸妈那样当工人了，如果物质生活得不到保障，如果连工厂都不复存在了，自己该怎么办？在风云突变的时代，巨大的不确定性吞噬了很多人。<br>
跟上一代人不同的是，这帮年轻人在成长阶段接触了丰富的精神文化活动，看电影看书，浸润在先进的城市文化中。跟吴晓波观察到的“麻木、不反抗”的下岗工人不同，这帮年轻人的思想是活跃的、跳动的。<br>
王阳的梦想是成为诗人。现实里东北亦出了很多文艺界人才，如今“东北文艺复兴”这个概念能成立，也是基于大量的作品产出。董宝石的说唱，二手玫瑰的摇滚，以及东北“三杰”—双雪涛、郑执、班宇，都是下岗潮的亲历者。<br>
从铁西区走出来的班宇是这次《漫长的季节》的文学顾问。另外，导演辛爽是吉林人，主演范伟、秦昊是沈阳人，剧中绝大多数演员都是东北人。他们都在用自己的方式去记录这片土地的历史。<br>
共和国的长子“死了”，但留下了另一颗理想主义的火种。<br>
往前看，别回头<br>
故事横跨20年的《漫长的季节》讲述的是大时代中的小人物如何丧失了对生活的掌控。剧中人物大多没有完满的结局，要么是消逝在变革的洪流里，要么是在晚年一败涂地。<br>
有个配角塑造得格外好，叫邢建春，大家一般叫他邢三。他是那种最招人烦的人物，除了阿谀奉承什么能力都没有，喜欢拿着鸡毛当令箭，丁点大的权力就能耀武扬威。他是桦钢保卫科科长，却监守自盗，把厂里的机器偷拿出去卖。因为王响挡了他财路，他就陷害王阳，逼着王响当众向他低头哈腰。<br>
年老之后，邢三非法倒卖车牌被王响一行人抓住，扭打摔倒后，尿袋掉了出来—他得了尿毒症。那一刻，这个人物勉强维持的体面和尊严被彻底击碎，羞恼、不堪、脆弱全泄了。王响记恨了邢三20多年，但在赤裸裸的残酷现实面前，他选择了停手和原谅。<br>
腾讯视频 尿毒症呗<br>
包括王响对于儿子死因的执着，追寻到最后也没有翻案的英雄时刻，到头来发现，终极答案只是自己不愿意放过自己。<br>
东北的秋季是很短暂的，但对于王响来说，他的时间定格在了儿子死亡的那个秋天，迟迟走不出来。剧中多次提及美国推理小说家雷蒙德·钱德勒，也可以理解为对《漫长的告别》的一种致敬。而走出漫长的季节的唯一方法，是放下过去，与自己和解。<br>
全剧最令人动情的地方就是大结局，王响穿过玉米地，看见了二十年前开火车的自己，这也是剧集第一集开场的第一个镜头，首尾时空线巧妙地交汇了。年迈的王响追着火车，对尚未开启噩运齿轮的年轻王响喊着—<br>
“往前看，别回头！”“往前看，别回头！”<br>
<img src="m1_5.png" alt="5"></p>
<p>生命不能承受之重在此刻似乎烟消云散。漫长的秋季过去，桦钢下起了久违的雪，剧中人物重新登场，画面定格在他们过往那些细微的幸福瞬间。<br>
命运齿轮继续转动，悲剧不会改变，但人可以选择面对的态度。<br>
导演辛爽说：“那一刻我觉得王响是一个存在主义者，那种情绪不是非要和命运掰手腕，而是知道掰不过命运的时候，还是能仰着头往前。”</p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
  </entry>
  <entry>
    <title>【Python/数模】topsis综合评价</title>
    <url>/2023/10/11/%E3%80%90Python-%E6%95%B0%E6%A8%A1%E3%80%91topsis%E7%BB%BC%E5%90%88%E8%AF%84%E4%BB%B7/</url>
    <content><![CDATA[<p>一、前言<br>
二维数据分析时往往会需要用到综合评价分析，其中TOPSIS就是一种<br>
比较常用的分析方法<br>
TOPSIS全名（Technique for Order Preference by Similarity to Ideal Solution）<br>
逼近理想解排序法，理想解一般认为是数据（每列）中最优的数值，topsis主要将<br>
数值标准化，通过计算与理想解的距离，得出综合评价，取得排名</p>
<span id="more"></span>
<script src="/js/mathjax_post.js"></script>
<p>二、正文<br>
废话不多说，直接上代码<br>
TOPSIS主函数如下</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">def topsis(data, weight):</span><br><span class="line">    data <span class="operator">=</span> data <span class="operator">/</span> np.<span class="built_in">sqrt</span>((data <span class="operator">*</span><span class="operator">*</span> <span class="number">2</span>).<span class="built_in">sum</span>()) </span><br><span class="line">	#将所有数据标准化，每个数据除以每行数据的平方和</span><br><span class="line">    Z <span class="operator">=</span> pd.DataFrame([data.<span class="built_in">min</span>(), data.<span class="built_in">max</span>()], index<span class="operator">=</span>[<span class="string">&#x27;负理想解&#x27;</span>, <span class="string">&#x27;正理想解&#x27;</span>]) </span><br><span class="line">	#最优和最劣为正负理想解</span><br><span class="line">    weight <span class="operator">=</span> np.array(weight)</span><br><span class="line">    <span class="keyword">Result</span> <span class="operator">=</span> data.copy()</span><br><span class="line">    <span class="keyword">Result</span>[<span class="string">&#x27;正理想解&#x27;</span>] <span class="operator">=</span> np.<span class="built_in">sqrt</span>(((data <span class="operator">-</span> Z.loc[<span class="string">&#x27;正理想解&#x27;</span>]) <span class="operator">*</span><span class="operator">*</span> <span class="number">2</span> <span class="operator">*</span> weight).<span class="built_in">sum</span>(axis<span class="operator">=</span><span class="number">1</span>)) </span><br><span class="line">	#计算整行与正理想解的距离的总和乘以权重</span><br><span class="line">    <span class="keyword">Result</span>[<span class="string">&#x27;负理想解&#x27;</span>] <span class="operator">=</span> np.<span class="built_in">sqrt</span>(((data <span class="operator">-</span> Z.loc[<span class="string">&#x27;负理想解&#x27;</span>]) <span class="operator">*</span><span class="operator">*</span> <span class="number">2</span> <span class="operator">*</span> weight).<span class="built_in">sum</span>(axis<span class="operator">=</span><span class="number">1</span>))</span><br><span class="line">	#计算整行与负理想解的距离的总和乘以权重</span><br><span class="line">    <span class="keyword">Result</span>[<span class="string">&#x27;综合得分指数&#x27;</span>] <span class="operator">=</span> <span class="keyword">Result</span>[<span class="string">&#x27;负理想解&#x27;</span>] <span class="operator">/</span> (<span class="keyword">Result</span>[<span class="string">&#x27;负理想解&#x27;</span>] <span class="operator">+</span> <span class="keyword">Result</span>[<span class="string">&#x27;正理想解&#x27;</span>])</span><br><span class="line">	#得出综合得分</span><br><span class="line">    <span class="keyword">Result</span>[<span class="string">&#x27;排序&#x27;</span>] <span class="operator">=</span> Result.<span class="built_in">rank</span>(ascending<span class="operator">=</span><span class="literal">False</span>)[<span class="string">&#x27;综合得分指数&#x27;</span>] </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">Result</span>, Z, weight</span><br></pre></td></tr></table></figure>
<p>–10月15号更新<br>
上述函数少了一部正向化处理的步骤，也就是对数据的标准进行处理，<br>
极大型指标：越大越好，这是我们想要的<br>
下面是需要转化的指标<br>
极小型指标：越小越好，如成本量数据，<br>
处理方式：</p>
<p>
$ \hat{x} _{i} = max_{i} -x _{i} \\  \hat{x} =\frac{1}{x} $
</p>
<p>中间指标：越接近中间的完美值越好，如PH值，误差等，<br>
处理方式：设$x_{best}$为最佳数值</p>
<p>
$ \hat{x} _{i} =1- \frac{x _{i}- x _{best} } { max_{i} \left \{ |x _{i}-x _{best}| \right \}  } $
</p>
<p>区间型指标：在区间内就是最佳<br>
处理方式：设 [a,b]为最佳值的区间</p>
<p>设：
$M= max \left \{ a-min \left \{ x_{i}  \right \} , max\left \{ x_{i} -b \right \} \right \} $
</p>
<p>
$ \quad \quad \quad 1- \frac{a-x _{i}} { M} \quad,\quad x _{i} < a \\ \hat{x} _{i}= \quad 1 \quad,\quad a < x _{i} < b \\ \quad \quad \quad 1- \frac{x_{i}-b}{M} \quad,\quad x _{i} > a $
</p>
<p>标准化：</p>
<p>
$ x_{ij} ^{'} = \frac{x_{ij}}{\sqrt{\sum ^{n} _{i=1} x _{ij} ^{2} }  }
$
</p>
<p>大概数据要长这样,每行是一个地方的各项指标，由于无法通过这堆数据，<br>
直接获得到哪个地方更好，因此需要通过topsis进行综合评价</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">data = pd<span class="selector-class">.DataFrame</span>(</span><br><span class="line">        &#123;<span class="string">&#x27;旅游增量&#x27;</span>: <span class="selector-attr">[5,2,3,3,6]</span>,</span><br><span class="line">		 <span class="string">&#x27;经济增量&#x27;</span>: <span class="selector-attr">[1,4,6,2,5]</span>,</span><br><span class="line">		 <span class="string">&#x27;旅客评价&#x27;</span>: <span class="selector-attr">[5,1,4,6,7]</span>,</span><br><span class="line">         <span class="string">&#x27;政府投资&#x27;</span>: <span class="selector-attr">[5,7,1,5,6]</span>,</span><br><span class="line">		 <span class="string">&#x27;其他扶持&#x27;</span>: <span class="selector-attr">[6,5,7,2,1]</span>&#125;,</span><br><span class="line">	index=<span class="selector-attr">[<span class="string">&#x27;地方&#x27;</span> + i for i in list(<span class="string">&#x27;ABCDE&#x27;</span>)]</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>之后是权重设置，假设Weight平分那么应该是</p>
<figure class="highlight fortran"><table><tr><td class="code"><pre><span class="line">Result=topsis(<span class="keyword">data</span>=<span class="keyword">data</span>,</span><br><span class="line">	weight=[<span class="number">1</span>/<span class="built_in">int</span>(len(<span class="keyword">data</span>.columns))]*<span class="built_in">int</span>(len(<span class="keyword">data</span>.columns))</span><br><span class="line">	)</span><br></pre></td></tr></table></figure>
<p>其实权重分析也是一项重要的数据分析，这个地方就不多介绍了<br>
得到了数据就是输出了</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">def output(data,path,weight):</span><br><span class="line">	<span class="keyword">if</span>(os.path.isfile(path)):</span><br><span class="line">		os.<span class="built_in">remove</span>(path)</span><br><span class="line">	<span class="attribute">out1</span>=textput(data=data,</span><br><span class="line">			<span class="attribute">weight</span>=weight,</span><br><span class="line">			<span class="attribute">name</span>=<span class="string">&quot;自定义权重&quot;</span>)</span><br><span class="line">	with pd.ExcelWriter(path) as writer:</span><br><span class="line">		data.to_excel(writer, <span class="attribute">sheet_name</span>=<span class="string">&quot;原始数据&quot;</span>, <span class="attribute">index</span>=<span class="literal">True</span>)</span><br><span class="line">		out1.to_excel(writer, <span class="attribute">sheet_name</span>=<span class="string">&quot;自定义权重&quot;</span>, <span class="attribute">index</span>=<span class="literal">True</span>)</span><br><span class="line">		</span><br><span class="line">def textput(data,weight,name):</span><br><span class="line">	out = topsis(data, weight)[0]</span><br><span class="line">	weight = list(weight)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(len(out.columns) - len(weight)):</span><br><span class="line">		weight.append(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">	out.loc[name] = weight </span><br><span class="line">	#加一行weight数据</span><br><span class="line">	return out</span><br><span class="line">output(data,</span><br><span class="line">	   <span class="attribute">path</span>=<span class="string">&#x27;Topsis评价.xlsx&#x27;</span>,</span><br><span class="line">	   weight=[0.2, 0.3, 0.3, 0.1,0.1]) #权重设置</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="top1.png" alt="1"><br>
输出结果如上</p>
<p>三、然而这样看得比较空，<br>
所以可以加上一个分析图，雷达图比较适合<br>
雷达图的绘制比较复杂，代码如下</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">def picput(choice,data,name,weight):</span><br><span class="line">	leng = len(data.<span class="built_in">columns</span>)</span><br><span class="line">	<span class="keyword">if</span> choice != &#x27;A&#x27;:</span><br><span class="line">		# choice用来判断是否为原始数据</span><br><span class="line">		result = topsis(data,weight)[<span class="number">0</span>]</span><br><span class="line">		list1 = list(<span class="built_in">range</span>(leng))</span><br><span class="line">		list1.<span class="built_in">append</span>(leng + <span class="number">2</span>)</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		result=data</span><br><span class="line">		list1 = list(<span class="built_in">range</span>(leng))</span><br><span class="line">	<span class="built_in">labels</span> = result.<span class="built_in">columns</span>[list1]</span><br><span class="line">	#设置<span class="built_in">label</span>元素</span><br><span class="line">	<span class="built_in">length</span> = len(<span class="built_in">labels</span>)</span><br><span class="line">	#angle角元素</span><br><span class="line">	angles = <span class="built_in">np</span>.linspace(<span class="number">0</span>, <span class="number">2</span> * <span class="built_in">np</span>.pi, <span class="built_in">length</span>, endpoint=False)</span><br><span class="line">	angles = <span class="built_in">np</span>.concatenate((angles, [angles[<span class="number">0</span>]]))</span><br><span class="line">	<span class="built_in">labels</span> = <span class="built_in">np</span>.concatenate((<span class="built_in">labels</span>, [<span class="built_in">labels</span>[<span class="number">0</span>]]))</span><br><span class="line">	fig = plt.figure()</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(len(list(result.index))):</span><br><span class="line">		temp = result.iloc[i, list1]</span><br><span class="line">		temp = <span class="built_in">np</span>.concatenate((temp, [temp[<span class="number">0</span>]]))</span><br><span class="line">		#设置数据</span><br><span class="line">		plt.<span class="built_in">polar</span>(angles, temp, <span class="built_in">label</span>=result.index[i])</span><br><span class="line">	plt.thetagrids(angles * <span class="number">180</span> / <span class="built_in">np</span>.pi, <span class="built_in">labels</span>)</span><br><span class="line">	plt.<span class="built_in">legend</span>(bbox_to_anchor=(<span class="number">1.2</span>, <span class="number">1</span>))</span><br><span class="line">	plt.<span class="built_in">title</span>(name, y=<span class="number">1.2</span>)</span><br><span class="line">	<span class="built_in">return</span> fig</span><br></pre></td></tr></table></figure>
<p>return回图形后，再写一个图形导出函数，<br>
将图形导出到excel里</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">def resultpic1(data,path,weight):</span><br><span class="line">	<span class="attribute">fig0</span>=picput(choice=&#x27;A&#x27;,</span><br><span class="line">				<span class="attribute">data</span>=data,</span><br><span class="line">				<span class="attribute">name</span>=<span class="string">&quot;原始数据&quot;</span>,</span><br><span class="line">				<span class="attribute">weight</span>=None,</span><br><span class="line">				)</span><br><span class="line">	fig1 = picput(<span class="attribute">choice</span>=<span class="string">&#x27;B&#x27;</span>,</span><br><span class="line">				  <span class="attribute">data</span>=data,</span><br><span class="line">				  <span class="attribute">name</span>=<span class="string">&quot;自定义权重Topsis评价&quot;</span>,</span><br><span class="line">				  <span class="attribute">weight</span>=weight,</span><br><span class="line">				  )</span><br><span class="line">	app = xw.App(<span class="attribute">visible</span>=<span class="literal">False</span>)</span><br><span class="line">	wb = app.books.open(path)</span><br><span class="line">	ws0 = wb.sheets[0]</span><br><span class="line">	ws1 = wb.sheets[1]</span><br><span class="line">	ws0.pictures.<span class="built_in">add</span>(fig0,</span><br><span class="line">					 <span class="attribute">left</span>=ws0.range(&#x27;K7&#x27;).left</span><br><span class="line">					 )</span><br><span class="line">	ws1.pictures.<span class="built_in">add</span>(fig1,</span><br><span class="line">					 <span class="attribute">left</span>=ws1.range(&#x27;K7&#x27;).left</span><br><span class="line">					 )</span><br><span class="line">	wb.save(path)</span><br><span class="line">	wb.close()</span><br><span class="line">	app.quit()</span><br></pre></td></tr></table></figure>
<p><img src="top2.png" alt="1"><br>
~~完结<br>
<img src="1010D_173_1.jpg" alt="1"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【Python/数模】整理目录</title>
    <url>/2023/10/15/%E3%80%90Python-%E6%95%B0%E6%A8%A1%E3%80%91%E6%95%B4%E7%90%86%E7%9B%AE%E5%BD%95/</url>
    <content><![CDATA[<p>一、综合评价类：<br>
1.<a href="/2023/10/13/%E3%80%90Python-%E6%95%B0%E6%A8%A1%E3%80%91%E7%81%B0%E8%89%B2%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90/#more">灰色关联分析</a><br>
2.<a href="/2023/10/11/%E3%80%90Python-%E6%95%B0%E6%A8%A1%E3%80%91topsis%E7%BB%BC%E5%90%88%E8%AF%84%E4%BB%B7/#more">TOPSIS综合评价</a><br>
3.<a href="/2023/10/12/%E3%80%90Pytohn-%E6%95%B0%E6%A8%A1%E3%80%91AHP%E5%B1%82%E6%AC%A1%E5%88%86%E6%9E%90%E6%B3%95/">AHP层次分析</a></p>
<span id="more"></span>
<p>二、线性规划类<br>
1.<a href="/2023/10/14/%E3%80%90Python-%E6%95%B0%E6%A8%A1%E3%80%91%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E6%B1%82%E8%A7%A3/">pulp库解决线性规划问题</a></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【Python/数模】灰色关联分析</title>
    <url>/2023/10/13/%E3%80%90Python-%E6%95%B0%E6%A8%A1%E3%80%91%E7%81%B0%E8%89%B2%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p>一、前言<br>
灰色关联分析(Grey Relation Analysis，GRA)<br>
主要分析的是多因素对于指标的影响的关联度，<br>
通过对数据的灰色关联分析，可以得到哪一个因素对于指标<br>
的影响程度最高，关联度最高。哪一个因素关联度最低。</p>
<span id="more"></span>
<script src="/js/mathjax_post.js"></script>
<p onclick="location.reload()">注：本文含有数学公式请手动刷新才能正常浏览</p>
<p>二、正文<br>
1.数据<br>
首先是数据，大概长这样,建立矩阵然后numpy化<br>
这里数据使用了一组超市营收的数据,行索引值为年份<br>
（按年份排列的数据）</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">name0</span>=[<span class="string">&quot;总营收&quot;</span>]</span><br><span class="line"><span class="attribute">li_name</span>=[ <span class="string">&quot;顾客量&quot;</span>,<span class="string">&quot;销售量&quot;</span>,<span class="string">&quot;采购量&quot;</span>]</span><br><span class="line"><span class="attribute">l1</span>=[<span class="number">340</span>,<span class="number">355</span>,<span class="number">458</span>,<span class="number">502</span>,<span class="number">568</span>]; #指标数据也就作为参考数列</span><br><span class="line"><span class="attribute">l2</span>=[<span class="number">400</span>,<span class="number">559</span>,<span class="number">580</span>,<span class="number">725</span>,<span class="number">840</span>]; </span><br><span class="line"><span class="attribute">l3</span>=[<span class="number">349</span>,<span class="number">361</span>,<span class="number">366</span>,<span class="number">402</span>,<span class="number">424</span>];</span><br><span class="line"><span class="attribute">l4</span>=[<span class="number">23</span>,<span class="number">93</span>,<span class="number">228</span>,<span class="number">268</span>,<span class="number">304</span>]</span><br><span class="line"><span class="attribute">matrix</span>=[l1,l2,l3,l4]</span><br><span class="line"><span class="attribute">matrix</span>=np.array(matrix)</span><br></pre></td></tr></table></figure>
<p>2.灰色关联系数的计算<br>
然后灰色关联分析核心函数</p>
<figure class="highlight stan"><table><tr><td class="code"><pre><span class="line">def grey_coefficient(datamatrix):</span><br><span class="line">    <span class="comment">#归一化，这里用了均值法</span></span><br><span class="line">    <span class="comment">#data=np.array(datamatrix)</span></span><br><span class="line">    lt=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(datamatrix)):</span><br><span class="line">        t=datamatrix[i]</span><br><span class="line">        l=[]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(t)):</span><br><span class="line">            l.append(datamatrix[i][j]/(np.<span class="built_in">mean</span>(t)))</span><br><span class="line">        lt.append(l)</span><br><span class="line">    <span class="title">data</span> = np.<span class="type">array</span>(lt)</span><br><span class="line">    max_i=list(<span class="title">data</span>[<span class="number">0</span>]) <span class="comment">#选取反映指标的数列作为参考数列</span></span><br><span class="line">    <span class="title">data</span>=<span class="title">data</span>[<span class="number">1</span>:] <span class="comment">#选取需要研究的灰色因素矩阵</span></span><br><span class="line">    n, m = <span class="title">data</span>.shape</span><br><span class="line">    min1 = np.<span class="built_in">min</span>(np.<span class="built_in">abs</span>(max_i - <span class="title">data</span>))</span><br><span class="line">    <span class="comment">#每列数值与最大值的差值绝对值的最小值</span></span><br><span class="line">    max1 = np.<span class="built_in">max</span>(np.<span class="built_in">abs</span>(max_i - <span class="title">data</span>))</span><br><span class="line">    <span class="comment"># 每列数值与最大值的差值绝对值的最大值</span></span><br><span class="line">    rho=<span class="number">0.5</span>  <span class="comment">#分辨系数</span></span><br><span class="line">    coefficient = np.zeros((n, m))</span><br><span class="line">    <span class="comment">#计算灰色关联系数</span></span><br><span class="line">    <span class="comment">#for循环矩阵的维度，行s，列k</span></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(m):</span><br><span class="line">            temp = np.<span class="built_in">abs</span>(max_i[k] - <span class="title">data</span>[s, k])</span><br><span class="line">            coefficient[s, k] = (min1 + rho * max1) / (temp + rho * max1)</span><br><span class="line">    <span class="keyword">return</span> coefficient</span><br></pre></td></tr></table></figure>
<p>下图为计算灰色关联系数的公式,看着十分复杂的样子，</p>
<p>$\zeta_{i}(k)=\frac{\min _{i} \min _{k}\left|x_{0}(k)-x_{i}(k)\right|+\rho \cdot \max _{i} \max _{k}\left|x_{0}(k)-x_{i}(k)\right|}{\left|x_{0}(k)-x_{i}(k)\right|+\rho \cdot \max _{i} \max _{k}\left|x_{0}(k)-x_{i}(k)\right|}$</p>
<p>一一解读，rho是分辨系数，通常选取为0.5，<br>
分子前面一堆是每个数值与参考数列（按列）的差值绝对值的最小值，计为a<br>
后面一堆是每个数值与参考数列（按列）的差值绝对值的最大值乘以分辨系数， 把它计为b<br>
分母前面一堆是每个数值与参考数列（按列）的差值绝对值，计为c<br>
后面一堆其实和前面一样的数值<br>
所以公式就是 (a+b)/(c+b)，具体咋算的看上述代码<br>
计算完灰色关联系数后就可以计算出每个因素的关联度了<br>
3.灰色关联度的计算<br>
关联度函数如下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">grey_degree</span>(<span class="params">coefficient,weight=<span class="literal">None</span></span>):</span><br><span class="line">    m,n=coefficient.shape</span><br><span class="line">    <span class="keyword">if</span> weight <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        weight=np.ones(n)/n</span><br><span class="line">        <span class="comment">#均分权重</span></span><br><span class="line">    degree=np.dot(coefficient,weight)</span><br><span class="line">    <span class="comment">#向量点积,权重与关联系数的矩阵之间相乘，得到关联度数列</span></span><br><span class="line">    <span class="keyword">return</span> degree</span><br></pre></td></tr></table></figure>
<p>4.输出<br>
调用主函数</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">def main(matrix,li<span class="emphasis">_name): </span></span><br><span class="line"><span class="emphasis">	cofficient=(grey_coefficient(matrix))</span></span><br><span class="line"><span class="emphasis">	li_degree=grey_degree(cofficient)</span></span><br><span class="line"><span class="emphasis">	for i in range(len(li_name)):</span></span><br><span class="line"><span class="emphasis">		print(&quot;%1s的关联度为%2s&quot; %(li_name[i],li_degree[i]))</span></span><br><span class="line"><span class="emphasis">main(matrix,li_</span>name)</span><br><span class="line"><span class="code">	</span></span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">输出结果如下：</span><br><span class="line">顾客量的关联度为0.8867594971864958</span><br><span class="line">销售量的关联度为0.8204732176462252</span><br><span class="line">采购量的关联度为0.5382259267869652</span><br><span class="line">&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>
<p>可以得出顾客量，销售量与总营收的关联度比较高，<br>
采购量的关联度较低，所以超市应该一个做出采购的调整。</p>
<p>5.灰色关联分析有关存疑<br>
灰色关联分析除了能够分析多因素对于单个指标的关联度，还能通过分析多因素的关联度，<br>
从而得到每个因素的评分，然后就可以进行综合评价（类似TOPSIS），但是这时<br>
参考数列就变成了数据中每列（每个因素的最大值）但是此时的min min (x0k-xik)就一定变成0<br>
（因为参考数据是从数据里面选取的，相减必定为0）。<br>
由于对灰色关联分析的了解甚少，灰色关联是否能够作为综合评价的数学模型存疑，有兴趣的话可以试试。</p>
<p>完结~~<br>
<img src="1010D_218_1.jpg" alt="1"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【Python/数模】利用Python解决线性规划</title>
    <url>/2023/10/14/%E3%80%90Python-%E6%95%B0%E6%A8%A1%E3%80%91%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E6%B1%82%E8%A7%A3/</url>
    <content><![CDATA[<p>一、前言<br>
线性规划是非常常见的数学问题，主要解决的是在约束条件下达到的<br>
目标值达到最大或者最小时各个变量的取值，然而学过运筹学都知道<br>
这方面的算法十分复杂。本文并不是研究算法，主要使用PuLP处理<br>
线性规划问题。</p>
<span id="more"></span>
<script src="/js/mathjax_post.js"></script>
<p>二、正文<br>
1.安装PuLP<br>
PuLP是一个用于处理线性规划问题的第三方库，<br>
首先老操作</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip in <span class="keyword">install</span> PuLP</span><br></pre></td></tr></table></figure>
<p>有Pycharm就直接在Setting安装</p>
<p>2.PuLP使用</p>
<figure class="highlight clean"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pulp </span><br><span class="line">#建议使用 <span class="keyword">from</span> pulp <span class="keyword">import</span> *</span><br><span class="line">#下面每个函数都要加pulp比较麻烦</span><br></pre></td></tr></table></figure>
<p>先引用pulp库，然后建立一个pulp线划问题</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="attribute">l_prob</span>=LpProblem(&quot;名称&quot;,</span><br><span class="line">    <span class="attribute">sense</span>=LpMinimize #LpMinimize求最小，LpMinimize求最大</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<p>大概建立一个这样的线性规划</p>
<p>
${\min Z }  = x_{1}+2x_{2}\\s.t.\quad x_{1}+x_{2}\le3\\ \quad \quad \quad x_{1}\ge1 $
</p>
<p>然后是建立变量</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="constructor">LpVariable(<span class="string">&quot;x1&quot;</span>,<span class="params">lowBound</span>=<span class="params">lowBound</span>,<span class="params">upBound</span>=<span class="params">upBound</span>,<span class="params">cat</span>=&#x27;Continuous&#x27;)</span></span><br><span class="line">#lowBound是下界，upBound也就是上界，规定变量不能超过这个限制</span><br><span class="line">#cat参数是设定变量的种类，默认为Continuous（连续变量），Integer就是整数，Binary是<span class="number">0</span>/<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>这里设置为变量为连续变量，upBound和lowBound据情况而定，$x_{1}$upBound设置为1</p>
<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">x1</span> <span class="operator">=</span> LpVariable(<span class="string">&quot;x1&quot;</span>)</span><br><span class="line"><span class="attribute">x2</span> <span class="operator">=</span> LpVariable(<span class="string">&quot;x2&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>设置目标函数和约束条件</p>
<figure class="highlight llvm"><table><tr><td class="code"><pre><span class="line">l_prob +<span class="operator">=</span> <span class="keyword">x</span><span class="number">1</span> + <span class="number">2</span>*<span class="keyword">x</span><span class="number">2</span></span><br><span class="line">l_prob +<span class="operator">=</span> <span class="keyword">x</span><span class="number">1</span> + <span class="keyword">x</span><span class="number">2</span> &lt;<span class="operator">=</span><span class="number">3</span><span class="punctuation">,</span> <span class="string">&quot;constraint1&quot;</span> #这一部分是名称</span><br><span class="line">#l_prob +<span class="operator">=</span> <span class="keyword">x</span><span class="number">1</span> &gt;<span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> <span class="string">&quot;constraint2&quot;</span> 单个变量的约束条件不写，应该作为它的范围</span><br></pre></td></tr></table></figure>
<p>3.pulp处理线划问题</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">l_prob<span class="selector-class">.solve</span>()</span><br><span class="line"><span class="selector-id">#pulp</span>默认会弹出处理报告，若想要关闭则加上&quot;<span class="built_in">PULP_CBC_CMD</span>(msg=<span class="number">0</span>)&quot;</span><br></pre></td></tr></table></figure>
<p>打印结果</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">def mainout(l<span class="emphasis">_prob):</span></span><br><span class="line"><span class="emphasis">    # 打印最优解的目标函数值</span></span><br><span class="line"><span class="emphasis">    print(&quot;z= &quot;, value(l_prob.objective))</span></span><br><span class="line"><span class="emphasis">    # 打印出每个变量的最优值</span></span><br><span class="line"><span class="emphasis">    for v in l_</span>prob.variables():</span><br><span class="line"><span class="code">        print(v.name, &quot;=&quot;, v.varValue)</span></span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">打印结果：</span><br><span class="line">z=  1.0</span><br><span class="line">x1 = 1.0</span><br><span class="line">x2 = 0.0</span><br><span class="line">&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>
<p>再把目标函数改一下试试，把求最小变成最大</p>
<p>
${\max Z }  = x_{1}+2x_{2}\\s.t.\quad x_{1}+x_{2}\le3\\ \quad \quad \quad x_{1}\ge1 $
</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">l<span class="emphasis">_prob1=LpProblem(&quot;lp1&quot;,sense=LpMaximize)</span></span><br><span class="line"><span class="emphasis">l_prob1 += x1 + 2*x2</span></span><br><span class="line"><span class="emphasis">l_prob1 += (x1 + x2 &lt;=3)</span></span><br><span class="line"><span class="emphasis">l_prob1.solve(PULP_CBC_CMD(msg=0))</span></span><br><span class="line"><span class="emphasis">mainout(l_</span>prob1)</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">打印结果：</span><br><span class="line">z=  5.0</span><br><span class="line">x1 = 1.0</span><br><span class="line">x2 = 2.0</span><br><span class="line">&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>
<p>4.这些操作可以解决一些简单的线性规划，<br>
但这样的方法只能求一些存在最优解的线性规划问题，面对<br>
存在多个解的问题，目前仍在学习，以后待更新<br>
完结~~<br>
<img src="1010D_258_1.jpg" alt="1"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【Python/爬图】效率改进-多线程</title>
    <url>/2023/10/19/%E3%80%90Python-%E7%88%AC%E5%9B%BE%E3%80%91%E6%95%88%E7%8E%87%E6%94%B9%E8%BF%9B-%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
    <content><![CDATA[<p>一、前言<br>
<a href="/2023/10/16/%E3%80%90Python%E3%80%91%E7%88%AC%E8%99%AB%E8%84%9A%E6%9C%AC%E7%9B%AE%E5%BD%95">爬虫目录</a><br>
前文介绍了爬图的思路和核心函数，其中也留下了一个想法，<br>
selenium虽然比较稳定，但是访问速度实在太慢了。<br>
<em>page_load_strategy是浏览器加载策略，默认是normal，eager则是快速加载</em><br>
<em>在网页资源加载完成时就会立刻关闭，可以省很多时间。</em><br>
<em>网上有很多说有更加快速的方法，说实话是噱头，没有实际用处，</em><br>
<em>照着他的方法，会迅速加载网页然后光速关闭，根本无法正常抓取网页内容</em><br>
<em>eagle已经是最快的策略，更快可以尝试多线程的爬虫。</em></p>
<span id="more"></span>
<p>二、正文<br>
1.如何分配，哪个步骤需要多线程，<br>
把多线程用在for循环分配上，原程序通过爬取页面页资源，获得一系列<br>
详细页的元素，然后通过for循环逐一个取出，调用详细页函数。因此可以<br>
把页面页的链接分半走多线程就行。</p>
<p>2.多线程函数<br>
threading是python一个常用的多线程模块，threading一般都是pip自带的，<br>
不需要手动下载</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br></pre></td></tr></table></figure>
<p>启动函数如下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">t1=Thread(target=temp_thread1,args=(arg)) <span class="comment">#变量</span></span><br><span class="line">t2 = Thread(target=temp_thread2, args=(arg)) <span class="comment">#变量</span></span><br><span class="line">t1.start()</span><br><span class="line">t2.start()</span><br><span class="line">t1.join()</span><br><span class="line">t2.join() <span class="comment">#join函数会让先完成的线程等待未完成</span></span><br></pre></td></tr></table></figure>
<p>分半方法，这个地方我用的是pyquery，pyquery直接爬下来的<br>
并不是python的list，不容易使用索引，所以应该需要处理一下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pa_li=[]</span><br><span class="line"><span class="keyword">for</span> temp_pa <span class="keyword">in</span> pa0: <span class="comment">#pa0是在页面页爬取下来的详细页资源</span></span><br><span class="line">    t+=<span class="number">1</span></span><br><span class="line">    pa_li.append(temp_pa)</span><br><span class="line">pa1=pa_li[:<span class="built_in">len</span>(pa_li)//<span class="number">2</span>];pa2=pa_li[<span class="built_in">len</span>(pa_li)//<span class="number">2</span>:]</span><br></pre></td></tr></table></figure>
<p>3.效果<br>
双线程并非单线程的速度翻倍，经几次使用发现，双线程经常是<br>
一个线程快速完成，另一个线程还需要等很久。我自身用下来，双线程<br>
比单线程会快30~40%，但这应该跟cpu性能也有关系，多核性能更强的<br>
cpu或许多线程的效率更高吧</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【Python/算法】（补充）DataFrame指定位置插入</title>
    <url>/2023/10/16/%E3%80%90Python-%E7%AE%97%E6%B3%95%E3%80%91%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89DataFrame%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5/</url>
    <content><![CDATA[<p><a href="/2023/09/29/%E3%80%90%E7%AE%97%E6%B3%95-Python%E3%80%91DataFrame%E7%9A%84%E5%8D%95%E8%A1%8C%E6%8C%87%E5%AE%9A%E6%8F%92%E5%85%A5/">上文实现了DF的单行插入</a><br>
然而有些情况想要实现，单列插入，所以做一个补充</p>
<span id="more"></span>
<p>单列插入算法，用默认索引值插入</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">def dfinsert_column(df, i, listt1,<span class="type">name</span>):</span><br><span class="line">    i=<span class="type">int</span>(i) # 如果i是str先换成<span class="type">int</span></span><br><span class="line">    df_add = pd.DataFrame(&#123;<span class="type">name</span>:listt1&#125;,</span><br><span class="line">        <span class="keyword">index</span>=df.<span class="keyword">index</span>)</span><br><span class="line">    y=i+<span class="number">1</span></span><br><span class="line">    df1 = df.iloc[:, :y]</span><br><span class="line">    df2 = df.iloc[:, y:]</span><br><span class="line">    df_new = pd.concat([df1, df_add, df2],axis=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> df_new #合并后的数据</span><br></pre></td></tr></table></figure>
<p>用名称索引值插入</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">def dfinsert_column1(df, columnname, listt1,name):</span><br><span class="line">    df_add = pd.DataFrame(&#123;name:listt1&#125;,</span><br><span class="line">        <span class="built_in">index</span>=df.<span class="built_in">index</span>)</span><br><span class="line">    df1 = df.<span class="keyword">loc</span>[:, :columnname]</span><br><span class="line">    <span class="keyword">y</span> = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">e</span> in <span class="built_in">range</span>(<span class="built_in">len</span>(df.columns)):</span><br><span class="line">        <span class="keyword">if</span> df.columns[<span class="keyword">e</span>] == columnname:</span><br><span class="line">            <span class="keyword">y</span> = df.columns[<span class="keyword">e</span> + <span class="number">1</span>]</span><br><span class="line">    df2 = df.<span class="keyword">loc</span>[:, <span class="keyword">y</span>:]</span><br><span class="line">    df_new = pd.concat([df1, df_add, df2],axis=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> df_new #合并后的数据</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>完结~~<br>
<img src="/image/10.14/1011D_216_1.jpg" alt="1"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【Python/脚本】一个懒得自己打字的md图片插入脚本</title>
    <url>/2023/10/05/%E3%80%90Python-%E8%84%9A%E6%9C%AC%E3%80%91%E4%B8%80%E4%B8%AA%E6%87%92%E5%BE%97%E8%87%AA%E5%B7%B1%E6%89%93%E5%AD%97%E7%9A%84md%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E8%84%9A%E6%9C%AC/</url>
    <content><![CDATA[<p>Markdown也就是md文件<br>
Markdown文件插入可以遵循html的标签方式，但<br>
这种插入方式比较麻烦，可以用md自己的格式</p>
<span id="more"></span>
<p>1.md图片插入格式</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">!<span class="selector-attr">[若图片not Found显示的文字]</span>(路径)</span><br></pre></td></tr></table></figure>
<p>一般可以这么写，/image自动索引到资源文件</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">![<span class="number">28.</span>webp](<span class="regexp">/image/</span><span class="number">28.</span>webp)</span><br></pre></td></tr></table></figure>
<p><img src="1005D_140_1.jpg" alt="1005D_140_1.jpg"></p>
<!--more-->
<p>2.代码十分简单，不到一分钟写完了</p>
<figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="language-xml">import os</span></span><br><span class="line"><span class="language-xml">filePath = &#x27;D:\\Blog\\Blog1\\source\\_posts\\【图集】10-3图图&#x27;</span></span><br><span class="line"><span class="language-xml">n=0</span></span><br><span class="line"><span class="language-xml">for i,j,k in os.walk(filePath):</span></span><br><span class="line"><span class="language-xml">    for i in k:</span></span><br><span class="line"><span class="language-xml">        n+=1</span></span><br><span class="line"><span class="language-xml">        print(&quot;![</span><span class="template-variable">&#123;&#125;</span><span class="language-xml">](/image/</span><span class="template-variable">&#123;&#125;</span><span class="language-xml">)&quot;.format(i, i)) #中间部分自己改</span></span><br><span class="line"><span class="language-xml">        if n==2:</span></span><br><span class="line"><span class="language-xml">            print(&quot;<span class="comment">&lt;!--more--&gt;</span>&quot;)</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;!--more--&gt;</code><br>
用来手动隐藏，图片占首页太长不好看</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>【Python】Pyquery 一个Python的CSS选择器</title>
    <url>/2023/10/10/%E3%80%90Python%E3%80%91Pyquery/</url>
    <content><![CDATA[<p>一、前言<br>
JS可以通过CSS选择器快速定位元素，但前端的限制较多（如跨域传输）<br>
并且油猴必须要手动驱动浏览器才可以运行，无法形成自动脚本。<br>
Python中也有类似JS的CSS选择器的第三方库，我选择的是Pyquery，<br>
Pyquery的语法跟JS的写法十分相似，而且用起来很简单。<br>
<a href="/2023/09/27/%E7%94%A8JS%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%88%B6%E4%BD%9C%E7%9A%84%E7%AE%80%E6%98%93%E7%88%AC%E8%99%AB/">用JS（前端）制作的简易爬虫</a><br>
<a href="/2023/09/28/jQuery%E7%9A%84css%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E5%86%99%E6%B3%95/">jQuery的css选择器的写法</a><br>
如何爬取网页下来请看这篇<br>
<a href="/2023/09/28/%E7%94%A8selenum%E5%88%B6%E4%BD%9C%E5%89%8D%E7%AB%AF%E5%BC%8F%E7%88%AC%E8%99%AB/">用selenum制作前端式爬虫</a></p>
<span id="more"></span>
<p><img src="1010D_117_1.jpg" alt="1"><br>
二、正文<br>
1、老操作<br>
先安装Pyquery库，pip install或者pycharm安装</p>
<figure class="highlight capnproto"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq</span><br></pre></td></tr></table></figure>
<p>安装后import<br>
2.初步处理操作<br>
假设爬下的网页资源为</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">browser_get</span>=driver.page_source</span><br></pre></td></tr></table></figure>
<p>browser_get得到的是整个网页的资源<br>
获取后需要pyquery处理,</p>
<figure class="highlight perl"><table><tr><td class="code"><pre><span class="line">pq1=p<span class="string">q(browser_get)</span></span><br></pre></td></tr></table></figure>
<p>3.定位元素<br>
pyquery写法基本跟jquery一毛一样，其实完全就可以当作是<br>
python里的jquery（认真的）<br>
pyquery提供了find函数，可以这么使用</p>
<figure class="highlight sqf"><table><tr><td class="code"><pre><span class="line"><span class="built_in">items</span>=pq1.<span class="built_in">find</span>(<span class="string">&quot;CSS选择器&quot;</span>).<span class="built_in">items</span>()</span><br><span class="line">#.<span class="built_in">items</span>()会获取所有html</span><br></pre></td></tr></table></figure>
<p>然而也可以直接这么写</p>
<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">items</span><span class="operator">=</span>pq1(<span class="string">&quot;CSS选择器&quot;</span>).items()</span><br></pre></td></tr></table></figure>
<p>文本则是</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">.<span class="built_in">text</span>()</span><br></pre></td></tr></table></figure>
<p>属性</p>
<figure class="highlight q"><table><tr><td class="code"><pre><span class="line">.<span class="built_in">attr</span>(<span class="string">&quot;属性名&quot;</span>)</span><br><span class="line">.<span class="built_in">attr</span>(<span class="string">&quot;src&quot;</span>)  #img的链接</span><br><span class="line">.<span class="built_in">attr</span>(<span class="string">&quot;href&quot;</span>) #a的链接</span><br></pre></td></tr></table></figure>
<p>如果要获取子节点<br>
或者父节点那就</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="title">.children()</span></span><br><span class="line"><span class="title">.parents()</span></span><br></pre></td></tr></table></figure>
<p>4.处理多个元素<br>
pyquery提供了for循环的方式,如</p>
<figure class="highlight clean"><table><tr><td class="code"><pre><span class="line">for i <span class="keyword">in</span> pq1(<span class="string">&quot;li&quot;</span>).items()：</span><br><span class="line">	## 处理操作</span><br></pre></td></tr></table></figure>
<p>利用for循环就可以逐一迭代</p>
<p>5.完结<br>
<img src="1010D_56_1.jpg" alt="1"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【Python】爬虫脚本目录</title>
    <url>/2023/10/16/%E3%80%90Python%E3%80%91%E7%88%AC%E8%99%AB%E8%84%9A%E6%9C%AC%E7%9B%AE%E5%BD%95/</url>
    <content><![CDATA[<p>本文是一个文章目录，整理文章之间的关系<br>
一、基础篇（CSS选择器）<br>
1.<a href="/2023/09/27/%E7%94%A8JS%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%88%B6%E4%BD%9C%E7%9A%84%E7%AE%80%E6%98%93%E7%88%AC%E8%99%AB/">用JS（前端）制作的简易爬虫</a><br>
本文主要介绍CSS选择器的简单运用，达成简易爬虫的效果，其中举了一个小栗子<br>
2.<a href="/2023/09/28/jQuery%E7%9A%84css%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E5%86%99%E6%B3%95/">Jquery的简化CSS选择器</a><br>
Jquery是用的比较多的JS第三方库，Jquery简化了CSS选择器函数的写法<br>
易得学习看懂</p>
<span id="more"></span>
<p>3.<a href="/2023/10/10/%E3%80%90Python%E3%80%91Pyquery/">Python的类CSS选择器</a><br>
Pyquery是Python处理网页HTML的第三方库，它写法与Jquery十分相似。</p>
<p>二、访问篇<br>
1.<a href="/2023/09/28/%E7%94%A8selenum%E5%88%B6%E4%BD%9C%E5%89%8D%E7%AB%AF%E5%BC%8F%E7%88%AC%E8%99%AB/">Selenium</a><br>
Selenium是一个模拟浏览器访问的第三方库<br>
2.<a href="/2023/10/01/%E6%A2%B3%E7%90%86%E4%B8%80%E4%B8%8B%E5%9F%BA%E6%9C%AC%E7%88%AC%E5%9B%BE%E6%80%9D%E8%B7%AF/">爬图的一个总体思路</a><br>
梳理一下基本爬图思路,有兴趣可以看看。忽略很多部分，写出了部分<br>
核心函数</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【Python/数模】AHP层次分析法</title>
    <url>/2023/10/12/%E3%80%90Pytohn-%E6%95%B0%E6%A8%A1%E3%80%91AHP%E5%B1%82%E6%AC%A1%E5%88%86%E6%9E%90%E6%B3%95/</url>
    <content><![CDATA[<p>一、前言<br>
AHP即层次分析法，也就是需要分层次来分析，<br>
第一层是目标层，最终选择的方案，<br>
第二层是准则层，要选择的方案考虑的基本因素。<br>
第三层就是方案层，待选择的方案的层次。<br>
然而这样讲肯定听不懂，所以举个栗子。</p>
<span id="more"></span>
<script src="/js/mathjax_post.js"></script>
<p>二、正文<br>
准则层的判断矩阵<br>
<img src="1.png" alt="1"><br>
每格的数字代表行的元素对于列的元素的重要度，<br>
数字越大则代表相对重要度就越高<br>
可以看到主对角线全都为1（自身对自身的重要度为1）<br>
与对角线相对称的两格数字相乘等于1<br>
（自身对对方乘对方对自身=1）</p>
<p>之后是方案层<br>
方案层也就是不同地方对于因素的取舍<br>
依次在五个因素中不同地方之间比对的矩阵，数值大<br>
代表该地相较于比对的地方的对应因素要好。<br>
<img src="2.png" alt="1"><br>
<img src="3.png" alt="2"></p>
<p>判断矩阵的处理函数如下</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">def</span> ahp(datamatrix):</span><br><span class="line">    <span class="attribute">datamatrix</span> = np.array(datamatrix)</span><br><span class="line">	<span class="comment">#numpy化</span></span><br><span class="line">    <span class="attribute">m</span> = len(datamatrix)</span><br><span class="line">	<span class="comment">#获取矩阵的维度</span></span><br><span class="line">	<span class="comment">#每个数值标准：每个数值除以该行总和，axis=0是行的意思</span></span><br><span class="line">	<span class="comment">#然后每列求和除以维度得到的就是权重，axis=1是列的意思</span></span><br><span class="line">    <span class="attribute">weight</span> = (datamatrix / datamatrix.sum(axis=<span class="number">0</span>)).sum(axis=<span class="number">1</span>) / m</span><br><span class="line">	<span class="comment">#用权重乘以每个数值整列求和，除以权重求和再除以维度</span></span><br><span class="line">	<span class="comment">#得到最大特征值</span></span><br><span class="line">	<span class="comment">#lambda_max=1/n∑(AWi)/Wi (i为列，n为行)</span></span><br><span class="line">	<span class="comment">#AWi是乘以权重后每列的累计值</span></span><br><span class="line">    <span class="attribute">Lambda_max</span> = sum((weight * datamatrix).sum(axis=<span class="number">1</span>) / (m * weight))</span><br><span class="line">    <span class="attribute">CI</span> = (Lambda_max - m) / (m - <span class="number">1</span>)</span><br><span class="line">    <span class="attribute">RI</span> = &#123;<span class="number">1</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attribute">2</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attribute">3</span>: <span class="number">0</span>.<span class="number">58</span>,</span><br><span class="line">          <span class="attribute">4</span>: <span class="number">0</span>.<span class="number">90</span>,</span><br><span class="line">          <span class="attribute">5</span>: <span class="number">1</span>.<span class="number">12</span>,</span><br><span class="line">          <span class="attribute">6</span>: <span class="number">1</span>.<span class="number">24</span>,</span><br><span class="line">          <span class="attribute">7</span>: <span class="number">1</span>.<span class="number">32</span>,</span><br><span class="line">          <span class="attribute">8</span>: <span class="number">1</span>.<span class="number">41</span>,</span><br><span class="line">          <span class="attribute">9</span>: <span class="number">1</span>.<span class="number">45</span>,</span><br><span class="line">          <span class="attribute">10</span>: <span class="number">1</span>.<span class="number">49</span>,</span><br><span class="line">          <span class="attribute">11</span>: <span class="number">1</span>.<span class="number">51</span>&#125;</span><br><span class="line">    <span class="attribute">CR</span> = CI / RI[m]</span><br><span class="line">    <span class="attribute">if</span> CR &lt; <span class="number">0</span>.<span class="number">1</span>:</span><br><span class="line">        <span class="attribute">extra</span> = &#x27;True&#x27;</span><br><span class="line">    <span class="attribute">else</span>:</span><br><span class="line">        <span class="attribute">extra</span> = &#x27;False&#x27;</span><br><span class="line">    <span class="attribute">return</span> Lambda_max, extra, weight</span><br></pre></td></tr></table></figure>
<p>第一步：标准化，这里采用除以总和的方法,即(i为行，k为列)<br>
$x ^{'} _{ik}= \frac {x _{ik} } {\sum ^{m} _{i} x _{ik} } $</p>
<p>第二步：计算权重，标准化后的数值整行相加再除以行数<br>
$ Weight= \frac {\sum ^{n} _{k} x ^{'} _{ik} } {m} $</p>
<p>第三步：计算Lambda，然后得到最大特征值<br>
$ \lambda _{max} =\frac {1} {m} \sum ^{m} _{i}  \frac {\sum ^{n} _{k} \left  ( x ^{'} _{ik}  Weight \right  ) } {Weight}$</p>
<p>第四步：计算CI（Consistency Index），CI是一个一致性指标，<br>
$ CI= \frac {\lambda _{max}- m} {\left ( m-1 \right )} $</p>
<p>CI=0 表示判断矩阵完全一致，CI越大，则代表矩阵的不一致性程度越严重。<br>
RI是一个参数，它与矩阵的维度对应</p>
<p>m  1  2  3  4  5  6  7  8  9  10  11<br>
RI 0 0 0.58 0.90 1.12 1.24 1.32 1.41 1.45 1.49 1.51</p>
<p>然后计算出CR判断一致性,当 CR&lt;0.1 时，表明判断矩阵的一致性程度被认为在容许的范围内，但如果 CR≥0.1, 则应考虑对判断矩阵进行修正。<br>
$ CR = \frac {CI} {RI} $</p>
<p>然而也有这种计算方式，有兴趣就看一下，<br>
计算结果是一样的</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cal_weights</span>(<span class="params">input_matrix</span>):</span><br><span class="line">	input_matrix = np.array(input_matrix)</span><br><span class="line">	n, n1 = input_matrix.shape</span><br><span class="line">	<span class="comment">#获取矩阵行，列</span></span><br><span class="line">	<span class="comment">##这一部分为判断矩阵是否符合上述的要求</span></span><br><span class="line">	<span class="keyword">assert</span> n == n1, <span class="string">&#x27;不是一个方阵&#x27;</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">		<span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">			<span class="keyword">if</span> np.<span class="built_in">abs</span>(input_matrix[i, j] * input_matrix[j, i] - <span class="number">1</span>) &gt; <span class="number">1e-7</span>:</span><br><span class="line">				<span class="keyword">raise</span> ValueError(<span class="string">&#x27;不是反互对称矩阵&#x27;</span>)</span><br><span class="line">	<span class="comment">##np.linalg.eig是获取矩阵的特征值和特征向量</span></span><br><span class="line">	eigenvalues, eigenvectors = np.linalg.eig(input_matrix)</span><br><span class="line">	<span class="comment">#获取到最大特征值的索引</span></span><br><span class="line">	max_idx = np.argmax(eigenvalues)</span><br><span class="line">	<span class="comment">#获取到最大特征值</span></span><br><span class="line">	max_eigen = eigenvalues[max_idx].real</span><br><span class="line">	eigen = eigenvectors[:, max_idx].real</span><br><span class="line">	<span class="comment">#获取特征值</span></span><br><span class="line">	eigen = eigen / eigen.<span class="built_in">sum</span>()</span><br><span class="line">	<span class="comment">#判断一致性</span></span><br><span class="line">	<span class="keyword">if</span> n &gt; <span class="number">9</span>:</span><br><span class="line">		CR = <span class="literal">None</span></span><br><span class="line">		warnings.warn(<span class="string">&#x27;无法判断一致性&#x27;</span>)</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		CI = (max_eigen - n) / (n - <span class="number">1</span>)</span><br><span class="line">		CR = CI / RI[n]</span><br><span class="line">	<span class="keyword">return</span> max_eigen, CR, eigen</span><br><span class="line">	<span class="comment">#RI = (0, 0, 0.58, 0.9, 1.12, 1.24, 1.32, 1.41, 1.45, 1.49)</span></span><br><span class="line">	<span class="comment">#RI是一个判断常数，根据矩阵的维度变化，一般最大为10。</span></span><br><span class="line">	</span><br></pre></td></tr></table></figure>
<p>准则层通过函数调用得到结果如下<br>
<img src="4.png" alt="1"></p>
<p>之后是目标层，目标层通过函数调用得到5对权重，<br>
W1,W2,W3,W4,W5，对应五个因素在不同地方的得分<br>
相应数值乘以对应因素权重再求和<br>
就可以得到不同地方的总和得分，<br>
用总和得分就可以得到最终方案的选择<br>
文字有点绕，姑且写个函数出来。</p>
<figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line">#目标层矩阵</span><br><span class="line">b1 = [[<span class="number">1</span>, <span class="number">1</span> / <span class="number">3</span>, <span class="number">1</span> / <span class="number">8</span>], [<span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span> / <span class="number">3</span>], [<span class="number">8</span>, <span class="number">3</span>, <span class="number">1</span>]]</span><br><span class="line">b2 = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>], [<span class="number">1</span> / <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span> / <span class="number">5</span>, <span class="number">1</span> / <span class="number">2</span>, <span class="number">1</span>]]</span><br><span class="line">b3 = [[<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>], [<span class="number">1</span> / <span class="number">3</span>, <span class="number">1</span> / <span class="number">3</span>, <span class="number">1</span>]]</span><br><span class="line">b4 = [[<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">1</span> / <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span> / <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>]]</span><br><span class="line">b5 = [[<span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span> / <span class="number">2</span>], [<span class="number">1</span> / <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span> / <span class="number">4</span>], [<span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">def target_h(weight):</span><br><span class="line">    #获取目标层矩阵的权重</span><br><span class="line">    w1=ahp(b1)[<span class="number">2</span>];w2=ahp(b2)[<span class="number">2</span>];w3=ahp(b3)[<span class="number">2</span>];w4=ahp(b4)[<span class="number">2</span>];w5=ahp(b5)[<span class="number">2</span>];</span><br><span class="line">    s_li=[]</span><br><span class="line">    for i in range(len(w1)):</span><br><span class="line">        #for 循环<span class="number">3</span>次</span><br><span class="line">        t1=w1[i];t2=w2[i];t3=w3[i];t4=w4[i];t5=w5[i];</span><br><span class="line">        #乘以权重</span><br><span class="line">        s=t1*weight[<span class="number">0</span>]+t2*weight[<span class="number">1</span>]+t3*weight[<span class="number">2</span>]+t4*weight[<span class="number">3</span>]+t5*weight[<span class="number">4</span>]</span><br><span class="line">        s_li.append(s)</span><br><span class="line">    return s_li</span><br><span class="line">print(<span class="string">&quot;目标层得分 %s&quot;</span> <span class="comment">%target_h(weight))</span></span><br><span class="line"></span><br><span class="line">#print结果</span><br><span class="line">#目标层得分 [<span class="number">0.3187820596698437</span>, <span class="number">0.2391959202186192</span>, <span class="number">0.44202202011153713</span>]</span><br><span class="line">#分别代表地方<span class="number">1</span>，地方<span class="number">2</span>，地方<span class="number">3</span>三处的评分，可以得出地方<span class="number">3</span>的评分最高，</span><br><span class="line">#因此最优选择为地方<span class="number">3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>三、附加<br>
结果着色，让结果看起来更好看一点。<br>
这里也可以采用雷达图的方式<br>
稍微修改一下函数</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">def target_h1(weight):</span><br><span class="line">    #获取目标层矩阵的权重</span><br><span class="line">    <span class="attribute">w1</span>=ahp(b1)[2];<span class="attribute">w2</span>=ahp(b2)[2];<span class="attribute">w3</span>=ahp(b3)[2];<span class="attribute">w4</span>=ahp(b4)[2];<span class="attribute">w5</span>=ahp(b5)[2];</span><br><span class="line">    s_li=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(w1)):</span><br><span class="line">        t_li=[]</span><br><span class="line">        #<span class="keyword">for</span> 循环3次</span><br><span class="line">        <span class="attribute">t1</span>=w1[i];<span class="attribute">t2</span>=w2[i];<span class="attribute">t3</span>=w3[i];<span class="attribute">t4</span>=w4[i];<span class="attribute">t5</span>=w5[i];</span><br><span class="line">        #乘以权重</span><br><span class="line">        <span class="attribute">s1</span>=t1*weight[0];<span class="attribute">s2</span>=t2*weight[1];<span class="attribute">s3</span>=t3*weight[2];<span class="attribute">s4</span>=t4*weight[3];<span class="attribute">s5</span>=t5*weight[4]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> [s1, s2, s3, s4, s5]:</span><br><span class="line">            t_li.append(i );</span><br><span class="line">			#把每个地方的每个因素的得分给分出来</span><br><span class="line">        <span class="attribute">s</span>=s1+s2+s3+s4+s5</span><br><span class="line">		#将总得分添加到里面</span><br><span class="line">        t_li.append(s);s_li.append(t_li);</span><br><span class="line">    return s_li</span><br></pre></td></tr></table></figure>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="attribute">t_l1</span>=target_h1(weight)</span><br><span class="line">df= pd.DataFrame(</span><br><span class="line">    t_l1[0:],</span><br><span class="line">    columns=[<span class="string">&quot;景色&quot;</span>,<span class="string">&quot;费用&quot;</span>,<span class="string">&quot;居住&quot;</span>,<span class="string">&quot;饮食&quot;</span>,<span class="string">&quot;旅途&quot;</span>,<span class="string">&quot;总得分&quot;</span>],</span><br><span class="line">    index=[<span class="string">&#x27;地方&#x27;</span> + i <span class="keyword">for</span> i <span class="keyword">in</span> list(<span class="string">&#x27;ABC&#x27;</span>) ]</span><br><span class="line">)</span><br><span class="line"><span class="attribute">path</span>=<span class="string">&quot;AHP分析.xlsx&quot;</span></span><br><span class="line">with pd.ExcelWriter(path) as writer:</span><br><span class="line">    df.to_excel(writer, <span class="attribute">sheet_name</span>=<span class="string">&quot;AHP分析&quot;</span>, <span class="attribute">index</span>=<span class="literal">True</span>)</span><br><span class="line">resultpic1(<span class="attribute">data</span>=df,</span><br><span class="line">           <span class="attribute">path</span>=path)</span><br><span class="line"><span class="comment">#resultpic1是雷达图生成函数，这个地方在上文用过，可以回头看看</span></span><br></pre></td></tr></table></figure>
<p>最终结果如下图<br>
<img src="5.png" alt="1"><br>
可能由于数据是随机填的，得到的结果比较离谱<br>
完结<br>
<img src="1010D_48_1.jpg" alt="2"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【搬运】html游戏 贪吃蛇</title>
    <url>/2023/10/09/%E3%80%90%E6%90%AC%E8%BF%90%E3%80%91html%E6%B8%B8%E6%88%8F-%E8%B4%AA%E5%90%83%E8%9B%87/</url>
    <content><![CDATA[<p>请使用电脑进入<br>
—占位—<br>
如题<br>
本文为搬运的html游戏<br>
—占位—</p>
<span id="more"></span>
<canvas id="tanchishe_Canvas" width="400" height="400" >
</canvas>
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js">
</script>
<script type="text/javascript" src="/js/tanchishe_js.js">
</script>
<style>
	#tanchishe_Canvas{	
			background-color:white;
			z-index:1;
			border:5px solid;
			border-color:black;
		}
</style>]]></content>
      <categories>
        <category>HTML游戏</category>
      </categories>
  </entry>
  <entry>
    <title>【数据挖掘/Python实现Apriori关联分析算法】</title>
    <url>/2023/10/12/%E3%80%90%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98-Python-Apriori%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90%E7%AE%97%E6%B3%95%E3%80%91/</url>
    <content><![CDATA[<p>一、前言<br>
关联规则分析是数据挖掘中最活跃的研究方法之一，通过关联规则分析，<br>
可以得出不同数据中间的关联度，得到结论。<br>
如对超市的销售数据进行关联分析，能够优化一些商品的组合销售。</p>
<span id="more"></span>
<p>二、参数<br>
支持度（Support）<br>
Support（A=&gt;B）=P(A∪B)<br>
置信度(Confidence)<br>
Confidence(A=&gt;B)=P(B∣A)<br>
项集 (items)<br>
如{A，B}<br>
频繁度 (frequency)<br>
frequency({B,C})=BC出现次数/总数据<br>
frequency items(频繁项集)就是frequency的集合</p>
<p>三、mlxtend库<br>
Python的mlxtend就有apriori模块，<br>
直接代入就行，十分简单</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> mlxtend.frequent_patterns <span class="keyword">import</span> apriori, association_rules</span><br></pre></td></tr></table></figure>
<p>apriori分析主要函数</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">def df<span class="constructor">_apriori(<span class="params">path</span>,<span class="params">df</span>,<span class="params">min_support</span>,<span class="params">min_threshold</span>)</span>:</span><br><span class="line">    frequent_itemsets = apriori(df, min_support, use_colnames=True)</span><br><span class="line">	#生成频繁项集，min_support为最小支持度，这项是筛选，如果数据过大尽量调低一点</span><br><span class="line">	<span class="keyword">try</span>:</span><br><span class="line">		rules = association<span class="constructor">_rules(<span class="params">frequent_itemsets</span>, <span class="params">metric</span>=&#x27;<span class="params">lift</span>&#x27;, <span class="params">min_threshold</span>)</span></span><br><span class="line">		#min_threshold为阈值，尽量不过低</span><br><span class="line">		#导出excel表，path为路径</span><br><span class="line">		<span class="keyword">with</span> pd.<span class="constructor">ExcelWriter(<span class="params">path</span>, <span class="params">engine</span>=&#x27;<span class="params">openpyxl</span>&#x27;, <span class="params">mode</span>=&#x27;<span class="params">w</span>&#x27;)</span> <span class="keyword">as</span> writer:</span><br><span class="line">			rules.<span class="keyword">to</span><span class="constructor">_excel(<span class="params">writer</span>, <span class="params">sheet_name</span>=<span class="string">&quot;Apriori&quot;</span>, <span class="params">index</span>=True)</span></span><br></pre></td></tr></table></figure>
<p>dataframe要求，例如下的一个顾客购买的订单信息</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">df= pd.DataFrame(&#123;</span><br><span class="line"><span class="code">	香蕉:[1,0,1,0],</span></span><br><span class="line"><span class="code">	苹果:[1,1,1,1],</span></span><br><span class="line"><span class="code">	柑橘:[0,1,1,0],</span></span><br><span class="line"><span class="code">	芒果:[0,0,1,0],&#125;,</span></span><br><span class="line"><span class="code">	index=[i for i in range(4)])</span></span><br><span class="line"></span><br><span class="line">#实际是长这样的,1是该顾客购买了，0是没有购买</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line"><span class="code">  香蕉 苹果 柑橘 芒果</span></span><br><span class="line">0 1    1    0    0 </span><br><span class="line">1 0    1    1    0</span><br><span class="line">2 1    1    1    1</span><br><span class="line">3 0    1    0    0</span><br><span class="line">&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>
<p>由于一般给出的数据肯定不长0，1矩阵这样，所以<br>
要做数据处理，从数据库上导出的数据可能长这样</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">df</span></span></span><br><span class="line">订单 购买商品</span><br><span class="line">1    苹果</span><br><span class="line">1    香蕉 </span><br><span class="line">2    苹果</span><br><span class="line">2    柑橘</span><br><span class="line">3    香蕉 </span><br><span class="line">3    苹果 </span><br><span class="line">3    柑橘 </span><br><span class="line">3    芒果</span><br><span class="line">4    苹果</span><br></pre></td></tr></table></figure>
<p>这样的数据处理真的比较阴间。<br>
下面的代码部分比较多，如果不需要处理的话可以跳过了</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="comment">#两个基本函数</span></span><br><span class="line"><span class="comment">#注意pandas取出下来要处理才能变成列表</span></span><br><span class="line">def ti(df):</span><br><span class="line">    l=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> df:</span><br><span class="line">        l.append(i)</span><br><span class="line">    return l</span><br><span class="line"><span class="comment">#去重函数，为了获取所有商品名</span></span><br><span class="line">def de(li):</span><br><span class="line">    <span class="attribute">new_li</span>=set(li)</span><br><span class="line">    return new_li</span><br><span class="line"><span class="comment">#先将数据分列取出</span></span><br><span class="line"><span class="attribute">l_number</span>=ti(df.iloc[:,0]);<span class="attribute">l_data</span>=ti(df.iloc[:,1])</span><br><span class="line"><span class="comment">#上面为数据，下面为商品名和订单号列表</span></span><br><span class="line"><span class="attribute">l_order</span>=de(l_number);l_name=de(l_data)</span><br></pre></td></tr></table></figure>
<p>分订单得到每个订单的商品名，这里用了比较原始的方法，<br>
可以使用更好的算法，运行压力也会减小</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">#return回元素的列表索引值</span><br><span class="line">def li_index(li,element):</span><br><span class="line">	<span class="keyword">try</span>:</span><br><span class="line">		<span class="built_in">index</span> = li.<span class="built_in">index</span>(element)</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">index</span></span><br><span class="line">	except:</span><br><span class="line">		<span class="keyword">return</span> None</span><br><span class="line">lt1 = []</span><br><span class="line"><span class="keyword">for</span> i in l_order :</span><br><span class="line">	<span class="keyword">lt</span>=[]</span><br><span class="line">	<span class="keyword">for</span> <span class="keyword">e</span> in <span class="built_in">range</span>(<span class="built_in">len</span>(l_data)):</span><br><span class="line">		<span class="keyword">if</span> l_number[<span class="keyword">e</span>]==i:</span><br><span class="line">			<span class="keyword">lt</span>.<span class="keyword">append</span>(li_index(li=l_name,element=l_data[<span class="keyword">e</span>]))</span><br><span class="line">	lt1.<span class="keyword">append</span>(<span class="keyword">lt</span>)</span><br><span class="line"># lt1分订单得到每个订单购买的商品的序号</span><br></pre></td></tr></table></figure>
<p>得到每个订单购买的商品的序号后，就可以建立矩阵了</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">lt2 = [l<span class="emphasis">_name];</span></span><br><span class="line"><span class="emphasis">for i in range(len(lt1)):</span></span><br><span class="line"><span class="emphasis">	t = lt1[i]</span></span><br><span class="line"><span class="emphasis">	l_number = [0] * 4</span></span><br><span class="line"><span class="emphasis">	for e in t:</span></span><br><span class="line"><span class="emphasis">		l_number[e] = 1</span></span><br><span class="line"><span class="emphasis">	lt2.append(l_</span>number)</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line"><span class="code"> lt2=[[香蕉,苹果,柑橘,芒果],</span></span><br><span class="line"><span class="code">	[1,0,1,0],</span></span><br><span class="line"><span class="code">	[1,1,1,1],</span></span><br><span class="line"><span class="code">	[0,1,1,0],</span></span><br><span class="line"><span class="code">	[0,0,1,0]]</span></span><br><span class="line">&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>
<p>最终终于得到了0，1的二维列表了，之后就是转化df了</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">df2 = pd<span class="selector-class">.DataFrame</span>(</span><br><span class="line">	lt2<span class="selector-attr">[1:]</span>, </span><br><span class="line">	<span class="attribute">columns</span>=lt2[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p><img src="1.png" alt="1"></p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">df_apriori</span>(df2) #min_support=<span class="number">0</span>.<span class="number">5</span>，min_threshold=<span class="number">0</span>.<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>运行后，得到下图<br>
<img src="2.png" alt="1"><br>
然而得到的上图的结果并不充分，lift太低，这是由于数据量的问题，<br>
实际问题的数据量会很大，lift会比较高，support会比较低，但其实aprioiri<br>
对于数据量很大的数据，运行效率比较感人，所以相应也有很多优化的算法，<br>
留个悬念以后再研究<br>
四、完结<br>
<img src="1010D_106_1.jpg" alt="1"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title>【整理/自用】整理一个即兴写的数据整理和导出脚本</title>
    <url>/2023/10/04/%E3%80%90%E6%95%B4%E7%90%86%E3%80%91%E6%95%B4%E7%90%86%E4%B8%80%E4%B8%AA%E5%8D%B3%E5%85%B4%E5%86%99%E7%9A%84%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86%E5%92%8C%E5%AF%BC%E5%87%BA%E8%84%9A%E6%9C%AC/</url>
    <content><![CDATA[<p>1.前言<br>
由于以前(一周前)写的一个脚本太过即兴，<br>
原数据的长度过于冗长，导致脚本异常的乱，<s><em>想要去回看却完全看不懂了</em></s><br>
该脚本主要是处理爬取后杂乱的数据，进行筛选，合并的过程<br>
主要是一个整理处理过程的文章，会省略掉很多<br>
没什么大用的部分或者简单的部分，处理函数十分<br>
物尽其用，没有特别花哨的玩意<br>
爬取对象为创业决策（决策天地）的决策结果数据</p>
<span id="more"></span>
<p><img src="/image/1002D_239_1.jpg" alt="1"><br>
2.数据来源<br>
<a href="www.jctd.net">创业决策</a><br>
主要是爬取模拟决策后的各项数据，竞争结果数据，<br>
但结果是竞争结果的数据并不全，生产相关数据<br>
需要在另一个爬取，所以应该分为两个部分。</p>
<p>3.结果数据</p>
<details>
<summary>
<p>
长数据警告(点我展开)
</p>
</summary>
<p>
[
    "  一般市场价格",
    "(元/台) ",
    "  广告费用投入",
    "(百万元) ",
    "  销售人员数量",
    "(人) ",
    "  销售人员费用",
    "(百万元) ",
    "  产品质量评价",
    "(1--5) ",
    "  研发投入效应",
    "(百万元) ",
    "  一般市场销售量",
    "(台) ",
    "  一般市场销售额",
    "(百万元) ",
    "  理论市场占有率",
    "(%) ",
    "  实际市场占有率",
    "(%) ",
    "  附加市场 I 销售量",
    "(台) ",
    "  附加市场 I 销售额",
    "(百万元) ",
    "  附加市场II 销售量",
    "(台) ",
    "  附加市场II 销售额",
    "(百万元) ",
    "  中标企业",
    "(打***号企业) ",
    "  中标企业投标价格",
    "(台/元) ",
    "  原材料库存量",
    "(台) ",
    "  附件库存量",
    "(台) ",
    "  产品累积库存数量",
    "(台) ",
    "  机器人数量",
    "(个) ",
    "  研究人员数",
    "(个) ",
    "  一般市场计划量",
    "(台) ",
    "  一般市场生产量",
    "(台) ",
    "  维修保养系数",
    "(0--1) ",
    "  合理化系数",
    "(0--1) ",
    "  生产线生产能力",
    "(台/周期) ",
    "  生产人员数",
    "(个) ",
    "  生产线负载率",
    "(%) ",
    "  生产人员负载率",
    "(%) ",
    "  一般市场的产品成本",
    "(元) ",
    "  税前经营成果",
    "(百万元) ",
    "  本周期亏损结转",
    "(百万元) ",
    "  本周期股息支付",
    "(百万元) ",
    "  本周期利润储备",
    "(百万元) ",
    "  本周期中期贷款",
    "(百万元) ",
    "  本周期期末现金",
    "(百万元) ",
    "  总的利润储备额",
    "(百万元) ",
    "  本周期透支贷款",
    "(百万元) ",
    "  资产负债总和",
    "(百万元) ",
    "",
    "",
    "",
    "",
    ""
]
</p>
</details>
<details>
<summary>
<p>
长数据警告(点我展开)
</p>
</summary>
<p>
[
    "各企业市场营销及生产研究报告",
    "(第5周期)",
    "1 to 5       ",
    "6 to 10       ",
    "11 to 15       ",
    "16 to 20       ",
    "21 to 25       ",
    "项目/企业",
    "618",
    "700",
    "642",
    "1150",
    "705",
    "3.5",
    "2",
    "3",
    "1",
    "2.61",
    "88",
    "57",
    "100",
    "40",
    "65",
    "3.36",
    "2.18",
    "3.82",
    "1.53",
    "2.48",
    "1",
    "3",
    "2",
    "3",
    "2",
    ".",
    "",
    "首页     创业导航     创业原理     使用手册     创业流程     决策仿真     教学大纲",
    "本网站系统版权属东华大学旭日工商管理学院信息管理研究所宋福根教授所有，未经授权许可，不得转载或建立镜像",
    "Copyright@2019 上海宏飞科技发展有限公司；沪ICP备2023000744号-1；公安备3101052004737号；电话13916008968",
    "",
    "",
    "",
    "",
    "",
    "2.11",
    "1.03",
    "0.96",
    "0.82",
    "1.43",
    "71474",
    "44043",
    "63957",
    "6187",
    "48072",
    "44.17",
    "30.83",
    "41.06",
    "7.11",
    "33.89",
    "5.3",
    "3.7",
    "5",
    "0.8",
    "4.1",
    "5.6",
    "3.9",
    "5.2",
    "0.9",
    "4.3",
    "0",
    "0",
    "0",
    "0",
    "0",
    "0",
    "0",
    "0",
    "0",
    "0",
    "3200",
    "3200",
    "3200",
    "2000",
    "3200",
    "2.17",
    "2.17",
    "2.17",
    "1.36",
    "2.17",
    "-",
    "-",
    "-",
    "-",
    "-",
    "0",
    "700",
    "0",
    "0",
    "684",
    "179",
    "774",
    "320",
    "0",
    "94629",
    "979",
    "4374",
    "3520",
    "0",
    "12839",
    "6106",
    "15308",
    "1781",
    "66933",
    "20514",
    "0",
    "0",
    "32",
    "0",
    "96",
    "8",
    "8",
    "14",
    "8",
    "18",
    "47000",
    "33682",
    "54447",
    "21600",
    "49715",
    "47000",
    "33682",
    "54447",
    "21600",
    "49715",
    "0.9",
    "0.9",
    "0.98",
    "0.9",
    "0.9",
    "1.25",
    "1.25",
    "1.3",
    "1",
    "1.3",
    "51187",
    "36562",
    "57967",
    "23400",
    "53235",
    "202",
    "140",
    "200",
    "94",
    "117",
    "98.7",
    "101.8",
    "100",
    "101.7",
    "100",
    "100",
    "106.3",
    "99.9",
    "101.3",
    "100",
    "719.19",
    "791.24",
    "646.89",
    "1013.34",
    "633.91",
    "-4.24",
    "-6.03",
    "0.28",
    "-9.48",
    "-0.61",
    "-4.24",
    "-6.03",
    "0",
    "-19.99",
    "-0.61",
    "0",
    "0",
    "0.17",
    "0",
    "0",
    "0",
    "0",
    "0",
    "0",
    "0",
    "5",
    "15",
    "0",
    "5",
    "39.44",
    "0.1",
    "7.27",
    "0.21",
    "0.1",
    "0.11",
    "5.28",
    "5.05",
    "8.57",
    "0.08",
    "1.1",
    "2.24",
    "0",
    "0",
    "38.97",
    "0",
    "33.29",
    "39.03",
    "33.75",
    "49.07",
    "64.93",
    "",
    "",
    "",
    "",
    ""
]
</p>
</details>
<p>上述为决策第一周期数据1和数据2<br>
数据1中可以看到是项目名的部分，数据2则是对应数据。<br>
所以，数据1爬一次够了。需要先对数据1进行数据清洗和筛选<br>
下面就不隐藏了</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">def name(arr0):</span><br><span class="line">    arr01 = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="built_in">len</span>(arr0),<span class="number">2</span>): <span class="comment">#步长设为2，项目名和单位两两一对</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            name=arr0[i]+arr0[i+<span class="number">1</span>] <span class="comment">#把单位和名称合并</span></span><br><span class="line">        except:</span><br><span class="line">            name=<span class="string">&quot;&quot;</span></span><br><span class="line">        arr01.append(name) <span class="comment">#重新合并成一个列表</span></span><br><span class="line">    arr011=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> arr01:</span><br><span class="line">        <span class="keyword">a</span>=<span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="keyword">for</span> e <span class="keyword">in</span> i:</span><br><span class="line">            <span class="keyword">if</span> e!=<span class="string">&quot; &quot;</span>: <span class="comment">#NBSP  #把空格给删掉</span></span><br><span class="line">                <span class="keyword">a</span>+=e</span><br><span class="line">        <span class="keyword">if</span> is_number(<span class="keyword">a</span>)==False <span class="keyword">and</span> <span class="keyword">a</span>!=<span class="string">&quot;&quot;</span>:  <span class="comment">#把无用部分去掉</span></span><br><span class="line">            arr011.append(<span class="keyword">a</span>)</span><br><span class="line">    <span class="literal">return</span> arr011</span><br></pre></td></tr></table></figure>
<p>因为如果回看之前的数据，爬取下来的数据2<br>
跟本周期不同，所以写了两份</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">def <span class="built_in">num</span>(arr1):</span><br><span class="line"></span><br><span class="line">    arr11=[]</span><br><span class="line">    for i in arr1:</span><br><span class="line">        if <span class="built_in">is_number</span>(i)==True or i==<span class="string">&quot;-&quot;</span> or i==<span class="string">&#x27;***&#x27;</span>:</span><br><span class="line">            a=i</span><br><span class="line">            arr11.<span class="built_in">append</span>(a)</span><br><span class="line">    arr12=[]</span><br><span class="line">    for e in <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(arr11),<span class="number">5</span>):</span><br><span class="line">        arr12.<span class="built_in">append</span>(arr11[e])</span><br><span class="line">    return arr12</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">num1</span>(<span class="params">arr1,n</span>):</span><br><span class="line"></span><br><span class="line">    arr11=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> arr1:</span><br><span class="line">        <span class="keyword">if</span> is_number(i)==<span class="literal">True</span> <span class="keyword">or</span> i==<span class="string">&quot;-&quot;</span> <span class="keyword">or</span> i==<span class="string">&#x27;***&#x27;</span>: <span class="comment">#中标部分数据，不以数字形式出现</span></span><br><span class="line">            a=i</span><br><span class="line">            arr11.append(a)</span><br><span class="line">    arr12=[]</span><br><span class="line">    <span class="keyword">for</span> e <span class="keyword">in</span> <span class="built_in">range</span>(n,<span class="built_in">len</span>(arr11),<span class="number">5</span>): <span class="comment">#步长为5，是因为存在5组的数据，n则代表所在组的列数</span></span><br><span class="line">        arr12.append(arr11[e])</span><br><span class="line">    <span class="keyword">return</span> arr12</span><br></pre></td></tr></table></figure>
<p>数据处理完后，就生产df数据，待生成excel表</p>
<p>3.以上是竞争结果的数据处理部分，下面是<br>
生产数据的合并部分</p>
<details>
<summary>
<p>
长数据警告(点我展开)
</p>
</summary>
<p>
[
    " 市场报告",
    " ",
    " 价格       (元/台)",
    "1070",
    "0",
    "750",
    " 销售量        (台)",
    "19764",
    "0",
    "5000",
    " 销售额 (百万元)",
    "21.14",
    "0",
    "3.75",
    " 市场占有率 (%)",
    "      3",
    " 产品质量评价",
    "      3",
    " 仓库报告I：原材料",
    " ",
    " 期初库存",
    "0",
    "0",
    "0",
    "   +增  加",
    "90000",
    "30",
    "2.7",
    "   - 消  耗",
    "32382",
    "30",
    "0.97",
    " =期末库存",
    "57618",
    "30",
    "1.72",
    " 仓库报告II：一般产品",
    " ",
    " 期初库存",
    "0",
    "0",
    "0",
    "   +增  加",
    "27382",
    "521.99",
    "14.29",
    "   - 消  耗",
    "19764",
    "521.99",
    "10.31",
    " =期末库存",
    "7618",
    "521.99",
    "3.97",
    " 仓库报告III：附件",
    " ",
    " 期初库存",
    "0",
    "0",
    "0",
    "   +增  加",
    "90000",
    "70",
    "6.3",
    "   - 消  耗",
    "27382",
    "70",
    "1.91",
    " =期末库存",
    "62618",
    "70",
    "4.38",
    " 人员报告I",
    " ",
    " 期初人员",
    "0",
    "0",
    "   +招  聘",
    "128",
    "8",
    "   - 解  雇",
    "0",
    "0",
    "   - 流  动",
    "0",
    " =期末人员",
    "128",
    "8",
    " 人员报告II",
    " 销  售",
    "59",
    " 采  购",
    "5",
    " 管  理",
    "25",
    " 管理的合理化系数",
    "1",
    " 生产报告I",
    " ",
    " 前周期",
    "0",
    "0",
    "   +投  资",
    "5",
    "0",
    "   - 变  卖",
    "0",
    "---",
    " 本周期",
    "5",
    "0",
    " 生产报告II",
    " 一般产品",
    "27382",
    "27382",
    "109.5",
    " 特殊产品",
    "5000",
    "4500",
    "17.8",
    " 合    计",
    "32382",
    "31882",
    "128",
    " 负载率(%)",
    "---",
    "100",
    "99.6",
    " 生产报告III",
    " 生产线的合理化系数",
    "1.09",
    " 生产线维修保养系数",
    "0.9",
    " 生产线负载率100%时生产能力",
    "31882"
]
</p>
</details>
<p>大概长这样，<br>
数据提取函数</p>
<figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line">def produ(<span class="symbol">Arr11</span>):</span><br><span class="line">    n = <span class="number">0</span></span><br><span class="line">    <span class="symbol">List11</span> = []</span><br><span class="line">    <span class="symbol">List12</span> = []</span><br><span class="line">    for i in <span class="symbol">Arr11</span>:</span><br><span class="line">        if is_number(i) == <span class="symbol">False</span> and i != <span class="string">&quot;&quot;</span> and i != <span class="string">&quot;---&quot;</span>:</span><br><span class="line">            <span class="symbol">List11</span>.append(n)</span><br><span class="line">        elif is_number(i) == <span class="symbol">True</span> or i == <span class="string">&quot;&quot;</span> or i == <span class="string">&quot;---&quot;</span>:</span><br><span class="line">            <span class="symbol">List12</span>.append(n)</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">    <span class="symbol">Arr12</span> = []</span><br><span class="line">    for i in range(<span class="number">0</span>, len(<span class="symbol">List11</span>)):</span><br><span class="line">        <span class="symbol">List</span> = []</span><br><span class="line">        for e in <span class="symbol">List12</span>:</span><br><span class="line">            try:</span><br><span class="line">                if <span class="symbol">List11</span>[i] &lt; e &lt; <span class="symbol">List11</span>[i + <span class="number">1</span>]:</span><br><span class="line">                    <span class="symbol">List</span>.append(e)</span><br><span class="line">            except:</span><br><span class="line">                <span class="symbol">List</span> = []</span><br><span class="line">                <span class="symbol">List</span>.append(e)</span><br><span class="line">        <span class="symbol">Arr12</span>.append(<span class="symbol">List</span>)  #上述均为数据清洗操作</span><br><span class="line">    gm = []</span><br><span class="line">    cb=[]</span><br><span class="line">    tz=[]</span><br><span class="line">    sc=[]</span><br><span class="line">    bm=[]</span><br><span class="line">    bc=[]</span><br><span class="line">    for i in range(len(<span class="symbol">Arr12</span>)):</span><br><span class="line">        name = <span class="symbol">Arr11</span>[<span class="symbol">List11</span>[i]] #取出需要的数据</span><br><span class="line"></span><br><span class="line">        if name == <span class="string">&quot;   +增  加&quot;</span>:</span><br><span class="line">            gm.append(<span class="symbol">Arr11</span>[<span class="symbol">Arr12</span>[i][<span class="number">0</span>]])</span><br><span class="line">        if name == <span class="string">&quot;   +增  加&quot;</span>:</span><br><span class="line">            cb.append(<span class="symbol">Arr11</span>[<span class="symbol">Arr12</span>[i][<span class="number">1</span>]])</span><br><span class="line">        if name == <span class="string">&quot;   +投  资&quot;</span>:</span><br><span class="line">            tz.append(<span class="symbol">Arr11</span>[<span class="symbol">Arr12</span>[i][<span class="number">0</span>]])</span><br><span class="line">        if name == <span class="string">&quot; 前周期&quot;</span>:</span><br><span class="line">            sc.append(<span class="symbol">Arr11</span>[<span class="symbol">Arr12</span>[i][<span class="number">0</span>]])</span><br><span class="line">        if name == <span class="string">&quot;   - 变  卖&quot;</span>:</span><br><span class="line">            bm.append(<span class="symbol">Arr11</span>[<span class="symbol">Arr12</span>[i][<span class="number">0</span>]])</span><br><span class="line">        if name == <span class="string">&quot; 本周期&quot;</span>:</span><br><span class="line">            bc.append(<span class="symbol">Arr11</span>[<span class="symbol">Arr12</span>[i][<span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    for i in range(len(gm)):</span><br><span class="line">        if i == <span class="number">0</span>:</span><br><span class="line">            p31 = gm[i]</span><br><span class="line">        if i == <span class="number">2</span>:</span><br><span class="line">            p33 = gm[i]</span><br><span class="line">    for i in range(len(cb)):</span><br><span class="line">        if i == <span class="number">1</span>:</span><br><span class="line">            p11 = cb[i]</span><br><span class="line">    return p31,p33,p11,tz[<span class="number">0</span>],sc[<span class="number">0</span>] #return回需要的数据</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>添加函数，生产数据的合并</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">def clear0(df,L1,L2,L3,L4,L5):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(L1)):</span><br><span class="line">        L11 = []</span><br><span class="line">        e1,e2,e3,e4,<span class="attribute">e5</span>=L1[i],L2[i],L3[i],L4[i],L5[i]</span><br><span class="line">        L11.append(e1)</span><br><span class="line">        L11.append(e2)</span><br><span class="line">        L11.append(e3)</span><br><span class="line">        L11.append(e4)</span><br><span class="line">        L11.append(e5)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">i</span>==0: #dfinsert为df的插入函数，懒得写出来了，作用是插入在指定行的下方</span><br><span class="line">            df = dfinsert(df, <span class="string">&quot;原材料库存量(台)&quot;</span>, L11, <span class="string">&quot;原材料购买&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">i</span>==1:</span><br><span class="line">            df = dfinsert(df, <span class="string">&quot;附件库存量(台)&quot;</span>, L11, <span class="string">&quot;附件购买&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">i</span>==2:</span><br><span class="line">            df = dfinsert(df, <span class="string">&quot;一般市场的产品成本(元)&quot;</span>, L11, <span class="string">&quot;生产成本&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">i</span>==3:</span><br><span class="line">            df =dfinsert(df,<span class="string">&quot;生产线生产能力(台/周期)&quot;</span>,L11,<span class="string">&quot;生产线投资数&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">i</span>==4:</span><br><span class="line">            df = dfinsert(df, <span class="string">&quot;生产线投资数&quot;</span>, L11, <span class="string">&quot;上一周期生产线数量&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">i</span>==5:</span><br><span class="line">            df =dfinsert(df,<span class="string">&quot;生产线投资数&quot;</span>, L11, <span class="string">&quot;生产线变卖数&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">i</span>==6:</span><br><span class="line">            df =dfinsert(df,<span class="string">&quot;生产线投资数&quot;</span>, L11, <span class="string">&quot;本周期生产线数量&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    return df</span><br></pre></td></tr></table></figure>
<p>调用数据合并操作，要记得自己组的是在哪一个df，<br>
生产数据只有自己的能够看到</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">df1</span>=clear0(df1,L1,L2,L3,L4,L5) <span class="comment">#选择在哪个组哪一列</span></span><br></pre></td></tr></table></figure>
<p>另一部分的数据插入，财务方面的数据，这一部分是<br>
需要在原有数据进行计算然后插入，比较简单</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">def clear(df):</span><br><span class="line">    <span class="attribute">listt</span>=df.loc[<span class="string">&quot;本周期股息支付(百万元)&quot;</span>]</span><br><span class="line">    <span class="attribute">a</span>=0</span><br><span class="line">    listt1=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> listt:</span><br><span class="line">        a+=float(i)</span><br><span class="line">        listt1.append(a)</span><br><span class="line">    <span class="attribute">df</span>=dfinsert(df,&quot;本周期股息支付(百万元)&quot;,listt1,&quot;累计支付股息&quot;)</span><br><span class="line">    <span class="attribute">listt2</span>=df.loc[<span class="string">&quot;本周期利润储备(百万元)&quot;</span>]</span><br><span class="line"></span><br><span class="line">    l3,l4,l5,l6,l7=[],[],[],[],[]</span><br><span class="line">    <span class="attribute">n</span>=0</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> listt2:</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==0:</span><br><span class="line">            l3.append(i)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==1:</span><br><span class="line">            l4.append(i)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==2:</span><br><span class="line">            l5.append(i)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==3:</span><br><span class="line">            l6.append(i)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==4:</span><br><span class="line">            l7.append(i)</span><br><span class="line">        n+=1</span><br><span class="line">    <span class="attribute">n</span>=0</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> listt:</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==0:</span><br><span class="line">            l3.append(i)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==1:</span><br><span class="line">            l4.append(i)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==2:</span><br><span class="line">            l5.append(i)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==3:</span><br><span class="line">            l6.append(i)</span><br><span class="line">        <span class="keyword">if</span> <span class="attribute">n</span>==4:</span><br><span class="line">            l7.append(i)</span><br><span class="line">        n+=1</span><br><span class="line">    listt3=[]</span><br><span class="line">    <span class="attribute">a</span>=0</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> l3:</span><br><span class="line">        a+=float(i) </span><br><span class="line">    listt3.append(a)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    a4 = 0</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> l4:</span><br><span class="line">        a4+=float(i)</span><br><span class="line">    listt3.append(a4)</span><br><span class="line">    a1 = 0</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> l5:</span><br><span class="line">        a1+=float(i)</span><br><span class="line">    listt3.append(a1)</span><br><span class="line">    <span class="attribute">a2</span>=0</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> l6:</span><br><span class="line">        a2+=float(i)</span><br><span class="line">    listt3.append(a2)</span><br><span class="line"></span><br><span class="line">    <span class="attribute">a3</span>=0</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> l7:</span><br><span class="line">        a3+=float(i)</span><br><span class="line">    listt3.append(a3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="attribute">df</span>=dfinsert(df,&quot;税前经营成果(百万元)&quot;,listt3,&quot;税后利润&quot;)</span><br><span class="line">    return df</span><br></pre></td></tr></table></figure>
<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">df</span><span class="operator">=</span>clear(df)</span><br><span class="line"><span class="attribute">df1</span><span class="operator">=</span>clear(df1)</span><br><span class="line"><span class="attribute">df2</span><span class="operator">=</span>clear(df2)</span><br><span class="line"><span class="attribute">df3</span><span class="operator">=</span>clear(df3)</span><br><span class="line"><span class="attribute">df4</span><span class="operator">=</span>clear(df4)</span><br></pre></td></tr></table></figure>
<p>执行完就全部打出excel表就好了，不过要记得sheetname</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">path=<span class="string">&quot;jc2.xlsx&quot;</span></span><br><span class="line"><span class="keyword">with</span> pd.<span class="constructor">ExcelWriter(<span class="params">path</span>, <span class="params">engine</span>=&#x27;<span class="params">openpyxl</span>&#x27;, <span class="params">mode</span>=&#x27;<span class="params">w</span>&#x27;)</span> <span class="keyword">as</span> writer:</span><br><span class="line">    df.<span class="keyword">to</span><span class="constructor">_excel(<span class="params">writer</span>, <span class="params">sheet_name</span>=<span class="string">&quot;21&quot;</span>, <span class="params">index</span>=True)</span></span><br><span class="line">    df1.<span class="keyword">to</span><span class="constructor">_excel(<span class="params">writer</span>, <span class="params">sheet_name</span>=<span class="string">&quot;22&quot;</span>, <span class="params">index</span>=True)</span></span><br><span class="line">    df2.<span class="keyword">to</span><span class="constructor">_excel(<span class="params">writer</span>, <span class="params">sheet_name</span>=<span class="string">&quot;23&quot;</span>, <span class="params">index</span>=True)</span></span><br><span class="line">    df3.<span class="keyword">to</span><span class="constructor">_excel(<span class="params">writer</span>, <span class="params">sheet_name</span>=<span class="string">&quot;24&quot;</span>, <span class="params">index</span>=True)</span></span><br><span class="line">    df4.<span class="keyword">to</span><span class="constructor">_excel(<span class="params">writer</span>, <span class="params">sheet_name</span>=<span class="string">&quot;25&quot;</span>, <span class="params">index</span>=True)</span></span><br></pre></td></tr></table></figure>
<p><img src="1010D_190_1.jpg" alt="1"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>【电影】整理目录</title>
    <url>/2023/10/21/%E3%80%90%E7%94%B5%E5%BD%B1%E3%80%91%E6%95%B4%E7%90%86%E7%9B%AE%E5%BD%95/</url>
    <content><![CDATA[<p>电影的整理目录<br>
1.<a href="/2023/10/21/%E3%80%8A%E6%BC%AB%E9%95%BF%E7%9A%84%E5%AD%A3%E8%8A%82%E3%80%8B%EF%BC%8C%E6%8E%B0%E4%B8%8D%E8%BF%87%E5%91%BD%E8%BF%90%EF%BC%8C%E8%BF%98%E8%A6%81%E4%BB%B0%E7%9D%80%E5%A4%B4%E5%BE%80%E5%89%8D/">《漫长的季节》，掰不过命运，还要仰着头往前</a></p>
<span id="more"></span>
<p>2.<a href="/2023/10/21/%E5%9C%A8%E5%B4%A9%E5%9D%8F%E7%9A%84%E4%B8%96%E7%95%8C%E9%87%8C%E5%AF%BB%E6%89%BE%E5%85%89/">在崩坏的世界里寻找光</a><br>
3.<a href="/2023/10/21/%E8%A1%80%E8%A7%82%E9%9F%B3/">血观音</a><br>
4.<a href="/2023/10/28/%E7%BB%A7%E6%89%BF%E8%80%85%E4%B9%8B%E6%88%98/">继承者之战</a><br>
5.<a href="/2023/10/28/%E3%80%8A%E4%BA%BA%E7%94%9F%E5%88%87%E5%89%B2%E6%95%B0%E3%80%8B%E6%89%93%E5%B7%A5%E4%BA%BA%E7%9A%84%E5%9B%B0%E5%A2%83%E4%B8%8E%E8%8D%92%E5%94%90/">《人生切割数》打工人的困境与荒唐</a><br>
6.<a href="/2023/10/28/%E3%80%8A1923%E3%80%8B%E5%BE%80%E4%BA%8B%E5%A6%82%E9%85%92/">《1923》往事如酒</a><br>
7.<a href="/2023/11/5/%E7%B9%81%E5%9F%8E%E4%B9%8B%E4%B8%8B/">繁城之下</a></p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
  </entry>
  <entry>
    <title>【测试】js做的歌碟</title>
    <url>/2023/09/30/%E3%80%90%E7%9E%8E%E6%90%9E-%E6%B5%8B%E8%AF%95%E3%80%91js%E5%81%9A%E7%9A%84%E6%AD%8C%E7%A2%9F/</url>
    <content><![CDATA[<p>本文写的用纯JS（Jquery）写出的歌碟，<br>
歌碟通过CSS转动，可以切歌。</p>
<span id="more"></span>
<p><img src="/image/929D_257_1.jpg" alt="1"></p>
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js">
</script>
<script>
var s1=true;
var musicbox=$(".musicbox_test");
function mutr(){
	if (s1==false){
		s1=true;
		$(".music_test").attr("src","/image/Akatsuki.mp3")
		$(".recent_text").text("歌曲1")
		console.log("ch1")	
		if ($(".pic_box").css("animation-play-state")=="running"){
				$(".music_pic").css({"animation-play-state":"paused"});
				$(".pic_box").css({"animation-play-state":"paused"});
				$(".music_test").get(0).pause();
				s=true;
			}
	}
	else{
		s1=false;
		$(".music_test").attr("src","/image/wonderland.mp3")
		$(".recent_text").text("歌曲2")
		console.log("ch2")
		if ($(".pic_box").css("animation-play-state")=="running"){
				$(".music_pic").css({"animation-play-state":"paused"});
				$(".pic_box").css({"animation-play-state":"paused"});
				$(".music_test").get(0).pause();
				s=true;
			}
		}
}
s=true;

function muplay(){
	if (s==false){
		s=true;
		var music=$(".music_test").get(0);
		var pic=$(".music_pic");
		var box=$(".pic_box");
		music.pause();	 
		pic.css({"animation-play-state":"paused"});
		box.css({"animation-play-state":"paused"});
		}
	else{
		var music=$(".music_test").get(0);
		var pic=$(".music_pic");
		var box=$(".pic_box");
		s=false;
		music.play();
		pic.css({"animation-play-state":"running"});
		box.css({"animation-play-state":"running"});
		
		}
}
</script>
<style>
.pic_box{
	width:250px;
	border-radius: 50%;
	background-color:white;
	animation: Box 3s linear infinite;
	animation-play-state:paused;
}
.pic_box img{
	width:200px;
	height:200px;
	animation: Box 3s linear infinite;
	animation-play-state:paused;
	
	}
@keyframes Box{
	0%{transform: rotate(0deg);}
	50%{transform: rotate(180deg);}
	100%{transform: rotate(360deg);}
}
</style>
<!--more-->
<div onclick="mutr()">
<p>音乐盒（点我切歌）</p>
<p class="recent_text">&nbsp;歌曲1</p>
</div>
<div id="box1" class="pic_box">
  <img id="pic" class="music_pic" onclick="muplay()" src="/image/420px-KoishiSubterranean封面.jpg" alt="" />
</div>
<div id="musicbox" class="musicbox_test">
	<audio id="Akatsuki" class="music_test" src="/image/Akatsuki.mp3" loop="loop" >
	</audio>
</div>
<p>源代码</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> s1=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> musicbox=$(<span class="string">&quot;.musicbox_test&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">mutr</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">if</span> (s1==<span class="literal">false</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">		s1=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">		$(<span class="string">&quot;.music_test&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>,<span class="string">&quot;/image/Akatsuki.mp3&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">		$(<span class="string">&quot;.recent_text&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;歌曲1&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ch1&quot;</span>)	</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">if</span> ($(<span class="string">&quot;.pic_box&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;animation-play-state&quot;</span>)==<span class="string">&quot;running&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">				$(<span class="string">&quot;.music_pic&quot;</span>).<span class="title function_">css</span>(&#123;<span class="string">&quot;animation-play-state&quot;</span>:<span class="string">&quot;paused&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">				$(<span class="string">&quot;.pic_box&quot;</span>).<span class="title function_">css</span>(&#123;<span class="string">&quot;animation-play-state&quot;</span>:<span class="string">&quot;paused&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">				$(<span class="string">&quot;.music_test&quot;</span>).<span class="title function_">get</span>(<span class="number">0</span>).<span class="title function_">pause</span>();</span></span><br><span class="line"><span class="language-javascript">				s=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">	&#125;</span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">		s1=<span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">		$(<span class="string">&quot;.music_test&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>,<span class="string">&quot;/image/wonderland.mp3&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">		$(<span class="string">&quot;.recent_text&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;歌曲2&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ch2&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">if</span> ($(<span class="string">&quot;.pic_box&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;animation-play-state&quot;</span>)==<span class="string">&quot;running&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">				$(<span class="string">&quot;.music_pic&quot;</span>).<span class="title function_">css</span>(&#123;<span class="string">&quot;animation-play-state&quot;</span>:<span class="string">&quot;paused&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">				$(<span class="string">&quot;.pic_box&quot;</span>).<span class="title function_">css</span>(&#123;<span class="string">&quot;animation-play-state&quot;</span>:<span class="string">&quot;paused&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">				$(<span class="string">&quot;.music_test&quot;</span>).<span class="title function_">get</span>(<span class="number">0</span>).<span class="title function_">pause</span>();</span></span><br><span class="line"><span class="language-javascript">				s=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">s=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">muplay</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">if</span> (s==<span class="literal">false</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">		s=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">var</span> music=$(<span class="string">&quot;.music_test&quot;</span>).<span class="title function_">get</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">var</span> pic=$(<span class="string">&quot;.music_pic&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">var</span> box=$(<span class="string">&quot;.pic_box&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">		music.<span class="title function_">pause</span>();	 </span></span><br><span class="line"><span class="language-javascript">		pic.<span class="title function_">css</span>(&#123;<span class="string">&quot;animation-play-state&quot;</span>:<span class="string">&quot;paused&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">		box.<span class="title function_">css</span>(&#123;<span class="string">&quot;animation-play-state&quot;</span>:<span class="string">&quot;paused&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">		&#125;</span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">var</span> music=$(<span class="string">&quot;.music_test&quot;</span>).<span class="title function_">get</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">var</span> pic=$(<span class="string">&quot;.music_pic&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">var</span> box=$(<span class="string">&quot;.pic_box&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">		s=<span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">		music.<span class="title function_">play</span>();</span></span><br><span class="line"><span class="language-javascript">		pic.<span class="title function_">css</span>(&#123;<span class="string">&quot;animation-play-state&quot;</span>:<span class="string">&quot;running&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">		box.<span class="title function_">css</span>(&#123;<span class="string">&quot;animation-play-state&quot;</span>:<span class="string">&quot;running&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">		</span></span><br><span class="line"><span class="language-javascript">		&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.pic_box</span>&#123;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">width</span>:<span class="number">250px</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">background-color</span>:white;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">animation</span>: Box <span class="number">3s</span> linear infinite;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">animation-play-state</span>:paused;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.pic_box</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">animation</span>: Box <span class="number">3s</span> linear infinite;</span></span><br><span class="line"><span class="language-css">	<span class="attribute">animation-play-state</span>:paused;</span></span><br><span class="line"><span class="language-css">	</span></span><br><span class="line"><span class="language-css">	&#125;</span></span><br><span class="line"><span class="language-css"><span class="keyword">@keyframes</span> Box&#123;</span></span><br><span class="line"><span class="language-css">	<span class="number">0%</span>&#123;<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);&#125;</span></span><br><span class="line"><span class="language-css">	<span class="number">50%</span>&#123;<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">180deg</span>);&#125;</span></span><br><span class="line"><span class="language-css">	<span class="number">100%</span>&#123;<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);&#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--more--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">&quot;mutr()&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>音乐盒（点我切歌）<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;recent_text&quot;</span>&gt;</span><span class="symbol">&amp;nbsp;</span>歌曲1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;pic_box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;pic&quot;</span> <span class="attr">class</span>=<span class="string">&quot;music_pic&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;muplay()&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/image/420px-KoishiSubterranean封面.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;musicbox&quot;</span> <span class="attr">class</span>=<span class="string">&quot;musicbox_test&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">audio</span> <span class="attr">id</span>=<span class="string">&quot;Akatsuki&quot;</span> <span class="attr">class</span>=<span class="string">&quot;music_test&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/image/Akatsuki.mp3&quot;</span>  <span class="attr">loop</span>=<span class="string">&quot;loop&quot;</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>前端JS</category>
      </categories>
  </entry>
  <entry>
    <title>【算法/Python】DataFrame的单行指定插入</title>
    <url>/2023/09/29/%E3%80%90%E7%AE%97%E6%B3%95-Python%E3%80%91DataFrame%E7%9A%84%E5%8D%95%E8%A1%8C%E6%8C%87%E5%AE%9A%E6%8F%92%E5%85%A5/</url>
    <content><![CDATA[<p>1.前言<br>
Pandas的DataFrame常常用于存储二维数组<br>
pandas的功能也比较强大，可以对接excel。<br>
但当数据行数很多的情况，就想要新数据插入指定行，<br>
似乎pandas并没有现成的函数支持<br>
只有比较原始的插入，而且这种方法必须要求list的长度等于df的列数<br>
于是就想写一个</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">df.<span class="keyword">loc</span>[<span class="built_in">len</span>(df.<span class="built_in">index</span>)]=<span class="keyword">list</span> </span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>2.算法<br>
废话不多说上算法<br>
利用分离，然后上下合并（concat）的方法<br>
通常数据较多用行名作参数比较容易<br>
–10.16更新，修正了代码错误，修改一些遗留问题。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">dfinsert</span>(<span class="params">df, indexname, <span class="built_in">list</span>,name</span>):</span><br><span class="line">    <span class="comment">#df为原数据，list为想要插入的数据</span></span><br><span class="line">    df_add = pd.DataFrame(</span><br><span class="line">        columns=df.columns</span><br><span class="line">        )</span><br><span class="line">    df_add.loc[name] = <span class="built_in">list</span> <span class="comment">#创建想要插入的df数据</span></span><br><span class="line">    df1 = df.loc[:indexname, :]</span><br><span class="line">    <span class="comment"># 不同于行数定位，要获取下一行有点绕</span></span><br><span class="line">    y=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> e <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(df.index)):</span><br><span class="line">        <span class="keyword">if</span> df.index[e]==indexname:</span><br><span class="line">            y=df.index[e+<span class="number">1</span>]</span><br><span class="line">    df2 = df.loc[y:, :]</span><br><span class="line">    df_new = pd.concat([df1, df_add, df2])</span><br><span class="line">    <span class="keyword">return</span> df_new <span class="comment">#合并后的数据</span></span><br></pre></td></tr></table></figure>
<p>也可以用行数作参数，基本就改一下</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">dfinsert_index</span>(<span class="params">df, i, listt1,name</span>):</span><br><span class="line">    i=int(i) <span class="comment"># 如果i是str先换成int</span></span><br><span class="line">    df_add = pd.<span class="title class_">DataFrame</span>(</span><br><span class="line">        columns=df.columns)</span><br><span class="line">    df_add.loc[name] = listt1</span><br><span class="line">    <span class="comment">#因为索引值python的0为序号1所以加1</span></span><br><span class="line">    y=i+<span class="number">1</span></span><br><span class="line">    df1 = df.iloc[<span class="symbol">:y</span>, <span class="symbol">:</span>]</span><br><span class="line">    <span class="comment"># 行数定位加1就完了</span></span><br><span class="line">    df2 = df.iloc[<span class="symbol">y:</span>, <span class="symbol">:</span>]</span><br><span class="line">    df_new = pd.concat([df1, df_add, df2])</span><br><span class="line">    <span class="keyword">return</span> df_new <span class="comment">#合并后的数据</span></span><br></pre></td></tr></table></figure>
<p>完结<br>
<img src="/image/929D_226_1.jpg" alt="1"></p>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
      <tags>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>【算法/Python】数字提取</title>
    <url>/2023/09/29/%E3%80%90%E7%AE%97%E6%B3%95-Python%E3%80%91%E6%95%B0%E5%AD%97%E6%8F%90%E5%8F%96/</url>
    <content><![CDATA[<p>1.前言<br>
数字提取是一个难题，然而爬虫有些时候是非常需要，<br>
如果爬下来的数字是错的，整个数学运算就寄了</p>
<span id="more"></span>
<p><img src="/image/929D_294_1.jpg" alt="1"><br>
像字符串逐个读取这样，这样的算法只能读取一个数字，<br>
而且不能读取负数，百分数等</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">def numget(<span class="keyword">string</span>):</span><br><span class="line">    <span class="keyword">a</span> = <span class="string">&#x27;&#x27;</span>   <span class="comment"># 将空值赋值给a</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">string</span>:    <span class="comment"># 将字符串进行遍历</span></span><br><span class="line">        <span class="keyword">if</span> str.isdigit(i)==True:    <span class="comment"># 判断i是否为数字，如果“是”返回True，“不是”返回False</span></span><br><span class="line">            <span class="keyword">a</span> += i   <span class="comment"># 如果i是数字格式，将i以字符串格式加到a上</span></span><br><span class="line">        elif i==<span class="string">&quot;.&quot;</span>:</span><br><span class="line">            <span class="keyword">a</span>+=<span class="string">&quot;.&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">a</span> ==<span class="string">&quot;&quot;</span>:</span><br><span class="line">        <span class="keyword">a</span>+=<span class="string">&quot;0&quot;</span></span><br><span class="line">    <span class="literal">return</span> <span class="keyword">a</span></span><br></pre></td></tr></table></figure>
<p>如果用现成的re.findall无法解决百分数，负数，小数点的问题</p>
<figure class="highlight processing"><table><tr><td class="code"><pre><span class="line"><span class="built_in">str</span>=<span class="string">&quot;很好hh-20.1计算机11.1你好90%我 -50&quot;</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="built_in">print</span>(re.<span class="property">findall</span>(<span class="string">&quot;\d+&quot;</span>,<span class="built_in">str</span>))</span><br><span class="line"># 输出：[<span class="string">&#x27;20&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;11&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;90&#x27;</span>, <span class="string">&#x27;50&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>再试试正则表达式呢<br>
网上找到的常用方法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">sentence = <span class="string">&quot;很好hh-20.1计算机11.1你好90%我 -50&quot;</span></span><br><span class="line">s = [<span class="built_in">float</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> re.findall(<span class="string">r&#x27;-?\d+\.?\d*&#x27;</span>, sentence)]</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"><span class="comment">#输出：[-20.1, 11.1, 90.0, -50.0]</span></span><br></pre></td></tr></table></figure>
<p>然而寄在百分数上了</p>
<p>但其实好像是能做的，把%的匹配给加上</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">sentence = <span class="string">&quot;很好hh-20.1计算机11.1你好90%我 -50&quot;</span></span><br><span class="line">s2 = [s  <span class="keyword">for</span> s <span class="keyword">in</span> re.findall(<span class="string">r&#x27;-?\d+%?\.?\d*&#x27;</span>, sentence)  ]</span><br><span class="line">s3=[]</span><br><span class="line"><span class="keyword">for</span> s <span class="keyword">in</span> s2:</span><br><span class="line">    <span class="keyword">if</span> is_number(s)==<span class="literal">False</span>:</span><br><span class="line">        s=s.replace(<span class="string">&quot;%&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">        s=<span class="built_in">float</span>(s)/<span class="number">100</span></span><br><span class="line">    s3.append(s)</span><br><span class="line"><span class="built_in">print</span>(s3)</span><br><span class="line"><span class="comment">#[&#x27;-20.1&#x27;, &#x27;11.1&#x27;, 0.9, &#x27;-50&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>其实还是挺麻烦的</p>
<p>2.自己乱写的算法，写得超级超级的乱<br>
在数字提取之前应该需要一个判断数字的函数<br>
isdigit()可以判断单个字符<br>
可能会有疏漏，但基本满足了需求</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">numget</span>(<span class="params">string</span>):</span><br><span class="line">    a = <span class="string">&#x27;&#x27;</span>   <span class="comment"># 将空值赋值给a</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> string:    <span class="comment"># 将字符串进行遍历</span></span><br><span class="line">        <span class="keyword">if</span> is_number(i)==<span class="literal">True</span>:    <span class="comment"># 判断i是否为数字</span></span><br><span class="line">            a += i</span><br><span class="line">        <span class="keyword">if</span> i==<span class="string">&quot;.&quot;</span> <span class="keyword">or</span> i==<span class="string">&quot;%&quot;</span> <span class="keyword">or</span> i==<span class="string">&quot;-&quot;</span>:</span><br><span class="line">            a+=i</span><br><span class="line">        <span class="keyword">elif</span> is_number(i)==<span class="literal">False</span> :</span><br><span class="line">            a+=<span class="string">&quot; &quot;</span> <span class="comment">#为数字之间制造间隔</span></span><br><span class="line">    <span class="keyword">if</span> a ==<span class="string">&quot;&quot;</span>:</span><br><span class="line">        a+=<span class="string">&quot;0&quot;</span></span><br><span class="line">	<span class="comment">#非数字部分会全部变成空格，所以要删掉空格并分离数字</span></span><br><span class="line">    numlist=spaceremove(a)</span><br><span class="line">	<span class="comment">#删掉空格然后分离，获取数字断点</span></span><br><span class="line">    temp=tempsolve(numlist)</span><br><span class="line">	<span class="comment">#获取每个数字的区间</span></span><br><span class="line"></span><br><span class="line">    arr=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> temp:</span><br><span class="line">        e1,e2=i[<span class="number">0</span>],i[<span class="number">1</span>]</span><br><span class="line">        t=a[e1:e2+<span class="number">1</span>]</span><br><span class="line">        arr.append(t) <span class="comment">#arr就是分离出的数字列表</span></span><br><span class="line">    arr1=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">        i=numchange(i) <span class="comment">#把百分数换成小数，并把其他数字换成浮点数</span></span><br><span class="line">        arr1.append(i)</span><br><span class="line">    <span class="keyword">return</span> arr1</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">spaceremove</span>(<span class="params"><span class="built_in">str</span></span>):</span><br><span class="line">    <span class="comment">#判断数字分隔</span></span><br><span class="line">    <span class="built_in">list</span>=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(<span class="built_in">str</span>)):</span><br><span class="line">        e1=<span class="built_in">str</span>[i]</span><br><span class="line">        <span class="keyword">if</span> e1.isdigit()==<span class="literal">True</span> <span class="keyword">or</span> e1==<span class="string">&quot;.&quot;</span> <span class="keyword">or</span> e1==<span class="string">&quot;%&quot;</span> <span class="keyword">or</span> e1==<span class="string">&quot;-&quot;</span>:</span><br><span class="line">            <span class="built_in">list</span>.append(i)</span><br><span class="line"></span><br><span class="line">    temp=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(<span class="built_in">list</span>)):</span><br><span class="line">        e1=<span class="built_in">list</span>[i]</span><br><span class="line">        <span class="keyword">if</span> i&lt;<span class="built_in">len</span>(<span class="built_in">list</span>)-<span class="number">1</span>:</span><br><span class="line">            e2=<span class="built_in">list</span>[i+<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> e2 -e1!=<span class="number">1</span>:</span><br><span class="line">                temp.append(e1+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> temp[<span class="number">0</span>]!=<span class="number">0</span>:</span><br><span class="line">        temp1=[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> temp:</span><br><span class="line">            temp1.append(i)</span><br><span class="line">        temp1.append(<span class="built_in">list</span>[-<span class="number">1</span>])</span><br><span class="line">        temp=temp1</span><br><span class="line">    <span class="keyword">return</span> temp</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">tempsolve</span>(<span class="params">numlist</span>):</span><br><span class="line">    <span class="comment">#判断数字的区间 最后return一个复合列表</span></span><br><span class="line">    temp = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(numlist)):</span><br><span class="line">        e1 = numlist[i]</span><br><span class="line">        <span class="keyword">if</span> i &lt; <span class="built_in">len</span>(numlist) - <span class="number">1</span>:</span><br><span class="line">            e2 = numlist[i + <span class="number">1</span>]</span><br><span class="line">            temp1 = []</span><br><span class="line">            temp1.append(e1)</span><br><span class="line">            temp1.append(e2)</span><br><span class="line">            temp.append(temp1)</span><br><span class="line">    <span class="keyword">return</span> temp</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">numchange</span>(<span class="params"><span class="built_in">str</span></span>):</span><br><span class="line">    <span class="comment">#处理百分数</span></span><br><span class="line">    a=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">if</span> i==<span class="string">&quot;%&quot;</span>:</span><br><span class="line">            a+=<span class="string">&quot;%&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">str</span>=<span class="built_in">float</span>(<span class="built_in">str</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">if</span> a==<span class="string">&quot;%&quot;</span>:</span><br><span class="line">            b=<span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">                <span class="keyword">if</span> i.isdigit()==<span class="literal">True</span>:</span><br><span class="line">                    b+=i</span><br><span class="line">            <span class="keyword">if</span> b!=<span class="string">&quot;&quot;</span>:</span><br><span class="line">                <span class="built_in">str</span>=<span class="built_in">int</span>(b)/<span class="number">100</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>=<span class="string">&quot;很好hh-20.1计算机11.1你好90%我 -50&quot;</span></span><br><span class="line"><span class="built_in">print</span>(numget(<span class="built_in">str</span>))</span><br><span class="line"><span class="comment"># 输出结果：[-20.1, 11.1, 0.9, -50.0]</span></span><br></pre></td></tr></table></figure>
<p><img src="/image/929D_262_1.jpg" alt="2"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>【电影】在崩坏的世界里寻找光</title>
    <url>/2023/10/21/%E5%9C%A8%E5%B4%A9%E5%9D%8F%E7%9A%84%E4%B8%96%E7%95%8C%E9%87%8C%E5%AF%BB%E6%89%BE%E5%85%89/</url>
    <content><![CDATA[<p>在崩坏的世界里寻找光</p>
<p>奇幻剧是我们生活中到达不了的远方，是映照黑暗世界的亘古亮星。</p>
<span id="more"></span>
<p>这是美剧史上最昂贵的一场鏖战—4.56亿美元对决2亿美元。激战双方是如今奇幻圈的顶流IP：“指环王”与“权力的游戏”。<br>
尽管战火仍在继续，但从口碑和热度来看，这一次“维斯特洛”恐将笑到最后。尽管《龙之家族》与《指环王：力量之戒》前期都面临着相似的选角质疑，但播出后“真香”的前者让后者俨然沦为“史上最昂贵的笑话”。<br>
<img src="%E5%9B%BE%E4%B8%80.png" alt="图一.png"><br>
弱者战胜强者的神话既属于《龙之家族》，亦属于奇幻剧这一年轻的特殊剧种。奇幻概念源于西方文学的“幻想”（Fantasy）。兹维坦·托罗多夫（Zwitan Torodov）曾在《奇幻文学 导论》中指出：“幻想是一个人在面对明显的超自然事件时，只知道自然法则的普通人所经历的一种犹豫。”<br>
<img src="%E5%9B%BE%E4%BA%8C.png" alt="图二.png"><br>
于是，在对“超自然事件”充满蒙昧色彩的上古时代，童话、神话与古代传说成为奇幻的最初载体。后来，它的边界又慢慢与恐怖、科幻等次类型重叠，不断发展、壮大。</p>
<p>如今提起边界流动的奇幻剧，业界的普遍定义是，奇幻剧通常以虚构的时空为故事世界，“以幻想世界中的种种事件为故事主线，以英雄或特定群体为叙事对象，剧中人物以神话或超自然力量划分能力等级，其行为评价体系和价值认知系统往往区别于真实世界。”<br>
令无法触碰的幻想世界落地生根，是奇幻剧汩汩不绝的生命源泉。<br>
《冰与火之歌》系列译者、史诗图书创始人之一赵琳谈及对奇幻剧的喜欢，一言以蔽之：“它是我们生活中到达不了的远方。”对“远方”的浪漫书写，是奇幻剧的动人底色，其间古老而又真实的力量，直击我们的心灵深处，久久震荡。<br>
旷野里的永恒冒险 上世纪30年代，在牛津大学附近一家名为“老鹰和小孩”的酒吧里，“迹象文学社”的两位教授常聚在一起聊天。酒精让两人种种稀奇古怪的念头由空谈化成了约定：不如，我们各自来写一部有关穿越的文学作品吧？<br>
多年后，这家小酒馆成为无数奇幻迷心中的圣地，因为那里孕育了两部伟大的作品：《魔戒》和《纳尼亚传奇》。托尔金和刘易斯正是在此大声读出他们的文字，周遭畅饮的酒徒就是他们的第一批“读者”。<br>
<img src="%E5%9B%BE%E4%B8%89.png" alt="图三.png"></p>
<p>从托尔金的《魔戒》起，西方奇幻文学打破了“成人读物”和“儿童读物”的界限，旧貌换新颜。而亦是从电影《指环王》开始，大批中国奇幻迷们开始被奇幻影视剧里搭建出的恢弘世界与微妙细节征服。</p>
<p>屈畅（《冰与火之歌》系列译者、史诗图书创始人）进一步指出，中国和西方奇幻最大的区别，在于两个文明的核心不一样。<br>
“所谓的西方奇幻主要发源于盎格鲁—撒克逊民族，是从野蛮人或者是游牧民族里产生的，国<br>
家与国家之间存在着无数的空旷荒野，所以主角都是冒险者，往往习惯呈现无拘无束的冒险。而且它经历了一个不断向上的、悲剧性的发展过程，所以有一个很统一的体系，形成了共同的审美。”<br>
屈畅所谓的“悲剧性”，从托尔金那里亦能找到答案。<br>
尽管托尔金否认他的作品与二战存在对应关系，但曾亲历过两次世界大战的他，强调“一个真正亲身处于过战争阴影下的人才能完全体会到它的压迫”。<br>
他眼见每分钟都有将士横死沙场，遭遇过几乎所有挚友的死亡，认为“这是一个不但丧失了众神，而且丧失了灵魂的世界”，才希望通过“架空世界”重构神话体系，寻找失落的人文传统。<br>
就像他对童话和神话的热爱。<br>
在《论童话故事》一文中，托尔金说，童话故事不是对现实世界中美丽与恐怖的简单复制、再现或者象征性的解读，而是利用其中的元素进行再创造。童话奇境是人类创造的“第二世界”，用来复原“堕落的”人类已然丧尽的天良。<br>
因此，托尔金创造的中土大地，哪怕深陷最黑暗的世界，爱与勇气仍是照亮弱者前行的亘古亮星。因此，这片已失落的中土世界打动和影响了无数后来人。<br>
J．K．罗琳坦言自己在14岁时便被《魔戒》的故事深深吸引，哪怕在《哈利·波特》风靡全球后，她仍坚持认为《魔戒》是不可超越的。</p>
<p>著名《魔戒》粉头乔治·马丁（《权游》系列原著作者）十分欣赏托尔金的勇气。当年托尔金的童书《霍比特人》广受欢迎，他明明可以按照类似的风格继续写作，用源源不绝的版权费来度过战时的艰难岁月，但他却“走了一条人迹罕至的路，一条未曾有人涉足的路，给世界增添了无限丰富的东西”。<br>
马丁认为托尔金之前的奇幻都是童话式的，是托尔金让奇幻变得直白和现实。<br>
波洛米尔是马丁最爱的《魔戒》角色。<br>
他是被万众期待的刚铎宰相之子，也是“护戒远征队”中极为英勇坚毅的一员，可对国家和人民命运的担忧成为他心底最难以卸下的重石，鞭策他前行却也压垮了他—他一度没能抵御住魔戒的诱惑，想要抢夺至尊戒。他临死前奋战不支倒地，哭泣着寻求原谅，在战友们的哀悼中永远地合上了双眼。</p>
<p>小时候看《魔戒》，很多人都视波洛米尔为贪婪的反派。长大后重刷电影，大家才开始看懂这个英雄的悲剧宿命。《魔戒》死忠骨灰粉“萧君”感叹：“以前看魔戒，看战争，看感觉，看震撼。现在看魔戒，看精神，看内核，看悲剧。现在我觉得波洛米尔没有高贵的血脉，没有精灵的祝福，在压力巨大崩溃的边缘，无法抵抗魔戒的诱惑，太正常不过。”<br>
他叹道：波洛米尔就是我们人类自己。<br>
<img src="%E5%9B%BE%E5%9B%9B.png" alt="图四.png"><br>
凛冬将至，环火而聚 托尔金书写《魔戒》用了整整十年。他落笔的1948年亦是二战结束第三年，小男孩乔治·马丁在美国新泽西州呱呱落地，后来他说了一句著名的话：“他们尽可以留着他们的天堂，但我死后，愿能魂归中土。”<br>
马丁曾坦言《冰与火之歌》开篇几大家族各奔殊途的情节走向，就是启发自《魔戒》首部曲末尾处，护戒小队四分五裂的剧情。而根据《冰火》改编的美剧《权游》影响之巨，甚至令德国齐柏林大学文化理论教授泽弗纳（JanSöffner）认为，它伟大到可能在百年后仍为人所知。</p>
<p>马丁的父亲是二战老兵，把退役后的一大笔钱都挥霍在了女人、啤酒、夜总会和赛马场上。所以马丁从小住廉租房，在西北大学的第一年才头一次坐飞机。<br>
他读书的岁月史称动荡的六十年代。有舞蹈和派对，但更多是抗议活动：游行、示威、罢工、集会、静坐······他回忆称他那届的学生在离开校园时，仍“被越南的幽灵笼罩”。<br>
和托尔金一样，马丁从真实的死亡与毁灭里找到了灵魂深处的震撼。他说13岁时他看到《魔戒》里甘道夫死亡，受到极大的打击，同时受益匪浅。“一旦杀死甘道夫，紧接着所有悬疑都成千倍增加，因为任何人都会死······当然了，这对我创作时动不动就写死角色有着巨大的影响。”</p>
<p>“任何人都会死”后来凝结为《权游》里的名言：“凡人终有一死。”《权游》系列编剧戴维·贝尼奥夫曾开玩笑称“中土大陆的人在江湖”是《权游》的歇后语，说“乔治把残酷的现实主义带进了高度幻想”。其中最残酷的，无疑是死神毫不手软的人头收割。<br>
·《权力的游戏》剧照，“国王之手”艾德·史塔克被斩首<br>
所有看过《权游》的人，都会为第一季“国王之手”艾德·史塔克被斩首而震撼，第三季的“血色婚礼”更是触目惊心。2018年，有澳洲科学家进行了一项生存分析，研究了《权游》前七季中330个重要角色的死亡率。维也纳大学则以媒体社会学的角度研究《权游》深受观众喜爱的原因，访问了817名德语受访者后，得出的结论是：除了作为娱乐消遣外，人物间的阴谋诡计以及无法预测的剧情发展是它最引人入胜之处。<br>
这就像对海明威《永别了武器》的完美呼应—“世界对打垮不了的人就加以杀害。世界杀害最善良的人，最温和的人，最勇敢的人，不偏不倚，一律看待。倘若你不是这三类人，你迟早当然也得一死，不过世界并不特别着急要你的命。”<br>
当死亡总是猝不及防地降临到你最爱的某个角色身上，那些常与之相伴的杀戮、鲜血、暴力、性乃至乱伦都会变得没那么可怕。而当你接受并适应了这些大尺度，也就会顺理成章迷上剧中那些灰色人物。<br>
威廉·福克纳的诺贝尔获奖感言是马丁创作的参照和规范：“只有人的内心冲突这个主题才能<br>
写出好作品，因为只有它才值得写，值得付出痛苦和汗水。”所以他乐于塑造纷繁复杂又是<br>
非难辨的角色，他说他一直倾心于“局外人”，关注残废、私生子和受伤的心灵，剧集里亦然。<br>
机核电台“银屏系漫游指南”的主理人“开开”将《权游》前四季的角色台词打进Word里，通过词频统计器分析角色的高频词。她惊讶地发现，史塔克家族看似充满爱，但他们说得最多的词是权力。<br>
有债必还的兰尼斯特家族看似冷酷、阴郁又狡黠，反而“爱”成为其家族最高频的词。“细想这事儿会觉得很有意思，确实会发现兰尼斯特家族所有的冲动和阴谋都是因爱而起。”<br>
开开认为这种反差构成了《权游》戏剧的张力所在。<br>
她分析说，乔治·马丁几乎为每个人物都安排了一个心结，“在“看似无关紧要”的场景中强调这一点，并在观众心中播撒下冲突的种子”。比如“美人”布蕾妮想要骑士荣耀，二丫希望报杀父之仇，席恩则心心念念于身份归属问题。<br>
·《《权力的游戏》剧照，二丫<br>
她还录制过一个视频《为了搞明白＜权游＞到底<br>
为何烂尾，我们分析了剧中七万字台词》。视<br>
频着重分析了“小恶魔”提利昂一角，发现他的三个高频词是：侏儒、父亲和妓女，这也是他一生中最过不去的三件事儿。<br>
提利昂是马丁最喜欢的角色。他是泰温公爵最小的孩子，容貌丑陋，从小就遭受父亲和姐姐瑟曦的伤害。<br>
被视为家族之耻的他，惯用自嘲或他嘲的尖酸言辞来保护自己。<br>
剧中他第二次出场时，这么建议“私生子小弟”雪诺：“永远不要忘记自己的身份，因为这个世界不会忘记。<br>
用它来武装自己，那样就没人可以用它来伤害你了。”<br>
马丁承认他创造这一角色时参考了莎士比亚戏剧《理查三世》，乃至《冰火》有一幕是“真正的莎士比亚时刻”：“他们在布拉佛斯演了一出戏，叫做《血手》，内容一半是提利昂实际做的事，而另一半则是莎士比亚的理查三世偷偷跑进来了。”<br>
提利昂和理查三世一样“天生一副畸形陋相”，同样会“以歹徒自许”。不同的是，理查三世是真正毒辣又狡猾的反派；被世界视为怪物的提利昂虽愤世嫉俗，却对饱受蹂躏的苍生怀有炽烈的悲悯之心。</p>
<p><img src="%E5%9B%BE%E4%BA%94.png" alt="图五.png"><br>
如凯瑟琳陆续失去了家人，詹姆失去了右手，提利昂被以最粗暴的方式剥夺了挚爱，可他能屡次从被摧毁的生活中重新站立起来，做出迥异于理查三世的选择。<br>
他和理查三世都在众人面前发表过长篇演说。<br>
虽然演讲都为两人带来了死亡（提利昂被判死刑，后被哥哥詹姆搭救），但提利昂的慷慨陈词构成他最高光的时刻之一。他痛斥不公的命运、虚伪的家人、冷血的亲缘与自私的愚民，吼出“我的人生就是一场对侏儒的审判”。<br>
《权游》前几季以提利昂为代表，象征了马丁所要表达的永恒主题：人生有涯，凛冬将至，对所有人都一样。它是我们逃不过的阴影，但并不能就此认为这是个悲观的世界，或者说它比我们的世界更悲观。<br>
“依然可以有爱，有同情，有欢笑，甚至欢笑着直面死亡，竭力创造更美好的世界。世上依旧有战争、谋杀、强奸，种种可怕的事，但我们不必接受。我们能为消除它们而战。世上有黑暗，但不必为此绝望。”<br>
曾经，《魔戒》说绝望是终极的罪行，刚铎宰相的绝望宣告了他的失败。如今，马丁号召诸位：“凛冬将至，让我们高举火把，痛饮甘醇，环火而聚—我们能反抗它。”<br>
因斯布鲁克大学心理学学者波舍施尼克（Gerald Poscheschnik）在《权力的游戏–电 视剧作为社会无意识幻想的表达》一文中指出，电视剧中可能隐藏着社会政治幻想。<br>
剧中三个大陆以及在此上演的剧情线，在无意识中其实代表着今日的社会：充满冲突，不安全感提升而且分歧日盛。“不过剧中也反映出了希望—出现美好转折、解决冲突以及扭转危局的希望。在恐惧与危机中总是不断出现希望，让人们远离悲痛并予以慰藉—这也是一种自我欺骗的形式，类似心理学中的自我防卫机制。”<br>
伟大的故事从来不会完结《冰与火之歌》尚未书写的最后一卷原名为《奔狼的年代》，后改为《春晓的梦想》。只要有梦想，人类希望的种子终究会穿破寒冬，在春晓里萌发新芽。<br>
“新九州”创办人之一“万户”谈及对奇幻剧的喜爱时称：“奇幻剧能在一个你完全不会有<br>
机会遇到的架空世界里，植入现实逻辑和人类发展几千年来的宏大命题。它可以是批判现实主义的，可以是唯美浪漫的，还可以是黑暗世界观的，有充分的自由空间来衍生故事。”<br>
“指环王”与“权游”系列能从诸多奇幻剧中脱颖而出，成为佼佼者，正是由于其在冷硬现实与宏大幻想之间的内在张力。<br>
剧集是所处时代的产物，哪怕看来最天马行空的奇幻剧也不能免俗。比如好莱坞近年来愈演愈烈的平权运动（通常指重视少数族裔及女性的力量），便席卷到了奇幻领域。<br>
前后脚开播厮杀的“权游”和“指环王”衍生剧，因选用黑人或外貌不符合主流审美的少数族裔演员做主角，自选角起就卷入“政治过于正确”的争议。<br>
《力量之戒》主创坚称托尔金创造了一个多元化定义的世界。“有色人种也属于中土世界，他们也将会留存在此。”《龙之家族》主创也认为马丁创造了一个多元化的世界，为此编剧莱恩·康道尔要为其打造多元化的演员阵容，并且不能是海盗、奴隶和雇佣兵等高度奇幻中常见的角色。</p>
<p>稍早一些的《睡魔》（改编自尼尔·盖曼的DC漫画系列），除黑人演员外，还出现了大量LGBT群体。豆瓣首页里吵得最火热的评论，是“这个剧让我一度产生了同性恋群体才是多数群体的错觉”与“推动剧情的角色是直是弯是黑是白有多少区别呢”之争。<br>
对此，万户认为影视剧“政治正确”有必要性，可以给予所谓的少数族裔演员更多的发挥<br>
空间。“从大的文化方面来说，黑人和亚裔在欧美属于弱势群体，以前很难看到欧美市场讲弱势人群的故事，商业上就没有立项的可能性，导致他们在成熟的影视制作里曝光很有限。”<br>
比一味强调肤色或性别更重要的是，它是迎合或象征，还是通过符合世界观的方式来呈现。</p>
<p><img src="%E5%9B%BE%E5%85%AD.png" alt="图六.png"><br>
《权游》第八季收到差评以后，HBO内部意识到他们应该多听听马丁的意见，接受马丁钦定《冰火》粉丝莱恩·康道尔担任《龙之家族》编剧。康道尔希望剧集引入多元化后，与马丁交流，马丁提到他很早就想把瓦雷利亚人描述成黑人征服者，于是才选择了让史蒂夫·图森特来饰演海蛇，同时增强了故事中私生子争议的元素。<br>
比起《力量之戒》因“审美降级”被骂上热搜榜首，作为托尔金的死忠粉，更让思敏意难平的，是《力量之戒》主创在前期采访里说的一句话：“如果没有霍比特人，那么中土世界还算是中土世界吗？”<br>
她语带不甘地给我进行“科普”：“托尔金非常尊重每一个种族，认为每一个种族都有伟大之处，都有可以挖掘的深度。但《力量之戒》的故事年代里还没出现霍比特人，主创怎么能说霍比特人出现之前的中土世界没有价值呢？”</p>
<p>看了几集剧后，她说自己心如死灰。“精灵是要必然消失的，所以中土世界中精灵的美貌是为了带给人悲剧感，这是其魅力所在。如果精灵在视觉化的呈现中不美了，那就会大大降低沉浸感，让观众难以投入。”<br>
说到底，这些奇幻迷们更在乎和喜爱的，是剧集能正确传达出原著理念，是故事与人物的合理性，是节奏与视觉设计突出，是要有历史的厚重感······“政治正确”对他们而言或许只是锦上添花的花，而非买椟还珠的盒子。<br>
万户总结说：“不是“政治正确”让剧变得难看了，而是本身没有拍出好看的剧。”<br>
《魔戒》原著里，山姆和弗罗多有段关于“故事”的经典对话。<br>
“那是个很长的故事，中间经历了快乐，然后进入了悲伤，又超越了悲伤······这么一想，我们仍然在同一个故事里啊！故事还在继续。伟大的故事难道从来不会完结吗？”山姆问。<br>
弗罗多答：“不，那些故事从来不会完结。”</p>
<p>——摘自三联生活周刊</p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
  </entry>
  <entry>
    <title>基于hexo部署github的个人网站</title>
    <url>/2023/10/09/%E5%9F%BA%E4%BA%8Ehexo%E9%83%A8%E7%BD%B2github%E7%9A%84%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/</url>
    <content><![CDATA[<p>前言：<br>
GithubPages提供了免费的网页部署功能，一旦发布了网站，无论何时何地都可以在互联网上<br>
查看。同时网站稳定，即使网站长年未更新，依旧仍然可以在互联网上查看。hexo是一个能够<br>
快速通过GithubPages构建一个个人博客的框架，hexo生成出的网页，具有个人博客的基本<br>
结构和组件，sidebar，menu，localsearch等，你只需要修改一些设置就能够建立出一个简<br>
洁干净的个人博客的网站。同时hexo存在大量的第三方组件的支持，通过设置可以快捷调用出<br>
想要的功能，如字数统计，置顶设置等操作。</p>
<span id="more"></span>
<p>正文：<br>
以下是基于Github用hexo部署一个网站的步骤，最终会发布一个<br>
hexo默认的网页，也就是landscape的主题，hexo还存在其他很多的第三方集成的主题<br>
本文不包括网页设计部分和流程</p>
<p>1.首先是搭建环境<br>
(1)<br>
<a href="https://nodejs.org/en">Nodejs下载</a><br>
Nodejs安装后会携带npm，通过npm可以快速安装<br>
一些第三方插件<br>
(2)<br>
<a href="https://git-scm.com/download/win">Git下载</a><br>
git安装可以打开git窗口，git可以在终端push到Github<br>
hexo也主要通过git进行网页部署</p>
<p>2.Github基础配置<br>
(1)注册登录<br>
<a href="https://github.com/">Github</a><br>
(登不上请科学上网)</p>
<p>(2)创建新的仓库(repository)<br>
<img src="4.png" alt="1"><br>
登录后创建一个新的repository，命名尽量按<br>
用户名/用户名.github.io，其他没要求，仓库设置为public</p>
<p>(3)SSH创建<br>
SSH公钥是Github识别终端的其中一种方式，<br>
在Github个人中心的右侧栏Setting点击后<br>
在左侧栏进入带有的SSH字眼<br>
创建一个新的SSH,名称随意,其中内容后续有用</p>
<p>3.Hexo<br>
<a href="https://hexo.io/zh-cn/index.html">Hexo官网</a><br>
<img src="1.png" alt="1"><br>
(1)创建一个空的文件夹（可自己命名）<br>
随意在任意磁盘的路径，创建一个空的文件夹<br>
在文件夹里，右键点进Git Bash里<br>
并在黑色命令框里依次输入<br>
记住在命令框粘贴不是Ctrl+V,尽量用鼠标右键<br>
<img src="2.png" alt="1"></p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-cli <span class="comment">#安装hexo</span></span><br><span class="line">hexo init <span class="comment">#hexo初始化</span></span><br><span class="line">npm <span class="keyword">install</span> <span class="comment">#npm安装</span></span><br></pre></td></tr></table></figure>
<p>(2)成功后,尝试输入</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">hexo <span class="keyword">generate</span> #hexo解析md等文件，生成文件结构</span><br><span class="line">hexo server #hexo本地服务器查看</span><br></pre></td></tr></table></figure>
<p>可简写为</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute">hexo s</span></span><br></pre></td></tr></table></figure>
<p>如下图左边这样的界面（这是官网给的图片）<br>
<img src="3.png" alt="1"><br>
(3)上述代码成功<br>
按住Ctrl就可以打开本地链接<br>
测试成功后用键盘输入</p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">Ctrl</span><span class="operator">+</span><span class="built_in">C</span></span><br></pre></td></tr></table></figure>
<p>可以关闭本地服务器，Ctrl+C的操作可以停止任意命令操作</p>
<p>4.SSH公钥创建<br>
(1)用cd命令进入SSH根目录<br>
window打开命令框,win10可以快捷键win+r输入cmd<br>
进行命令框，输入用cd命令进入SSH根目录</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">cd ~<span class="regexp">/.ssh/</span></span><br></pre></td></tr></table></figure>
<p>(2)在公钥中添加github信息</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -f  ~<span class="regexp">/.ssh/</span>密钥名称 -C <span class="string">&quot;邮箱&quot;</span></span><br></pre></td></tr></table></figure>
<p>(3)在SSH根目录找到config文件并更改</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">Host xxxxxx.github.com</span><br><span class="line">    HostName ssh/github.com</span><br><span class="line">    <span class="keyword">User</span> <span class="title">git</span></span><br><span class="line">    IdentityFile ~/.ssh/密钥名称</span><br></pre></td></tr></table></figure>
<p>(4)创建公钥</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="built_in">clip</span> &lt; ~<span class="regexp">/.ssh/</span>密钥的名称.pub</span><br></pre></td></tr></table></figure>
<p>在目录下找到密钥名称的pub文件,打开复制里面内容,<br>
粘贴到Github的SSH的内容里</p>
<p>(5)添加SSH</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">ssh-<span class="keyword">add</span> xxxxxx <span class="meta">#密钥名称</span></span><br></pre></td></tr></table></figure>
<p>如果执行以上命令出现错误：Could not open a<br>
connection to your authentication agent.，<br>
那么就需要先执行ssh-agent bash，再执行以上命令</p>
<p>(6)检验是否成功<br>
xxxxxx”ssh目录下config文件中的命名</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">ssh</span> -T git<span class="variable">@xxxxxxx</span>.github.com</span><br></pre></td></tr></table></figure>
<p>出现</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">You<span class="symbol">&#x27;ve</span> successfully authenticated, </span><br><span class="line">but GitHub does <span class="keyword">not</span> provide shell <span class="keyword">access</span>.</span><br></pre></td></tr></table></figure>
<p>则代表成功</p>
<p>5.配置github<br>
(1)点进博客文件夹中的.deploy_git/.git中<br>
进入Git Bash里<br>
.deploy_git需要打开查看隐藏文件的功能才能够找到，<br>
详情自己百度查看，.deploy_git没有就hexo部署一次<br>
就会出来了，会报错tell me who are you</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">git config <span class="keyword">user</span>.name &quot;用户名&quot;</span><br><span class="line">git config <span class="keyword">user</span>.email &quot;邮箱&quot;</span><br></pre></td></tr></table></figure>
<p>(2)在博客文件夹中的_config.yml文件<br>
打开在末尾更改下列代码</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@xxxxxx<span class="selector-class">.github</span><span class="selector-class">.com</span>:用户名/用户名<span class="selector-class">.github</span><span class="selector-class">.io</span><span class="selector-class">.git</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>如果在github输入的不是上述这个格式，可能会打不开网页</p>
<p>(3)服务器部署<br>
在博客文件夹的目录下进入Git Bash<br>
依次输入</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hexo clean</span></span><br><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure>
<p>部署成功后，服务器会有延迟，大概过一两分钟会更新页面<br>
可以在github上看部署是否成功，如果失败github会发邮件的</p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>介绍</tag>
      </tags>
  </entry>
  <entry>
    <title>【Python】（自用）梳理一下基本爬图思路</title>
    <url>/2023/10/01/%E6%A2%B3%E7%90%86%E4%B8%80%E4%B8%8B%E5%9F%BA%E6%9C%AC%E7%88%AC%E5%9B%BE%E6%80%9D%E8%B7%AF/</url>
    <content><![CDATA[<p><a href="/2023/09/28/%E7%94%A8selenum%E5%88%B6%E4%BD%9C%E5%89%8D%E7%AB%AF%E5%BC%8F%E7%88%AC%E8%99%AB/">前文:用Selenium制作前端式爬虫</a><br>
<s><em>其实也不能叫梳理了，依旧还是很乱，将就写吧</em></s><br>
说到爬虫肯定少不了爬图<br>
<s><em>为什么说是自用，因为我回看我以前写的是根本看不懂啊</em></s><br>
本来写的就很乱很乱，函数套用太多了<br>
本文主要不写全部代码了，就写主要的函数的结构，以防以后维护出问题</p>
<span id="more"></span>
<p><img src="/image/930D_27_1.jpg" alt="1"></p>
<p>1.服务器访问模块<br>
这里使用的是selenium所以相应有浏览器调用模块<br>
driverbrowser() #浏览器调用 嵌套→browser_set() #浏览器设置<br>
函数相应代码在前文有介绍</p>
<p>2.访问抓取模块<br>
这几个基本都是一堆嵌套try，因为要防止服务器连接出错</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">res</span><span class="params">(url)</span></span>:</span><br><span class="line">    #防访问超时报错</span><br><span class="line">    driver=<span class="built_in">driverbrowser</span>()</span><br><span class="line">    <span class="keyword">if</span> driver!=<span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;测试&quot;</span>)</span><br><span class="line">        try:</span><br><span class="line">            url_get=<span class="built_in">browserget</span>(driver,url)</span><br><span class="line">            return url_get</span><br><span class="line">        except :</span><br><span class="line">            driver<span class="selector-class">.close</span>()</span><br><span class="line">            driver<span class="selector-class">.quit</span>()</span><br><span class="line">            secends = random<span class="selector-class">.randint</span>(<span class="number">120</span>, <span class="number">150</span>)</span><br><span class="line">            <span class="built_in">printpause</span>(secends)</span><br><span class="line">            try:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;***重试请求***&#x27;</span>)</span><br><span class="line">                driver = <span class="built_in">driverbrowser</span>()</span><br><span class="line">                url_get = <span class="built_in">browserget</span>(driver, url)</span><br><span class="line">                return url_get</span><br><span class="line">            except :</span><br><span class="line">                driver<span class="selector-class">.close</span>()</span><br><span class="line">                driver<span class="selector-class">.quit</span>()</span><br><span class="line">                <span class="built_in">printpause</span>(<span class="number">150</span>)</span><br><span class="line">                try:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;***重试请求***&#x27;</span>)</span><br><span class="line">                    driver = <span class="built_in">driverbrowser</span>()</span><br><span class="line">                    url_get = <span class="built_in">browserget</span>(driver, url)</span><br><span class="line">                    return url_get</span><br><span class="line">                except:</span><br><span class="line">                    driver<span class="selector-class">.close</span>()</span><br><span class="line">                    driver<span class="selector-class">.quit</span>()</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;***访问失败，程序继续***&#x27;</span>)</span><br><span class="line">                return <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>3.页面处理模块<br>
这个地方利用伪css选择器的pyquery库实现处理的<br>
写的很乱，姑且看看</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pageget</span>(<span class="params">url,p_name=<span class="literal">None</span>,n_name=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="comment">#获取页面的信息(页数)，返回抓取主要部分</span></span><br><span class="line">    <span class="comment">#p_name 抓取最终页数</span></span><br><span class="line">    <span class="comment">#n_name 抓取下一页链接</span></span><br><span class="line">    <span class="comment">#pagenum 页数</span></span><br><span class="line">    <span class="comment">#pa_next 当前页面</span></span><br><span class="line">    <span class="comment">#nextpage 下一页链接</span></span><br><span class="line">	//略</span><br><span class="line">	<span class="keyword">return</span> pagenum,pa_next,nextpage</span><br></pre></td></tr></table></figure>
<p>此函数就是获取页面页的主要信息,页数，下一页链接，当前页资源等</p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#p_name 抓取最终页数</span></span><br><span class="line"><span class="meta">#n_name 抓取下一页链接</span></span><br></pre></td></tr></table></figure>
<p>p_name,n_name是css选择器的定位方式<br>
下一页链接有些时候不容易爬取，可以选用链接的方式如类似&quot;/page/1&quot;,据情况而定</p>
<p>4.主模块<br>
爬图通常都要分主要页（也就是页面页），详细页。<br>
主要页显示的图片都是压缩后的略图，毕竟是缩略图，<br>
爬下来的质量堪忧，所以要进一步<br>
的爬到详细页<br>
大致如下<br>
页面页模块</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">def pageweb(url,</span><br><span class="line">            p_name,n_name,</span><br><span class="line">            d_p_name,d_n_name,</span><br><span class="line">            <span class="attribute">fpn</span>=None):</span><br><span class="line">    # pagenum 页数</span><br><span class="line">    # pa_next 当前页面</span><br><span class="line">    # nextpage 下一页链接</span><br><span class="line">	#fpn 自定义页数</span><br><span class="line">    pagenum,pa_next,<span class="attribute">nextpage</span>=pageget(url=url,</span><br><span class="line">                                    <span class="attribute">p_name</span>=p_name,</span><br><span class="line">                                    <span class="attribute">n_name</span>=n_name)</span><br><span class="line">	</span><br><span class="line">	#略</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(int(pagenum)):</span><br><span class="line">		<span class="keyword">for</span> el0 <span class="keyword">in</span> pa0:</span><br><span class="line">			descriweb(ur,descriname,d_p_name,d_n_name)</span><br><span class="line">		pagenum, pa_next, nextpage = pageget(<span class="attribute">url</span>=nextpage,</span><br><span class="line"></span><br><span class="line">                                                 <span class="attribute">p_name</span>=p_name,</span><br><span class="line">                                                 <span class="attribute">n_name</span>=n_name)</span><br><span class="line">		</span><br></pre></td></tr></table></figure>
<p>详细页模块</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">def descriweb(ur,d_p_name,d_n_name):</span><br><span class="line">    #详细页</span><br><span class="line">    pagenum1, dl, nextpage1 = pageget(<span class="attribute">url</span>=ur,</span><br><span class="line">      </span><br><span class="line">                                      <span class="attribute">p_name</span>=d_p_name,</span><br><span class="line">                                      <span class="attribute">n_name</span>=d_n_name</span><br><span class="line">                                     )</span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span> range(int(pagenum1)):</span><br><span class="line">			pagenum1, dl, nextpage1 = pageget(<span class="attribute">url</span>=nextpage1,</span><br><span class="line">      </span><br><span class="line">                                              <span class="attribute">p_name</span>=d_p_name,</span><br><span class="line">                                              <span class="attribute">n_name</span>=d_n_name</span><br><span class="line">                                              )</span><br><span class="line">			</span><br></pre></td></tr></table></figure>
<p>p_name,n_name 前一个是详细页链接定位，后一个是下一页定位<br>
d_p_name,d_n_name，前一个是图片定位，后一个是下一页定位<br>
（有些网站详细页也会有副页，所以要再嵌套一次，我写的虽然没有但备了一个）</p>
<p>5.数据存放模块<br>
这里用的是pandas的dataframe用于存放图片链接<br>
然后再输出excel</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">def saveexcel(df,path,sheet):</span><br><span class="line">    #保存数据</span><br><span class="line">    <span class="keyword">with</span> pd.<span class="constructor">ExcelWriter(<span class="params">path</span>, <span class="params">engine</span>=&#x27;<span class="params">openpyxl</span>&#x27;,<span class="params">mode</span>=&#x27;<span class="params">a</span>&#x27;)</span> <span class="keyword">as</span> writer:</span><br><span class="line">        df.<span class="keyword">to</span><span class="constructor">_excel(<span class="params">writer</span>, <span class="params">sheet_name</span>=<span class="params">sheet</span>, <span class="params">index</span>=True)</span></span><br></pre></td></tr></table></figure>
<p>6.下载图片模块<br>
经历了一堆各种各样的操作之后，终于可以愉快的下图了<br>
这模块是最简单的部分了，常规的pandas数据处理的部分<br>
这一部分我是分开两个py文件写了，就可以先爬再下<br>
由于图片下载部分不用担心反爬机制了，可以用requests库了<br>
但是有时候用requests下载会卡着不动，所以还是try一下</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">def resg(url):</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    try:</span><br><span class="line">        return requests.<span class="built_in">get</span>(url,<span class="attribute">headers</span>=headers,timeout=30)</span><br><span class="line">    except:</span><br><span class="line">        secends = random.randint(60, 180)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;访问超时，程序暂停......&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(str(secends) + <span class="string">&#x27;秒后继续&#x27;</span>)</span><br><span class="line">        time.sleep(secends)  # 暂停1~3分钟，然后再尝试一次</span><br><span class="line">        try:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;重试请求......&#x27;</span>)</span><br><span class="line">            return requests.<span class="built_in">get</span>(url,<span class="attribute">headers</span>=headers,timeout=30)</span><br><span class="line">        except:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;访问超时，程序暂停......&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;3分钟后继续&#x27;</span>)</span><br><span class="line">            time.sleep(180)  # 暂停3分钟</span><br><span class="line">            return <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attribute">start</span>=time.perf_counter()</span><br><span class="line"><span class="attribute">df</span>=pd.read_excel(io=&#x27;./picurl5.xlsx&#x27;,</span><br><span class="line">                 <span class="attribute">sheet_name</span>=<span class="string">&quot;图集&quot;</span>)</span><br><span class="line">df.drop(df.index[0])</span><br><span class="line"><span class="attribute">filename</span>=<span class="string">&quot;1001d&quot;</span> #文件名</span><br><span class="line">os.mkdir(filename)</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> range(len(df.index)-1):</span><br><span class="line">    <span class="attribute">df1</span>=df.iloc[n+1,:]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(df.columns) - 1):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;执行第&#123;&#125;类第&#123;&#125;项目中.....&#x27;</span>.format(n + 1, i + 1))</span><br><span class="line">        pic1 = df1.iloc[i + 1]</span><br><span class="line">        <span class="keyword">if</span> pd.isna(pic1) != <span class="literal">True</span> <span class="keyword">and</span> pic1 != <span class="string">&#x27;empty&#x27;</span>:</span><br><span class="line">            r = resg(pic1)</span><br><span class="line">            <span class="keyword">if</span> r !=<span class="string">&#x27;&#x27;</span>:</span><br><span class="line">                with open(filename+<span class="string">&quot;/&quot;</span> +filename+ <span class="string">&#x27;_&#x27;</span> +str(n + 1) + <span class="string">&#x27;_&#x27;</span> + str(i + 1) + <span class="string">&quot;.jpg&quot;</span>, <span class="attribute">mode</span>=<span class="string">&quot;wb&quot;</span>) as f:</span><br><span class="line">                    f.write(r.content)</span><br><span class="line">            end = time.perf_counter()</span><br><span class="line">            runTime = end - start</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;运行时间：&#123;:.2f&#125;s&quot;</span>.format(runTime))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;执行成功&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>7.总结<br>
所以总结下来大概就是<br>
简写了</p>
<p>复用的部分：<br>
浏览器调用函数，抓取处理函数，访问函数</p>
<p>主模块<br>
页面处理模块，详细页处理模块 --&gt;调用 复用的部分–&gt;数字抓取 数据存放函数<br>
–&gt;图片下载</p>
<p>需要获取的定位：<br>
必选<br>
页面页的图片框（每一个图片详细页链接/文字描述等），<br>
详细页的图片定位</p>
<p>可选：<br>
末页（页数），下一页链接<br>
如果详细页需要要获取两个<br>
<img src="/image/930D_171_1.jpg" alt="2"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>测试JS玩法</title>
    <url>/2023/09/30/%E6%B5%8B%E8%AF%95JS%E7%8E%A9%E6%B3%95/</url>
    <content><![CDATA[<p>本文主要测试JS的数学计算功能，<br>
以及交互功能，本文主要用了JS的第三方完成交互功能。</p>
<span id="more"></span>
<p><a class="comcu_btn" onclick="test()">乘数计算器</a></p>
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js">
</script>
<script src="//unpkg.com/layui@2.8.17/dist/layui.js"> </script>
<script>
	function isnum(str){
		if (!isNaN(parseFloat(str)) && isFinite(str) ){
			return true}
		else{return false}
	}
	var layer ;
    layui.use('layer', function(){
        layer = layui.layer;
    });
	function test(){
		layer.prompt({
			formType:0,
			title: '乘数计算器',
			id:"layui_text",
		},function(value,index,elem){
				if(value==""){
					alert("请输入");
					return
				}
				var data1=$('.new_input1').val()
				if (data1==""){
					alert("请输入")
					return
				}
				if (isnum(value) && isnum(data1)){
					var mu =value*data1
					alert(mu)
				}
				else{alert("输入不合法")}
				
				layer.close(index)
			})
		
		if ($(".new_input1").length == 0){ 
			$(".layui-layer-content").append("<br/><input type=\"text\" class=\"new_input1\" placeholder=\"输入随机数\"/>")
			$(".layui-layer-btn0").append("&nbsp;&nbsp;")
			}
		$(".layui-layer.layui-layer-page.layui-layer-prompt.layer-anim.layer-anim-00").css({"border":"3px solid",
								"font-weight":"bold",
								"border-radius": "5px",
								"color": "black",
								"padding": "15px",
								"background-color":"white"})

	}
</script>
<p>源代码</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;comcu_btn&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;test()&quot;</span>&gt;</span>乘数计算器<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//unpkg.com/layui@2.8.17/dist/layui.js&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">function</span> <span class="title function_">isnum</span>(<span class="params">str</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">if</span> (!<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(str)) &amp;&amp; <span class="built_in">isFinite</span>(str) )&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="keyword">return</span> <span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">else</span>&#123;<span class="keyword">return</span> <span class="literal">false</span>&#125;</span></span><br><span class="line"><span class="language-javascript">	&#125;</span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">var</span> layer ;</span></span><br><span class="line"><span class="language-javascript">    layui.<span class="title function_">use</span>(<span class="string">&#x27;layer&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        layer = layui.<span class="property">layer</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">		layer.<span class="title function_">prompt</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">formType</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">title</span>: <span class="string">&#x27;乘数计算器&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">id</span>:<span class="string">&quot;layui_text&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">		&#125;,<span class="keyword">function</span>(<span class="params">value,index,elem</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(value==<span class="string">&quot;&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">alert</span>(<span class="string">&quot;请输入&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">var</span> data1=$(<span class="string">&#x27;.new_input1&#x27;</span>).<span class="title function_">val</span>()</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span> (data1==<span class="string">&quot;&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">alert</span>(<span class="string">&quot;请输入&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span> (<span class="title function_">isnum</span>(value) &amp;&amp; <span class="title function_">isnum</span>(data1))&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">var</span> mu =value*data1</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">alert</span>(mu)</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">else</span>&#123;<span class="title function_">alert</span>(<span class="string">&quot;输入不合法&quot;</span>)&#125;</span></span><br><span class="line"><span class="language-javascript">				</span></span><br><span class="line"><span class="language-javascript">				layer.<span class="title function_">close</span>(index)</span></span><br><span class="line"><span class="language-javascript">			&#125;)</span></span><br><span class="line"><span class="language-javascript">		</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">if</span> ($(<span class="string">&quot;.new_input1&quot;</span>).<span class="property">length</span> == <span class="number">0</span>)&#123; </span></span><br><span class="line"><span class="language-javascript">			$(<span class="string">&quot;.layui-layer-content&quot;</span>).<span class="title function_">append</span>(<span class="string">&quot;&lt;br/&gt;&lt;input type=\&quot;text\&quot; class=\&quot;new_input1\&quot; placeholder=\&quot;输入随机数\&quot;/&gt;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">			$(<span class="string">&quot;.layui-layer-btn0&quot;</span>).<span class="title function_">append</span>(<span class="string">&quot;&amp;nbsp;&amp;nbsp;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		$(<span class="string">&quot;.layui-layer.layui-layer-page.layui-layer-prompt.layer-anim.layer-anim-00&quot;</span>).<span class="title function_">css</span>(&#123;<span class="string">&quot;border&quot;</span>:<span class="string">&quot;3px solid&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">								<span class="string">&quot;font-weight&quot;</span>:<span class="string">&quot;bold&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">								<span class="string">&quot;border-radius&quot;</span>: <span class="string">&quot;5px&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">								<span class="string">&quot;color&quot;</span>: <span class="string">&quot;black&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">								<span class="string">&quot;padding&quot;</span>: <span class="string">&quot;15px&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">								<span class="string">&quot;background-color&quot;</span>:<span class="string">&quot;white&quot;</span>&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>前端JS</category>
      </categories>
  </entry>
  <entry>
    <title>用JS（前端）制作的简易爬虫</title>
    <url>/2023/09/27/%E7%94%A8JS%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%88%B6%E4%BD%9C%E7%9A%84%E7%AE%80%E6%98%93%E7%88%AC%E8%99%AB/</url>
    <content><![CDATA[<p>本文主要介绍用油猴（Tampermonkey）实现的前端爬虫<br>
不涉及跨域传输，非常基础的内容<br>
优点很明显，快速（有时按需求可以几分钟写完），针对性，不用担心反爬<br>
缺点，不同排布的网站就会失效，或者网站更新就寄了<br>
核心为CSS选择器<br>
<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors">参考1</a><br>
<a href="https://www.runoob.com/jsref/met-document-queryselector.html">参考2</a></p>
<span id="more"></span>
<p><img src="/image/232_1.jpg" alt="1"><br>
1.定位（CSS选择器）</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">&quot;标签(层级)定位/类定位/ID定位&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>（1）例:标签(层级)定位</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello</span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>Hallo<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>你好<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">&quot;p&quot;</span>).innerText #取出的是Hallo和你好</span><br></pre></td></tr></table></figure>
<p>如果想要只取出Hallo则应写成</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">&quot;div&gt;p&quot;</span>).innerText #取出的是Hallo</span><br></pre></td></tr></table></figure>
<p>（2）例：类定位</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=&quot;<span class="symbol">Hello_div</span>&quot;&gt;<span class="symbol">Hello</span></span><br><span class="line">	&lt;<span class="symbol">p</span>&gt;<span class="symbol">Hallo</span>&lt;/<span class="symbol">p</span>&gt;</span><br><span class="line">&lt;/<span class="symbol">div</span>&gt;</span><br><span class="line">&lt;<span class="symbol">div</span> <span class="symbol">class</span>=&quot;<span class="symbol">nihao_div</span>&quot;&gt;</span><br><span class="line">	&lt;<span class="symbol">p</span>&gt;你好&lt;/<span class="symbol">p</span>&gt;</span><br><span class="line">&lt;/<span class="symbol">div</span>&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">&quot;.Hello_div&quot;</span>).innerText #取出的是Hello和Hallo</span><br><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">&quot;.nihao_div&quot;</span>).innerText #取出的是你好</span><br></pre></td></tr></table></figure>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">注：如果<span class="keyword">class</span>名中存在空格的情况,如<span class="string">&quot;Hello div&quot;</span>,应写成<span class="string">&quot;.Hello.div&quot;</span></span><br></pre></td></tr></table></figure>
<p>Class定位也可以像进行层级，可用于存在多个标签叠放方式的情况<br>
（3）ID定位<br>
ID基本与Class相同<br>
用法为</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">&quot;nihao&quot;</span>&gt;</span><br><span class="line">	&lt;p&gt;你好&lt;/p&gt;</span><br><span class="line">&lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">document.querySelector(<span class="string">&quot;#nihao&quot;</span>).innerText <span class="comment">#取出的是你好</span></span><br></pre></td></tr></table></figure>
<p>2.常用函数<br>
.innerText用于取出文本<br>
.innerHTML可取出这个标签包含的HTML内容<br>
.attributes(“属性名”)<br>
.style(“样式”),具体样式则是.style.backgroundColor()<br>
等，这里就不一一列全了，需要自己可以去查找。</p>
<p>3.处理多个元素<br>
.querySelector()只会取出单一元素，存在多个元素就只取第一个出现的<br>
要取出多个元素需要用.querySelectorAll()，可以用for循环逐一取出<br>
如</p>
<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">var items <span class="operator">=</span> document.querySelectorAll(<span class="string">&quot;p&quot;</span>)<span class="comment">;</span></span><br><span class="line">for (i <span class="operator">=</span> <span class="number">0</span><span class="comment">; i &lt; items.length; i++) &#123;</span></span><br><span class="line">    console.log(items.innerText)<span class="comment">; #逐个输出出p标签的text</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或者用forEach写<br>
forEach方法中的function回调有三个参数：<br>
第一个参数是数组内容，<br>
第二个参数是对应的数组索引，<br>
第三个参数是数组本身</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;p&quot;</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">item，index</span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(index.<span class="property">innerText</span>); #index是索引</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(item.<span class="property">innerText</span>); #item是里面的内容</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//简写</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;p&quot;</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">e</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">innerText</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>4.上述基本介绍了js爬虫实现的方法原理<br>
下面介绍通过油猴实现的浏览器爬虫<br>
新建脚本大致如下<br>
<img src="/image/1_5_1.png" alt="1"><br>
前面部分是脚本声明</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">//</span> @name         New Userscript   <span class="comment">#（脚本名称）</span></span><br><span class="line"><span class="regexp">//</span> @namespace    http:<span class="regexp">//</span>tampermonkey.net/</span><br><span class="line"><span class="regexp">//</span> @version      <span class="number">0.1</span></span><br><span class="line"><span class="regexp">//</span> @description  try to take over the world!   <span class="comment">#（介绍）</span></span><br><span class="line"><span class="regexp">//</span> @author       You  （制作者的名字）</span><br><span class="line"><span class="regexp">//</span> @match        http:<span class="regexp">//</span>*/*   <span class="comment">#（适用的网站）</span></span><br><span class="line"><span class="regexp">//</span> @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==   <span class="comment">#头像</span></span><br><span class="line"><span class="regexp">//</span> @grant        none    <span class="comment">#第三方库调用</span></span><br></pre></td></tr></table></figure>
<p>下面部分是具体代码部分，可以直接删掉</p>
<figure class="highlight scheme"><table><tr><td class="code"><pre><span class="line">(<span class="name">function</span>() &#123;</span><br><span class="line">    <span class="symbol">&#x27;use</span> strict&#x27;<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">    // Your code here...</span><br><span class="line">&#125;)()<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>4.废话不多说下面上一个简单实例<br>
<img src="/image/1_5_2.png" alt="1"><br>
其实像类似这样很陈旧的网站，很难定位，<br>
因为它根本没有ID，甚至连Class都没有<br>
所以想到的是层级定位，写法十分原始<br>
<img src="/image/1_5_3.png" alt="2"><br>
可以发现一部分是为&quot;td&gt;div&gt;a&gt;font&quot;的层级写的<br>
以下代码可以分别取出文本</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelectorAll</span>(<span class="string">&quot;td&gt;div&gt;a&quot;</span>).forEach(el =&gt; &#123;</span><br><span class="line">        <span class="keyword">var</span> Text = el.<span class="built_in">querySelector</span>(<span class="string">&#x27;font&#x27;</span>).innerText</span><br><span class="line">	&#125;)	</span><br></pre></td></tr></table></figure>
<p>数值取出</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">document.querySelectorAll(<span class="string">&quot;td&gt;input&quot;</span>).forEach(<span class="function"><span class="params">el</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="built_in">Text</span> = el.value</span><br><span class="line">        List.<span class="built_in">push</span>(<span class="built_in">Text</span>)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
<p>用一个空Array存储然后输出后<br>
会发现有一部分是没有取出的<br>
因为有另外一部分不是以这个层级排布的<br>
不过介绍了<br>
下面是全代码,比较乱,将就着看</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getTotal</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> List = <span class="keyword">new</span> <span class="built_in">Array</span>() </span><br><span class="line">    <span class="keyword">var</span> List1 = <span class="keyword">new</span> <span class="built_in">Array</span>()</span><br><span class="line">    document.querySelectorAll(<span class="string">&quot;td&gt;div&gt;div&gt;a&gt;font&quot;</span>).forEach(<span class="function"><span class="params">e0</span> =&gt;</span> &#123;</span><br><span class="line">        List1.<span class="built_in">push</span>(e0.innerText)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span></span><br><span class="line">    document.querySelectorAll(<span class="string">&quot;td&gt;a&quot;</span>).forEach(<span class="function"><span class="params">el</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> <span class="built_in">Text</span> = el.querySelector(<span class="string">&#x27;font&#x27;</span>).innerText</span><br><span class="line">        n=n+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">16</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> Text2=List1[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">            List.<span class="built_in">push</span>(Text2)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">19</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> Text3=List1[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            List.<span class="built_in">push</span>(Text3)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Text</span>!=<span class="string">&quot;&quot;</span>||<span class="built_in">Text</span>!=<span class="literal">null</span>||<span class="built_in">Text</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">            List.<span class="built_in">push</span>(<span class="built_in">Text</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">    document.querySelectorAll(<span class="string">&quot;td&gt;div&gt;a&quot;</span>).forEach(<span class="function"><span class="params">el</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="built_in">Text</span> = el.querySelector(<span class="string">&#x27;font&#x27;</span>).innerText</span><br><span class="line">        n=n+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">16</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> Text2=List1[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">            List.<span class="built_in">push</span>(Text2)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">19</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> Text3=List1[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            List.<span class="built_in">push</span>(Text3)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Text</span>!=<span class="string">&quot;&quot;</span>||<span class="built_in">Text</span>!=<span class="literal">null</span>||<span class="built_in">Text</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">            List.<span class="built_in">push</span>(<span class="built_in">Text</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">var</span> num=<span class="number">1</span></span><br><span class="line">    document.querySelectorAll(<span class="string">&quot;td&gt;input&quot;</span>).forEach(<span class="function"><span class="params">el</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="built_in">Text</span> = el.value</span><br><span class="line">        num=num+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> (num==<span class="number">5</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> Select=document.querySelector(<span class="string">&quot;td&gt;select&quot;</span>).size</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (Select==<span class="number">1</span>)&#123;</span><br><span class="line">                Select=<span class="string">&quot;Yes&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                Select=<span class="string">&quot;No&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            List.<span class="built_in">push</span>(Select)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        List.<span class="built_in">push</span>(<span class="built_in">Text</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;Success:&#x27;</span>,List);</span><br><span class="line">&#125;</span><br><span class="line">getTotal()</span><br></pre></td></tr></table></figure>
<p>5.结语<br>
<img src="/image/256_1.jpg" alt="1"><br>
上面举例了一个比较离谱的例子（很好奇做的时候是怎么不弄混的）<br>
其实上现在大部分网站都有类标识，用类定位会更加快速准确</p>
]]></content>
      <categories>
        <category>前端JS</category>
      </categories>
      <tags>
        <tag>介绍</tag>
        <tag>前端爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>用Selenium制作前端式爬虫</title>
    <url>/2023/09/28/%E7%94%A8selenum%E5%88%B6%E4%BD%9C%E5%89%8D%E7%AB%AF%E5%BC%8F%E7%88%AC%E8%99%AB/</url>
    <content><![CDATA[<p>笔者也就小白水平，写selenium也是边学边写的<br>
本文只是介绍抓取部分模块，怎么处理可以看看上文<br>
<a href="https://jkysei.space/2023/09/27/%E7%94%A8JS%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%88%B6%E4%BD%9C%E7%9A%84%E7%AE%80%E6%98%93%E7%88%AC%E8%99%AB/">用JS（前端）制作的简易爬虫</a><br>
python也有类似CSS选择器的第三方库，后续再更新</p>
<span id="more"></span>
<p>1.前言<br>
大部分的网站都有反爬机制<br>
<img src="/image/928D_113_1.jpg" alt="1"></p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">requests.<span class="keyword">get</span>(url,headers,<span class="keyword">timeout</span>)</span><br></pre></td></tr></table></figure>
<p>requests早已经无法爬取网页了，<br>
所以希望用一种能够越过反爬虫的第三方库<br>
selenium是模拟驱动chrome访问网站的方式越过反爬虫<br>
2.Selenium的调用</p>
<p>在Pycharm或pip上安装selenium<br>
随后即可import</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br></pre></td></tr></table></figure>
<p>为了方便修改浏览器设置,引用Options模块</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.<span class="keyword">options</span> <span class="keyword">import</span> <span class="keyword">Options</span></span><br></pre></td></tr></table></figure>
<p>用chrome_options存放options</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">chrome_options</span> = Options()</span><br><span class="line"><span class="attr">chrome_options.page_load_strategy</span> = <span class="string">&#x27;eager&#x27;</span></span><br></pre></td></tr></table></figure>
<p>page_load_strategy是浏览器加载策略，默认是normal，eager则是快速加载<br>
在网页资源加载完成时就会立刻关闭，可以省很多时间。<br>
网上有很多说有更加快速的方法，说实话是噱头，没有实际用处，<br>
照着他的方法，会迅速加载网页然后光速关闭，根本无法正常抓取网页内容<br>
eagle已经是最快的策略，更快可以尝试多线程的爬虫。</p>
<p>如果电脑里安装了多个chrome或者python无法获取你的chrome程序位置，<br>
可以引用service模块</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">from selenium<span class="selector-class">.webdriver</span><span class="selector-class">.chrome</span><span class="selector-class">.service</span> import Service</span><br></pre></td></tr></table></figure>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">service</span>=Service(executable_path=<span class="string">&quot;路径&quot;</span>)</span><br><span class="line"><span class="comment">#注：python存放路径引号内,如果/可以只写一个,但是如果\\要写两个</span></span><br></pre></td></tr></table></figure>
<p>设置好就可以驱动浏览器了</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">driver = webdriver.<span class="constructor">Chrome(<span class="params">service</span>=<span class="params">service</span>,<span class="params">options</span>=<span class="params">chrome_options</span>)</span></span><br></pre></td></tr></table></figure>
<p>随后便可以抓取网页资源</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">driver<span class="selector-class">.get</span>(url)</span><br><span class="line">url_get = driver<span class="selector-class">.page_source</span> <span class="selector-id">#url_get</span> 就是抓取下的网页</span><br><span class="line">driver<span class="selector-class">.close</span>()</span><br><span class="line">driver<span class="selector-class">.quit</span>()</span><br></pre></td></tr></table></figure>
<p>3.报错模块<br>
selenium虽然挺稳定，但有时因为网站连接不稳定，<br>
就会报错，中途寄掉的情况。。。经常会有<br>
特别是爬图，是需要爬到详细页面，页面数量也会倍增。<br>
报错一般有，加载timeout，selenium一个狗血的地方，timeout会<br>
让整个程序直接中断，所以一定要try，报错了让它except</p>
<p>selenium设置timeout的方式</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">browserset</span>.set_page_load_timeout(<span class="number">100</span>)</span><br><span class="line"><span class="attribute">browserset</span>.set_script_timeout(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<p>第一种是页面加载报timeout的错误，退出，第二种是脚本中止加载<br>
两者有点小区别，详细请百度。</p>
<p>驱动浏览器大致可以这么写</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#防空链接报错</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">printpause</span>(<span class="params">timepause</span>):</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;***访问超时，程序暂停***&#x27;</span>)</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;%d秒后继续&#x27;</span> %timepause)</span><br><span class="line">	time.sleep(timepause) <span class="comment">#报错会一时中止加载</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drivebrowser</span>():</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        browser=browser_set() <span class="comment">#browser_set()就是驱动浏览器的函数</span></span><br><span class="line">        <span class="keyword">return</span> browser <span class="comment">#如果try成功了就会return出browser</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        secends = random.randint(<span class="number">120</span>, <span class="number">150</span>) </span><br><span class="line">        printpause(secends) </span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;***重试请求***&#x27;</span>)</span><br><span class="line">            browser=browser_set()</span><br><span class="line">            <span class="keyword">return</span> browser </span><br><span class="line">		<span class="keyword">except</span>:         <span class="comment">#写多几层保险一点</span></span><br><span class="line">            printpause(<span class="number">150</span>)</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;***重试请求***&#x27;</span>)</span><br><span class="line">                browser=browser_set()</span><br><span class="line">                <span class="keyword">return</span> browser</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;***访问失败，程序继续***&#x27;</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>  <span class="comment">#实在不行就跳过了</span></span><br></pre></td></tr></table></figure>
<p>第二种报错就是访问超时的报错，也建议用try函数<br>
访问函数也可以照着上面写try，except，这里就不多写了</p>
<p>写了这么多try之后，我也在想应该不可能报错了，其实上还是<br>
会报的只不过几率很小很小，所以大型爬虫操作还是悠着点，<br>
几千秒的运行中间报了错可不是开玩笑的。。</p>
<p><img src="/image/928D_91_1.jpg" alt="2"></p>
<p>4.额额额什么？<br>
selenium无法正确抓取网页了？？<br>
现在的情况是，单是selenium的爬虫已经会被网站拦截了</p>
<p>搜索别人的经验后，了解到了防侦测脚本驱动浏览器的第三库</p>
<figure class="highlight elm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> undetected_chromedriver <span class="keyword">as</span> uc</span><br></pre></td></tr></table></figure>
<p>以下是抄的作业<br>
以咱的水平看不懂，但确实神奇的解决了问题</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">browser_set</span>():</span><br><span class="line">    <span class="comment">#浏览器引擎设置</span></span><br><span class="line">    options = webdriver.ChromeOptions()</span><br><span class="line">	<span class="comment">#取出chrome的option设置</span></span><br><span class="line">    options.add_argument(<span class="string">&quot;--headless&quot;</span>)</span><br><span class="line">	<span class="comment">#后台驱动chrome</span></span><br><span class="line">    <span class="comment"># 去除“Chrome正受到自动测试软件的控制”的显示</span></span><br><span class="line">    options.add_experimental_option(<span class="string">&quot;excludeSwitches&quot;</span>, [<span class="string">&quot;enable-automation&quot;</span>])</span><br><span class="line">    browserset = webdriver.Chrome(options=options)</span><br><span class="line">    <span class="comment"># 设置headers</span></span><br><span class="line">    browserset.execute_cdp_cmd(<span class="string">&quot;Network.setExtraHTTPHeaders&quot;</span>,</span><br><span class="line">                           &#123;<span class="string">&quot;headers&quot;</span>:</span><br><span class="line">                                &#123;</span><br><span class="line">                                    <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36&quot;</span>,</span><br><span class="line">                                    &#125;</span><br><span class="line">                            &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 防止网站检测selenium的webdriver</span></span><br><span class="line">    browserset.execute_cdp_cmd(<span class="string">&quot;Page.addScriptToEvaluateOnNewDocument&quot;</span>, &#123;</span><br><span class="line">        <span class="string">&quot;source&quot;</span>: <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">                Object.defineProperty(navigator, &#x27;webdriver&#x27;, &#123;</span></span><br><span class="line"><span class="string">                    get: () =&gt; False</span></span><br><span class="line"><span class="string">                &#125;)</span></span><br><span class="line"><span class="string">            &quot;&quot;&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    browserset.set_page_load_timeout(<span class="number">100</span>)</span><br><span class="line">    browserset.set_script_timeout(<span class="number">100</span>)</span><br><span class="line">    <span class="keyword">return</span> browserset</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>【测试】秀米</title>
    <url>/2023/11/05/%E7%A7%80%E7%B1%B3/</url>
    <content><![CDATA[<p class="test-p">
【测试】秀米
进入再进行查看
</p>
<span id="more"></span>
<style>
.test-p{
    display:none;
}
.post-body{
    text-align:center;
}

.post-meta-container{
    display:none;
}
/*
.post-body img{
    height:100%
}
.post-body img.collapsed{
    height:50%;
}*/



</style>
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script> 
/*  
$(document).ready(function() {
  $('.post-body>p').on('click', function() {
    $(this).toggleClass('collapsed');
  });
});*/
</script>
<p>“叮铃铃！！！”’<br>
一阵急促的闹钟声响起<br>
睁开似乎有些疲惫的双眼<br>
艰难的爬到床边打开手机<br>
“1月26日 11：30”<br>
奇怪…怎么起这么晚<br>
还能听见闹钟声<br>
<img src="mi11.png" alt="mi11.png"></p>
<p>没有理会这些<br>
还像往常一样<br>
解锁电量满格的手机<br>
开始愉快地玩耍<br>
这时响起了敲门声<br>
是来自父母的开饭提醒<br>
“人家都是刚放假起得晚<br>
你倒好放了这么久<br>
起的是越来越晚”<br>
<img src="mi10.png" alt="mi10.png"></p>
<p>“炒茄子，番茄炒蛋，炒虾仁，水煮鱼，蒜蓉青菜”<br>
不禁抱怨道：<br>
“妈，这饭怎么跟昨天的一样啊”<br>
<img src="mi9.png" alt="mi9.png"><br>
突然惊出一身冷汗<br>
昨天…前天…好像也是…<br>
匆忙翻开手机备忘录<br>
只见上面写着：<br>
“1月21号<br>
9点睁眼，起床，打开手机<br>
吃饭，到晚上，睡觉<br>
1月22号<br>
9点半睁眼，起床，打开手机<br>
吃饭，到晚上，睡觉<br>
1月23号<br>
10点睁眼，起床，打开手机<br>
吃饭，到晚上，睡觉<br>
……”<br>
每天都做着一样的事<br>
甚至吃着一样的饭<br>
而且一天比一天醒得晚了<br>
难道……<br>
<img src="mi8.png" alt="mi8.png"></p>
<p>是的，没错！<br>
按照《开端》的规律<br>
已经进入循环了！<br>
<img src="mi7.png" alt="mi7.png"></p>
<p>但是聪明机智的小管家<br>
已经找出了一些办法<br>
拯救自己<br>
避免荒废人生<br>
打破循环<br>
！！！<br>
第一：拯救亲情大作战<br>
睡得多一定会挨骂<br>
帮助父母做家务<br>
或许可以功过相抵<br>
比如吃完饭之后<br>
眼疾手快地收拾碗碟<br>
手机玩到没电了<br>
拿起扫帚拖把开启“寻宝”<br>
为自己找到更多打破循环的方法<br>
拖延时间<br>
顺便拯救睡眠耽误的家庭和睦<br>
<img src="mi6.png" alt="mi6.png"><br>
第二：改变餐桌大作战<br>
每天饭菜一成不变<br>
才让小管家发现了循环<br>
贸然点菜容易让“一”失败<br>
不如自己动手操练起来<br>
面对厨房高高的灶台<br>
不再望而却步<br>
鼓起勇气<br>
说不定还可以趁机<br>
点亮厨师天赋！<br>
<img src="mi5.png" alt="mi5.png"><br>
没有菜谱可不是借口<br>
网络时代动动小手<br>
电子菜谱马上拥有<br>
快来尝试一下吧<br>
浅试一下<br>
做循环里做米其林大厨<br>
<img src="mi4.png" alt="mi4.png"><br>
第三：循环的循环大作战<br>
如果在循环里<br>
为什么不做最循环的事呢<br>
<img src="mi3.png" alt="mi3.png"><br>
无论是冬日必不可少的围巾<br>
或是寓意安康的平安符<br>
是毛茸茸的可爱挎包<br>
又或者包上小巧的挂件<br>
都能在循环循环的同时<br>
给收到这份心意的人<br>
带来冬日里难得的温暖<br>
喂！在循环里循环<br>
这超酷的！</p>
<p>第四：知识就是力量大作战<br>
虽说假期里看书<br>
常常被视为“卷王行为”<br>
可循环外的人又怎么会知道呢<br>
况且“知识就是力量”<br>
在循环的无穷时间里<br>
用来偷偷升华灵魂<br>
等出了循环<br>
不就类似“一夜暴富”了吗<br>
<img src="mi2.png" alt="mi2.png"><br>
办法是差不多了<br>
能否打破循环<br>
就看个人造化了<br>
<img src="mi1.png" alt="mi1.png"></p>
<p>“1月27号<br>
12点睁眼，起床，打开手机<br>
吃饭，到晚上，睡觉<br>
……”<br>
等等<br>
每天睡觉的时间一样<br>
醒的时间越来越晚<br>
如果一直这样下去<br>
不快点采取行动<br>
等到24点醒24点睡的时候<br>
岂不是就永远困在循环里了</p>
]]></content>
      <categories>
        <category>测试</category>
      </categories>
  </entry>
  <entry>
    <title>繁城之下</title>
    <url>/2023/11/05/%E7%B9%81%E5%9F%8E%E4%B9%8B%E4%B8%8B/</url>
    <content><![CDATA[<p>《繁城之下》的我们为啥爱推理？<br>
在一个社会里，只有当人们对“人之所以为人”有更复杂的想法，更高度的多元的好奇时，推理小说才会出现。</p>
<span id="more"></span>
<p>我们到底有没有认真了解过一个人？	<br>
曾经看过一个故事，一个人在整理妈妈的遗物时翻到了一本老相册，褪色老照片中一位身着皮裙、头顶墨镜的靓丽女人站在天安门前展露笑容，时髦洋装的打扮放在今天也很也很大胆——天哪，那竟然是他妈。<br>
他似乎从来都没有想到过自己的妈妈也曾是个妙龄少女，那个私下母亲标签的女孩儿竟如此陌生，朴素谨慎的妈妈竟也有鲜衣怒马的时刻。记忆的妈妈突然变得亲切又陌生。也许即使是我们最亲之人我们也没有完整地了解过他们。<br>
<img src="%E5%9B%BE%E4%B8%80.jpg" alt="图一.jpg"><br>
曲三更想必也是这感受。师父遇害后的线索暗示师傅曾经参与过极为肮脏的案件，师父在地下室尘封自备的棺材中竟藏有万两白银。<br>
记忆中的师傅明辨是非、为人热心肠，在父亲死后就一直帮助他们孤儿寡母，身为捕头却从不压榨百姓，打压本地帮派，把县衙捕快治理地极为本分，县城之内威望十足。<br>
但容不得他想那么多，顶着质疑他必须把师父的死因调查清楚，给所有人一个交代，也给自己一个交代。怀疑痛苦之后，“不管怎样，他都是我师父”。<br>
他一定要手刃凶手，仇恨像一粒种子生根，故事也开始开枝散叶。<br>
<img src="%E5%9B%BE%E4%BA%8C.jpg" alt="图二.jpg"><br>
师父的死很蹊跷，光天化日曝尸野外，还留下一句“吾道一以贯之”。这件事在城中越穿越神，这正是凶手想要的——他要喊冤！<br>
每杀一人便留下《论语》中的一句，“吾道一以贯之”、“童子六七人”、“非其鬼而祭之”、“获罪于天，无所祷也“、、、、、、一场连环凶杀案接踵而来，相必是血海深仇。<br>
子曰：”参乎，吾道一以贯之“。曾子曰：”夫子之道，忠恕而已矣“。<br>
对冷捕头而言，维护公道是忠，为人伸冤是恕。那么相对的，渎职枉法是不忠，草菅人命是不恕。<br>
难道师父曾如此不堪？他要问个清楚，他想为师父正名却发现师父污点铁证，他想手刃凶手却发现对方有更加深重的仇恨，该向谁复仇？<br>
<img src="%E5%9B%BE%E4%B8%89.jpg" alt="图三.jpg"><br>
回想起来，好多人都有冤，好多人都有仇。<br>
曲三更要报仇，凶手要报仇，风可追要给舅舅王夫之报仇，就连县衙铁打的宋典史，换了几任县太爷都不变的县衙二把手都有仇要报。<br>
宋典史自幼神童，年轻时富有才华名动天下，进京赶考原本定为会试第一，却不料陷入针对主考官的党政之中，污名为考场舞弊，距功名一步之遥却下了天牢，受尽酷刑被折磨成残废，再也无法握笔，屈打成招供出好友，好友不堪其辱上吊自缢。<br>
主考官势力获胜后出狱，虽正了名却无法堪用，皇上可怜他就赐了他一个县的典史之职——掌管刑狱，连县长都不如。<br>
<img src="%E5%9B%BE%E5%9B%9B.jpg" alt="图四.jpg"><br>
他看着自己那些受过刑的皮肉一点点烂掉。他原本以为生死是一道门槛，这边是生、那边是死，只是一瞬间的事，可后来他才明白，原来死可以很漫长，人也可以一点一点的死，<br>
直到有一天牢门开了，有人进来告诉他你的案子翻案了，可这个时候他已经死掉了一半，那一半已经变成了鬼，再也变不回人了。<br>
回去之后他就在自己的皮肉上纹了一只睚眦，睚眦是一种复仇的凶兽。<br>
谁造成了他的惨剧？他该向谁复仇？宋典史的最大的冤甚至不在大牢中，宋典史当年书画一绝，被称为吴门第一才子，归乡之时虽然已经翻案，可邻人乡里却怎么也不信他是被冤枉的，悠悠众口议论的都是他花了多少银子，走了谁的门路，如何上下打点，怎样免了官司。<br>
他与好友一起长大，情同手足，却因他挺刑不过出卖了他，他之能一死以证清白。<br>
即便朝廷昭告天下，还他会元，他的右手还是拿不起笔，邻人乡里还是说他使了银钱，好友还是含恨而终。<br>
可上本举报的御史言官，让他致残的刑部堂官，忙于党政的朝廷大臣，还有一口咬死他舞弊贿赂的愚民庸众，却没有一个人收到惩罚。<br>
冤不能平，仇无处报，唯有打点刑狱付诸余生。冤有头债有主，但最怕的就是这无主之冤。<br>
<img src="%E5%9B%BE%E4%BA%94.jpg" alt="图五.jpg"><br>
<img src="%E5%9B%BE%E5%85%AD.jpg" alt="图六.jpg"><br>
看到别人生活的片段毫无意义，我们从一开始爱拔人牙认识宋典史，随后通过一件件事情逐步了解他的一生，感慨他的仇恨。<br>
这便是推理。罗翔老师说，世界上存在他人的人生碎片，在经历的时候非常荒谬而感觉不到意义。<br>
这些碎片并非毫无意义只是我们并不理解而已，但推理就是把这些碎片拼接起来，拼接成对世界的一种看法，最后大白于天下。<br>
每个人发生的每件事情都不是理所当然的。你要像个侦探一样，去看你得到的证据，推出你的至少令自己信服的东西。<br>
如果我们在消费别人给我们的推理作品，整个社会的推理能力却迟迟没有建立起来。这不是简单的问题。这意味着我们没有建立起理解“人”的理性思考和辩论习惯。<br>
我们在用一种粗糙的方式理解＂人”。<br>
在一个社会里，只有当人们对“人之所以为人”有更复杂的想法、更高度的多元的好奇时，推理才会出现。<br>
安伯托·艾柯曾经批判意大利的社会说，一个社会的推理小说可以进步到什么样的程度，也就说明了这是一个什么样的社会。</p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
  </entry>
  <entry>
    <title>【搬运】HTML5游戏 糖豆人</title>
    <url>/2023/10/08/%E7%B3%96%E8%B1%86%E4%BA%BA%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[<p><a href="https://github.com/mumuy/pacman">搬运Pacman 吃豆游戏</a><br>
—占位—</p>
<p>—占位—</p>
<span id="more"></span>
<link rel="shortcut icon" href="/image/favicon.png">
<style>
	.mod-game .info{
		padding: 10px 0;
		margin-bottom: 5px;
		line-height: 20px;
		text-align: center;
		color: #666;
	}
	.mod-game .info p{
		line-height: 20px;
		font-size: 14px;
		color: #666;
	}
	.mod-game .intro{
		padding: 10px 15px;
		background: #f8f8f8;
		border-radius: 5px;
	}
	.mod-game .intro p{
		line-height: 22px;
		text-indent: 2em;
		font-size: 14px;
		color: #666;
	}
	.mod-button{
		height: 32px;
		padding: 15px 0;
		text-align: center;
	}
	.mod-button span,.mod-button a{
		vertical-align: middle;
	}
	.mod-button .btn{
		display: inline-block;
		padding: 0 12px;
		line-height: 26px;
		color: #24292f;
		border: 1px solid #dddede;
		text-decoration: none;
		font-size: 13px;
		color: #24292f;
		border-radius: 2px;
	}
</style>
<div class="wrapper">
	<div class="mod-game">
		<canvas id="pacman_canvas" width="960" height="640">不支持画布</canvas>
		<div class="info">
			<p>按 [空格键] 暂停或继续</p>
		</div>	
	</div>
</div>
<script src="/js/pacman_game.js"></script>
<script src="/js/pacman_index.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
]]></content>
      <categories>
        <category>HTML游戏</category>
      </categories>
  </entry>
  <entry>
    <title>继承者之战</title>
    <url>/2023/10/28/%E7%BB%A7%E6%89%BF%E8%80%85%E4%B9%8B%E6%88%98/</url>
    <content><![CDATA[<p>能击败我们的，只有我们自己！<br>
<img src="%E5%9B%BE%E4%B8%80.jpg" alt="图一.jpg"></p>
<span id="more"></span>
<p>曾获得诸多奖项的美剧《继承之战》（Succession）第四季近日播出大结局，整部剧集也正式落下帷幕。它讲述了虚构的全球最大媒体娱乐集团控制者罗伊家族针对公司继承权的内斗，充斥着莎士比亚文学色彩。<br>
在最终季里，年迈的公司掌舵人罗根·罗伊去世，这场继承之战的胜利者也以出人意料的方式揭晓。不难看出，这部剧参考了媒体大亨默多克的经历和家族关系，许多人也对其中超级富豪生活细节的真实性予以认可。<br>
那么现实世界中的默多克以及其他富豪，也会上演跌宕起伏的“继承之战”吗？他们会如何分配自己庞大的商业帝国？<br>
<img src="%E5%9B%BE%E4%BA%8C.jpg" alt="图二.jpg"><br>
《继承之战》巧妙地抓住了超级富豪生活中的愤怒、自我怀疑和家庭内部冲突等元素。<br>
伦敦商学院组织行为学教授奈杰尔·尼科尔森指出， 《继承之战》描述了富豪家族的两大经典冲突，一个是亲子冲突，另一个是手足之争。手足之争是年轻一代争夺父母的资源和注意力，代际冲突是父母对孩子的质疑。<br>
与剧集相比，这两大冲突在默多克家族中体现得更加淋漓尽致。<br>
媒体传奇人物鲁珀特·默多克出生于澳大利亚墨尔本，其麾下的新闻集团目前是全球最大的跨国媒体集团之一。据《福布斯》杂志统计，默多克家族目前以170亿美元的资产排名全球富豪榜第97位。<br>
如今默多克已经92岁，健康状况每况愈下。经过几任妻子和6个孩子多年的“权力斗争”，目前默多克的分配规划是：他与第一任妻子生育的大女儿，和第三任妻子邓文迪生育的两个00后女儿，能够继承家族信托基金的一定份额，但与公司管理无关。而第二任妻子安娜的三个孩子—54岁的安娜·伊丽莎白、51岁的拉克兰和50岁的詹姆斯中的一位，将来会接管家族企<br>
业。<br>
<img src="%E5%9B%BE%E4%B8%89.jpg" alt="图三.jpg"><br>
伊丽莎白性格犀利，与父亲多次发生冲突，并一直批评他的保守政治观点，已经早早退出“继承之战”。而拉克兰和詹姆斯之间的明争暗斗已经持续多年，拉克兰性格随和，詹姆斯则咄咄逼人。<br>
2005年，拉克兰因与福克斯新闻首席运营官发生冲突，离开新闻集团回到悉尼。詹姆斯接下了哥哥的工作，并在接下来的十年里步步高升。但他自由主义的政治立场激怒了默多克，2015年，拉克兰又被默多克召回继续做他的接班人，但默多克始终对他的性格不满。默多克过世后拉克兰能否顺利接管集团还是个谜。<br>
伊丽莎白性格犀利，与父亲多次发生冲突，并一直批评他的保守政治观点，已经早早退出“继承之战”。而拉克兰和詹姆斯之间的明争暗斗已经持续多年，拉克兰性格随和，詹姆斯则咄咄逼人。<br>
2005年，拉克兰因与福克斯新闻首席运营官发生冲突，离开新闻集团回到悉尼。詹姆斯接下了哥哥的工作，并在接下来的十年里步步高升。但他自由主义的政治立场激怒了默多克，2015年，拉克兰又被默多克召回继续做他的接班人，但默多克始终对他的性格不满。默多克过世后拉克兰能否顺利接管集团还是个谜。<br>
除了默多克家族，近年来欧美最受关注的继承之战是沃尔玛争夺战。沃尔玛超市创始人山姆沃尔顿于1992年去世后留下数百亿美元遗产。他的三个孩子罗布森·沃尔顿、吉姆·沃尔顿和爱丽丝·沃尔顿为此官司不断。<br>
其中一场纠纷涉及山姆·沃尔顿在沃尔玛公司35%的股份所有权。三个孩子原本同意平分股份，但吉姆·沃尔顿后来改变了主意，想为自己保留更多的股份。这场纠纷最终在庭外和解，吉姆·沃尔顿同意让他的兄弟姐妹持有沃尔玛1.5%的股份，以换取他们同意让他保留剩余的33.5%股份。<br>
另一起纠纷涉及山姆·沃尔顿在爱丽丝创建的Arvest银行中的50%股份。三个孩子也同意平分，但爱丽丝后来同样改变了主意。这场纠纷最终也在庭外和解，爱丽丝同意出让25%的股份，自己保留另一半。<br>
<img src="%E5%9B%BE%E5%9B%9B.jpg" alt="图四.jpg"><br>
与沃尔顿家族类似的继承权纠纷，可能就是美国富裕家庭最大的苦恼。咨询公司埃森哲2022年报告预计，在未来30年内，美国的婴儿潮一代（1944至1964年）将逐渐离世，为子孙留下总额30万亿美元的遗产。这将是美国历史上最大规模的财富转移，也会带来无尽的冲突。<br>
在财富巨大的家族之中，如何平衡家庭内部的权力分配，保持资产的持续增值，同时还要对下一代进行适度的激励和引导，无疑是一个复杂的问题。<br>
“一些富豪家庭的孩子可能没有上进心。”治疗师克莱科·克雷尔表示，“为什么要上大学？为什么要创业？为什么要努力工作？当你所有的财务需求都得到满足时，你的自尊和自信其实就会受损。” 他从剧集里罗伊家族的孩子们身上看到了同样的问题， “他们虚张声势，但在其背后却隐藏着肤浅和恐惧。”<br>
美国历史上二代败家最经典的例子是阿斯特家族，该家族曾是美国首富，凭借皮毛和房地产生意积累了巨大的财富。但家族第四代约翰·雅各布·阿斯特登上了1912年的泰坦尼克号。在轮船撞上冰山沉没后，他的妻子登上救生艇获救，而阿斯特本人则随船葬身海底。<br>
这对夫妻的儿子继承了父亲的8500万美元遗产（约合2022年的26亿美元），随后大肆购买豪车，还染上了赌瘾，五年内就将财产挥霍一空，自己也被诊断出精神疾病，阿斯特家族就此从美国上层社会消失。<br>
<img src="%E5%9B%BE%E4%BA%94.jpg" alt="图五.jpg"><br>
另一个因继承人能力不行而被除名的家族是杜克家族。这个家族的创建者是美国烟草和电力实业家詹姆斯·布坎南·杜克，他一度控制着美国90%的卷烟市场。他曾向三一学院捐赠了4000万美元，后者更名为杜克大学。<br>
1925年，詹姆斯去世，将相当于现在20亿美元的财产留给了四个儿子。这四个人也大肆挥霍，又完成若干糟糕的投资。到1950年代，杜克家族的资产已经荡然无存，只有如今在美国排名前十的杜克大学的名字，提醒着公众留意历史上这个短命富豪家族的存在。<br>
为了避免类似的悲剧， 《华盛顿邮报》采访的一位白手起家的亿万富翁作出了很好的示范。他和妻子都在中产阶级家庭中长大。他们财务规划的目标是：如果夫妇二人突然去世，孩子们也能过上好日子，但又不至于让他们失去奋斗的目标。<br>
所以他们为每个正在上大学的孩子设立了信托基金。每个孩子都有250万美元的资金由受托人管理。在孩子40岁以前，这笔钱只能用于教育、医疗保健、购买房屋或创业，之后才可以自由使用。这位富豪认为，人到四十岁时，才足够成熟，能明智地管理大额资金。<br>
埃森哲报告发现，从2012年到现在，美国有12万亿美元的财富传给了下一代，大部分都是通过信托基金的方式。通行的做法是在继承人25岁时给予三分之一，在30岁时给予三分之一，剩余的在35岁时全部给予。另一种方式是设置“激励信托”，规定了子女必须完成特定任务才能逐步解封遗产，如继承人必须大学毕业、结婚或找到正式工作等。<br>
此外，诸如比尔·盖茨、巴菲特等人的做法开拓了另一种趋势，那就是将财富用于社会公益，而不是全部留给自己的子女。<br>
<img src="%E5%9B%BE%E5%85%AD.jpg" alt="图六.jpg"><br>
盖茨曾公开表示，如果子女继承了太多的遗产，可能会对他们的成长产生不良影响。他们的三个孩子仅会继承数千万美元的遗产，每个人获得的部分相当于盖茨和前妻梅琳达总资产的0.008%。<br>
股神沃伦·巴菲特为他的三个孩子每人设立了一个20亿美元的基金会，而他的其他财产，早在2006年就已经宣布将全部捐给慈善事业。正如巴菲特所说，留给孩子的最佳金额是“足够的钱让他们觉得可以做任何事，但不至于让他们无所事事”。</p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
  </entry>
  <entry>
    <title>【电影】血观音</title>
    <url>/2023/10/21/%E8%A1%80%E8%A7%82%E9%9F%B3/</url>
    <content><![CDATA[<p>血观音</p>
<p>“炉台上陈列着翡翠鼻烟壶与象牙观音像，沙发前围着斑竹小屏风。”伴随着一大段环境描写，上世纪40年代，《第一炉香》在《紫罗兰》杂志上连载，助张爱玲走红上海滩。而如今，有一部电影再次勾起了观众对它的回忆，电影中的女性，不能不叫人想起张爱玲笔下的葛薇龙。这部电影，就是2018年金马奖的最佳影片《血观音》。</p>
 <span id="more"></span>
<p><img src="%E5%9B%BE%E4%B8%80.png" alt="图1.png"></p>
<p>《血观音》是2017年台湾影坛的一个惊喜，电影中的三代女性（棠夫人—棠宁—棠真）相互博弈，演绎出热带都市里活生生的修罗场。棠夫人是将军遗孀，身段柔软，处处含笑，杀人于无形。她看似政治掮客，却操持大局，为达目的，不惜牺牲骨肉。棠真原本有爱，奈何自小活在满是嘲笑与算计的棋局，她在对林翩翩的“报复”中冷酷自我，在跳车致残的一刻对世界死心。棠夫人要留下她，因为她们是一类人。相比之下，棠宁夹在她二人之间，虽极尽魅惑、看透人心，却只是被辜负的棋子。<br>
电影中心眼最多的就是导演杨雅喆，以强烈的镜头暗示不断说明人物之间的关系，令人颇为叫绝。<br>
<img src="%E5%9B%BE%E4%BA%8C.png" alt="图二.png"><br>
母女对峙时，月影的头上供着佛经，棠宁的身后是鲜艳的彼岸花，而在片中出镜率极高的代表人性之恶的红苹果（这剧组买的苹果还真红！让身边的橘子和葡萄黯然失色），在给佛上供。</p>
<p><img src="%E5%9B%BE%E4%B8%89.png" alt="图三.png"><br>
<img src="%E5%9B%BE%E5%9B%9B.png" alt="图四.png"><br>
王夫人的手，盖在了棠夫人手上，但缺乏特写buff加持，这个气势是虚的。看到这里，王夫人简直是大Boss一般的存在，观众们都被棠夫人的扮猪吃老虎蒙蔽了双眼，以为王夫人相当牛逼，大家都要围着她转。</p>
<p>这本书上的小皇冠，最终确实落到了冯建刚头上，与结尾相照应，不仅暗示了冯建刚的最终胜利，也交代了棠夫人尽管算尽的动机。<br>
<img src="%E5%9B%BE%E4%BA%94.png" alt="图五.png"><br>
<img src="%E5%9B%BE%E5%85%AD.png" alt="图六.png"><br>
总而言之血观音的暗示还有很多宛如一个挖不完的宝藏，处处留意处处有惊喜。但总体的感觉还是压抑的，没有一个相对正面的英雄角色，每一个人都在费尽心机地利用别人。人的丑恶溢出华美的衣服，愈加黑暗。<br>
《血观音》是一部近乎黑暗的电影，唯一让我温暖的地方，或许就是棠宁还未泯灭的善念。<br>
在《血观音》里，棠宁的结局，可说是明明白白。棠真忽而回头，冰冷大海上的爆炸声，海上花开，尸骨无存。棠宁的自由之路成为死亡的通道，但即便没有这一幕，即便她真的逃亡到了缅甸，她的生活会好起来吗？一个瘾君子，失去了家庭华贵的支撑，结果可想而知。当烟蒂熄灭，花开又谢，待到“年深日久，羽毛暗了霉了，给虫蛀了”，留给异乡女子的，终究是寒冷与黑暗。<br>
——节选自豆瓣</p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
  </entry>
  <entry>
    <title>搬运资料</title>
    <url>/2023/09/26/%E8%B5%84%E6%96%99/</url>
    <content><![CDATA[<p>hexo单设备部署多个服务器<br>
<a href="https://zhuanlan.zhihu.com/p/69218641">引用文章</a><br>
毕竟github可以免费提供网页部署，github注册方式<br>
又很简单，所以多账号部署并不是难事</p>
<span id="more"></span>
<p><img src="/image/2.jpeg" alt="1"></p>
]]></content>
      <categories>
        <category>测试</category>
      </categories>
  </entry>
</search>
